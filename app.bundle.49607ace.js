/*! For license information please see app.bundle.49607ace.js.LICENSE.txt */
(()=>{var e={187:(e,t)=>{"use strict";function n(e){if(!Number.isSafeInteger(e))throw new Error(`Wrong integer: ${e}`)}function r(...e){const t=(e,t)=>n=>e(t(n));return{encode:Array.from(e).reverse().reduce(((e,n)=>e?t(e,n.encode):n.encode),void 0),decode:e.reduce(((e,n)=>e?t(e,n.decode):n.decode),void 0)}}function i(e){return{encode:t=>{if(!Array.isArray(t)||t.length&&"number"!=typeof t[0])throw new Error("alphabet.encode input should be an array of numbers");return t.map((t=>{if(n(t),t<0||t>=e.length)throw new Error(`Digit index outside alphabet: ${t} (alphabet: ${e.length})`);return e[t]}))},decode:t=>{if(!Array.isArray(t)||t.length&&"string"!=typeof t[0])throw new Error("alphabet.decode input should be array of strings");return t.map((t=>{if("string"!=typeof t)throw new Error(`alphabet.decode: not string element=${t}`);const n=e.indexOf(t);if(-1===n)throw new Error(`Unknown letter: "${t}". Allowed: ${e}`);return n}))}}}function o(e=""){if("string"!=typeof e)throw new Error("join separator should be string");return{encode:t=>{if(!Array.isArray(t)||t.length&&"string"!=typeof t[0])throw new Error("join.encode input should be array of strings");for(let e of t)if("string"!=typeof e)throw new Error(`join.encode: non-string input=${e}`);return t.join(e)},decode:t=>{if("string"!=typeof t)throw new Error("join.decode input should be string");return t.split(e)}}}function s(e,t="="){if(n(e),"string"!=typeof t)throw new Error("padding chr should be string");return{encode(n){if(!Array.isArray(n)||n.length&&"string"!=typeof n[0])throw new Error("padding.encode input should be array of strings");for(let e of n)if("string"!=typeof e)throw new Error(`padding.encode: non-string input=${e}`);for(;n.length*e%8;)n.push(t);return n},decode(n){if(!Array.isArray(n)||n.length&&"string"!=typeof n[0])throw new Error("padding.encode input should be array of strings");for(let e of n)if("string"!=typeof e)throw new Error(`padding.decode: non-string input=${e}`);let r=n.length;if(r*e%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;r>0&&n[r-1]===t;r--)if(!((r-1)*e%8))throw new Error("Invalid padding: string has too much padding");return n.slice(0,r)}}}function a(e){if("function"!=typeof e)throw new Error("normalize fn should be function");return{encode:e=>e,decode:t=>e(t)}}function c(e,t,r){if(t<2)throw new Error(`convertRadix: wrong from=${t}, base cannot be less than 2`);if(r<2)throw new Error(`convertRadix: wrong to=${r}, base cannot be less than 2`);if(!Array.isArray(e))throw new Error("convertRadix: data should be array");if(!e.length)return[];let i=0;const o=[],s=Array.from(e);for(s.forEach((e=>{if(n(e),e<0||e>=t)throw new Error(`Wrong integer: ${e}`)}));;){let e=0,n=!0;for(let o=i;o<s.length;o++){const a=s[o],c=t*e+a;if(!Number.isSafeInteger(c)||t*e/t!==e||c-a!=t*e)throw new Error("convertRadix: carry overflow");if(e=c%r,s[o]=Math.floor(c/r),!Number.isSafeInteger(s[o])||s[o]*r+e!==c)throw new Error("convertRadix: carry overflow");n&&(s[o]?n=!1:i=o)}if(o.push(e),n)break}for(let t=0;t<e.length-1&&0===e[t];t++)o.push(0);return o.reverse()}Object.defineProperty(t,"__esModule",{value:!0}),t.bytes=t.stringToBytes=t.str=t.bytesToString=t.hex=t.utf8=t.bech32m=t.bech32=t.base58check=t.base58xmr=t.base58xrp=t.base58flickr=t.base58=t.base64url=t.base64=t.base32crockford=t.base32hex=t.base32=t.base16=t.utils=t.assertNumber=void 0,t.assertNumber=n;const h=(e,t)=>t?h(t,e%t):e,l=(e,t)=>e+(t-h(e,t));function u(e,t,r,i){if(!Array.isArray(e))throw new Error("convertRadix2: data should be array");if(t<=0||t>32)throw new Error(`convertRadix2: wrong from=${t}`);if(r<=0||r>32)throw new Error(`convertRadix2: wrong to=${r}`);if(l(t,r)>32)throw new Error(`convertRadix2: carry overflow from=${t} to=${r} carryBits=${l(t,r)}`);let o=0,s=0;const a=2**r-1,c=[];for(const i of e){if(n(i),i>=2**t)throw new Error(`convertRadix2: invalid data word=${i} from=${t}`);if(o=o<<t|i,s+t>32)throw new Error(`convertRadix2: carry overflow pos=${s} from=${t}`);for(s+=t;s>=r;s-=r)c.push((o>>s-r&a)>>>0);o&=2**s-1}if(o=o<<r-s&a,!i&&s>=t)throw new Error("Excess padding");if(!i&&o)throw new Error(`Non-zero padding: ${o}`);return i&&s>0&&c.push(o>>>0),c}function d(e){return n(e),{encode:t=>{if(!(t instanceof Uint8Array))throw new Error("radix.encode input should be Uint8Array");return c(Array.from(t),256,e)},decode:t=>{if(!Array.isArray(t)||t.length&&"number"!=typeof t[0])throw new Error("radix.decode input should be array of strings");return Uint8Array.from(c(t,e,256))}}}function f(e,t=!1){if(n(e),e<=0||e>32)throw new Error("radix2: bits should be in (0..32]");if(l(8,e)>32||l(e,8)>32)throw new Error("radix2: carry overflow");return{encode:n=>{if(!(n instanceof Uint8Array))throw new Error("radix2.encode input should be Uint8Array");return u(Array.from(n),8,e,!t)},decode:n=>{if(!Array.isArray(n)||n.length&&"number"!=typeof n[0])throw new Error("radix2.decode input should be array of strings");return Uint8Array.from(u(n,e,8,t))}}}function p(e){if("function"!=typeof e)throw new Error("unsafeWrapper fn should be function");return function(...t){try{return e.apply(null,t)}catch(e){}}}function y(e,t){if(n(e),"function"!=typeof t)throw new Error("checksum fn should be function");return{encode(n){if(!(n instanceof Uint8Array))throw new Error("checksum.encode: input should be Uint8Array");const r=t(n).slice(0,e),i=new Uint8Array(n.length+e);return i.set(n),i.set(r,n.length),i},decode(n){if(!(n instanceof Uint8Array))throw new Error("checksum.decode: input should be Uint8Array");const r=n.slice(0,-e),i=t(r).slice(0,e),o=n.slice(-e);for(let t=0;t<e;t++)if(i[t]!==o[t])throw new Error("Invalid checksum");return r}}}t.utils={alphabet:i,chain:r,checksum:y,radix:d,radix2:f,join:o,padding:s},t.base16=r(f(4),i("0123456789ABCDEF"),o("")),t.base32=r(f(5),i("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),s(5),o("")),t.base32hex=r(f(5),i("0123456789ABCDEFGHIJKLMNOPQRSTUV"),s(5),o("")),t.base32crockford=r(f(5),i("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),o(""),a((e=>e.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1")))),t.base64=r(f(6),i("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),s(6),o("")),t.base64url=r(f(6),i("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),s(6),o(""));const g=e=>r(d(58),i(e),o(""));t.base58=g("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),t.base58flickr=g("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"),t.base58xrp=g("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz");const w=[0,2,3,5,6,7,9,10,11];t.base58xmr={encode(e){let n="";for(let r=0;r<e.length;r+=8){const i=e.subarray(r,r+8);n+=t.base58.encode(i).padStart(w[i.length],"1")}return n},decode(e){let n=[];for(let r=0;r<e.length;r+=11){const i=e.slice(r,r+11),o=w.indexOf(i.length),s=t.base58.decode(i);for(let e=0;e<s.length-o;e++)if(0!==s[e])throw new Error("base58xmr: wrong padding");n=n.concat(Array.from(s.slice(s.length-o)))}return Uint8Array.from(n)}},t.base58check=e=>r(y(4,(t=>e(e(t)))),t.base58);const b=r(i("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),o("")),m=[996825010,642813549,513874426,1027748829,705979059];function v(e){const t=e>>25;let n=(33554431&e)<<5;for(let e=0;e<m.length;e++)1==(t>>e&1)&&(n^=m[e]);return n}function x(e,t,n=1){const r=e.length;let i=1;for(let t=0;t<r;t++){const n=e.charCodeAt(t);if(n<33||n>126)throw new Error(`Invalid prefix (${e})`);i=v(i)^n>>5}i=v(i);for(let t=0;t<r;t++)i=v(i)^31&e.charCodeAt(t);for(let e of t)i=v(i)^e;for(let e=0;e<6;e++)i=v(i);return i^=n,b.encode(u([i%2**30],30,5,!1))}function E(e){const t="bech32"===e?1:734539939,n=f(5),r=n.decode,i=n.encode,o=p(r);function s(e,n=90){if("string"!=typeof e)throw new Error("bech32.decode input should be string, not "+typeof e);if(e.length<8||!1!==n&&e.length>n)throw new TypeError(`Wrong string length: ${e.length} (${e}). Expected (8..${n})`);const r=e.toLowerCase();if(e!==r&&e!==e.toUpperCase())throw new Error("String must be lowercase or uppercase");const i=(e=r).lastIndexOf("1");if(0===i||-1===i)throw new Error('Letter "1" must be present between prefix and data only');const o=e.slice(0,i),s=e.slice(i+1);if(s.length<6)throw new Error("Data must be at least 6 characters long");const a=b.decode(s).slice(0,-6),c=x(o,a,t);if(!s.endsWith(c))throw new Error(`Invalid checksum in ${e}: expected "${c}"`);return{prefix:o,words:a}}return{encode:function(e,n,r=90){if("string"!=typeof e)throw new Error("bech32.encode prefix should be string, not "+typeof e);if(!Array.isArray(n)||n.length&&"number"!=typeof n[0])throw new Error("bech32.encode words should be array of numbers, not "+typeof n);const i=e.length+7+n.length;if(!1!==r&&i>r)throw new TypeError(`Length ${i} exceeds limit ${r}`);return`${e=e.toLowerCase()}1${b.encode(n)}${x(e,n,t)}`},decode:s,decodeToBytes:function(e){const{prefix:t,words:n}=s(e,!1);return{prefix:t,words:n,bytes:r(n)}},decodeUnsafe:p(s),fromWords:r,fromWordsUnsafe:o,toWords:i}}t.bech32=E("bech32"),t.bech32m=E("bech32m"),t.utf8={encode:e=>(new TextDecoder).decode(e),decode:e=>(new TextEncoder).encode(e)},t.hex=r(f(4),i("0123456789abcdef"),o(""),a((e=>{if("string"!=typeof e||e.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof e} with length ${e.length}`);return e.toLowerCase()})));const k={utf8:t.utf8,hex:t.hex,base16:t.base16,base32:t.base32,base64:t.base64,base64url:t.base64url,base58:t.base58,base58xmr:t.base58xmr},_=`Invalid encoding type. Available types: ${Object.keys(k).join(", ")}`;t.bytesToString=(e,t)=>{if("string"!=typeof e||!k.hasOwnProperty(e))throw new TypeError(_);if(!(t instanceof Uint8Array))throw new TypeError("bytesToString() expects Uint8Array");return k[e].encode(t)},t.str=t.bytesToString,t.stringToBytes=(e,t)=>{if(!k.hasOwnProperty(e))throw new TypeError(_);if("string"!=typeof t)throw new TypeError("stringToBytes() expects string");return k[e].decode(t)},t.bytes=t.stringToBytes},452:function(e,t,n){var r;e.exports=(r=n(249),n(269),n(214),n(888),n(109),function(){var e=r,t=e.lib.BlockCipher,n=e.algo,i=[],o=[],s=[],a=[],c=[],h=[],l=[],u=[],d=[],f=[];!function(){for(var e=[],t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;var n=0,r=0;for(t=0;t<256;t++){var p=r^r<<1^r<<2^r<<3^r<<4;p=p>>>8^255&p^99,i[n]=p,o[p]=n;var y=e[n],g=e[y],w=e[g],b=257*e[p]^16843008*p;s[n]=b<<24|b>>>8,a[n]=b<<16|b>>>16,c[n]=b<<8|b>>>24,h[n]=b,b=16843009*w^65537*g^257*y^16843008*n,l[p]=b<<24|b>>>8,u[p]=b<<16|b>>>16,d[p]=b<<8|b>>>24,f[p]=b,n?(n=y^e[e[e[w^y]]],r^=e[e[r]]):n=r=1}}();var p=[0,1,2,4,8,16,32,64,128,27,54],y=n.AES=t.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var e=this._keyPriorReset=this._key,t=e.words,n=e.sigBytes/4,r=4*((this._nRounds=n+6)+1),o=this._keySchedule=[],s=0;s<r;s++)s<n?o[s]=t[s]:(h=o[s-1],s%n?n>6&&s%n==4&&(h=i[h>>>24]<<24|i[h>>>16&255]<<16|i[h>>>8&255]<<8|i[255&h]):(h=i[(h=h<<8|h>>>24)>>>24]<<24|i[h>>>16&255]<<16|i[h>>>8&255]<<8|i[255&h],h^=p[s/n|0]<<24),o[s]=o[s-n]^h);for(var a=this._invKeySchedule=[],c=0;c<r;c++){if(s=r-c,c%4)var h=o[s];else h=o[s-4];a[c]=c<4||s<=4?h:l[i[h>>>24]]^u[i[h>>>16&255]]^d[i[h>>>8&255]]^f[i[255&h]]}}},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,s,a,c,h,i)},decryptBlock:function(e,t){var n=e[t+1];e[t+1]=e[t+3],e[t+3]=n,this._doCryptBlock(e,t,this._invKeySchedule,l,u,d,f,o),n=e[t+1],e[t+1]=e[t+3],e[t+3]=n},_doCryptBlock:function(e,t,n,r,i,o,s,a){for(var c=this._nRounds,h=e[t]^n[0],l=e[t+1]^n[1],u=e[t+2]^n[2],d=e[t+3]^n[3],f=4,p=1;p<c;p++){var y=r[h>>>24]^i[l>>>16&255]^o[u>>>8&255]^s[255&d]^n[f++],g=r[l>>>24]^i[u>>>16&255]^o[d>>>8&255]^s[255&h]^n[f++],w=r[u>>>24]^i[d>>>16&255]^o[h>>>8&255]^s[255&l]^n[f++],b=r[d>>>24]^i[h>>>16&255]^o[l>>>8&255]^s[255&u]^n[f++];h=y,l=g,u=w,d=b}y=(a[h>>>24]<<24|a[l>>>16&255]<<16|a[u>>>8&255]<<8|a[255&d])^n[f++],g=(a[l>>>24]<<24|a[u>>>16&255]<<16|a[d>>>8&255]<<8|a[255&h])^n[f++],w=(a[u>>>24]<<24|a[d>>>16&255]<<16|a[h>>>8&255]<<8|a[255&l])^n[f++],b=(a[d>>>24]<<24|a[h>>>16&255]<<16|a[l>>>8&255]<<8|a[255&u])^n[f++],e[t]=y,e[t+1]=g,e[t+2]=w,e[t+3]=b},keySize:8});e.AES=t._createHelper(y)}(),r.AES)},109:function(e,t,n){var r,i,o,s,a,c,h,l,u,d,f,p,y,g,w,b,m,v,x;e.exports=(r=n(249),n(888),void(r.lib.Cipher||(i=r,o=i.lib,s=o.Base,a=o.WordArray,c=o.BufferedBlockAlgorithm,h=i.enc,h.Utf8,l=h.Base64,u=i.algo.EvpKDF,d=o.Cipher=c.extend({cfg:s.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,n){this.cfg=this.cfg.extend(n),this._xformMode=e,this._key=t,this.reset()},reset:function(){c.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function e(e){return"string"==typeof e?x:m}return function(t){return{encrypt:function(n,r,i){return e(r).encrypt(t,n,r,i)},decrypt:function(n,r,i){return e(r).decrypt(t,n,r,i)}}}}()}),o.StreamCipher=d.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),f=i.mode={},p=o.BlockCipherMode=s.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}}),y=f.CBC=function(){var e=p.extend();function t(e,t,n){var r,i=this._iv;i?(r=i,this._iv=void 0):r=this._prevBlock;for(var o=0;o<n;o++)e[t+o]^=r[o]}return e.Encryptor=e.extend({processBlock:function(e,n){var r=this._cipher,i=r.blockSize;t.call(this,e,n,i),r.encryptBlock(e,n),this._prevBlock=e.slice(n,n+i)}}),e.Decryptor=e.extend({processBlock:function(e,n){var r=this._cipher,i=r.blockSize,o=e.slice(n,n+i);r.decryptBlock(e,n),t.call(this,e,n,i),this._prevBlock=o}}),e}(),g=(i.pad={}).Pkcs7={pad:function(e,t){for(var n=4*t,r=n-e.sigBytes%n,i=r<<24|r<<16|r<<8|r,o=[],s=0;s<r;s+=4)o.push(i);var c=a.create(o,r);e.concat(c)},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},o.BlockCipher=d.extend({cfg:d.cfg.extend({mode:y,padding:g}),reset:function(){var e;d.reset.call(this);var t=this.cfg,n=t.iv,r=t.mode;this._xformMode==this._ENC_XFORM_MODE?e=r.createEncryptor:(e=r.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==e?this._mode.init(this,n&&n.words):(this._mode=e.call(r,this,n&&n.words),this._mode.__creator=e)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e,t=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(t.pad(this._data,this.blockSize),e=this._process(!0)):(e=this._process(!0),t.unpad(e)),e},blockSize:4}),w=o.CipherParams=s.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}}),b=(i.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext,n=e.salt;return(n?a.create([1398893684,1701076831]).concat(n).concat(t):t).toString(l)},parse:function(e){var t,n=l.parse(e),r=n.words;return 1398893684==r[0]&&1701076831==r[1]&&(t=a.create(r.slice(2,4)),r.splice(0,4),n.sigBytes-=16),w.create({ciphertext:n,salt:t})}},m=o.SerializableCipher=s.extend({cfg:s.extend({format:b}),encrypt:function(e,t,n,r){r=this.cfg.extend(r);var i=e.createEncryptor(n,r),o=i.finalize(t),s=i.cfg;return w.create({ciphertext:o,key:n,iv:s.iv,algorithm:e,mode:s.mode,padding:s.padding,blockSize:e.blockSize,formatter:r.format})},decrypt:function(e,t,n,r){return r=this.cfg.extend(r),t=this._parse(t,r.format),e.createDecryptor(n,r).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}}),v=(i.kdf={}).OpenSSL={execute:function(e,t,n,r){r||(r=a.random(8));var i=u.create({keySize:t+n}).compute(e,r),o=a.create(i.words.slice(t),4*n);return i.sigBytes=4*t,w.create({key:i,iv:o,salt:r})}},x=o.PasswordBasedCipher=m.extend({cfg:m.cfg.extend({kdf:v}),encrypt:function(e,t,n,r){var i=(r=this.cfg.extend(r)).kdf.execute(n,e.keySize,e.ivSize);r.iv=i.iv;var o=m.encrypt.call(this,e,t,i.key,r);return o.mixIn(i),o},decrypt:function(e,t,n,r){r=this.cfg.extend(r),t=this._parse(t,r.format);var i=r.kdf.execute(n,e.keySize,e.ivSize,t.salt);return r.iv=i.iv,m.decrypt.call(this,e,t,i.key,r)}}))))},249:function(e,t,n){var r;e.exports=(r=r||function(e,t){var r;if("undefined"!=typeof window&&window.crypto&&(r=window.crypto),"undefined"!=typeof self&&self.crypto&&(r=self.crypto),"undefined"!=typeof globalThis&&globalThis.crypto&&(r=globalThis.crypto),!r&&"undefined"!=typeof window&&window.msCrypto&&(r=window.msCrypto),!r&&void 0!==n.g&&n.g.crypto&&(r=n.g.crypto),!r)try{r=n(480)}catch(e){}var i=function(){if(r){if("function"==typeof r.getRandomValues)try{return r.getRandomValues(new Uint32Array(1))[0]}catch(e){}if("function"==typeof r.randomBytes)try{return r.randomBytes(4).readInt32LE()}catch(e){}}throw new Error("Native crypto module could not be used to get secure random number.")},o=Object.create||function(){function e(){}return function(t){var n;return e.prototype=t,n=new e,e.prototype=null,n}}(),s={},a=s.lib={},c=a.Base={extend:function(e){var t=o(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},h=a.WordArray=c.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||u).stringify(this)},concat:function(e){var t=this.words,n=e.words,r=this.sigBytes,i=e.sigBytes;if(this.clamp(),r%4)for(var o=0;o<i;o++){var s=n[o>>>2]>>>24-o%4*8&255;t[r+o>>>2]|=s<<24-(r+o)%4*8}else for(var a=0;a<i;a+=4)t[r+a>>>2]=n[a>>>2];return this.sigBytes+=i,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=c.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],n=0;n<e;n+=4)t.push(i());return new h.init(t,e)}}),l=s.enc={},u=l.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var o=t[i>>>2]>>>24-i%4*8&255;r.push((o>>>4).toString(16)),r.push((15&o).toString(16))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n[r>>>3]|=parseInt(e.substr(r,2),16)<<24-r%8*4;return new h.init(n,t/2)}},d=l.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var o=t[i>>>2]>>>24-i%4*8&255;r.push(String.fromCharCode(o))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r++)n[r>>>2]|=(255&e.charCodeAt(r))<<24-r%4*8;return new h.init(n,t)}},f=l.Utf8={stringify:function(e){try{return decodeURIComponent(escape(d.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return d.parse(unescape(encodeURIComponent(e)))}},p=a.BufferedBlockAlgorithm=c.extend({reset:function(){this._data=new h.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=f.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n,r=this._data,i=r.words,o=r.sigBytes,s=this.blockSize,a=o/(4*s),c=(a=t?e.ceil(a):e.max((0|a)-this._minBufferSize,0))*s,l=e.min(4*c,o);if(c){for(var u=0;u<c;u+=s)this._doProcessBlock(i,u);n=i.splice(0,c),r.sigBytes-=l}return new h.init(n,l)},clone:function(){var e=c.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),y=(a.Hasher=p.extend({cfg:c.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){p.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new y.HMAC.init(e,n).finalize(t)}}}),s.algo={});return s}(Math),r)},269:function(e,t,n){var r,i,o;e.exports=(r=n(249),o=(i=r).lib.WordArray,i.enc.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,r=this._map;e.clamp();for(var i=[],o=0;o<n;o+=3)for(var s=(t[o>>>2]>>>24-o%4*8&255)<<16|(t[o+1>>>2]>>>24-(o+1)%4*8&255)<<8|t[o+2>>>2]>>>24-(o+2)%4*8&255,a=0;a<4&&o+.75*a<n;a++)i.push(r.charAt(s>>>6*(3-a)&63));var c=r.charAt(64);if(c)for(;i.length%4;)i.push(c);return i.join("")},parse:function(e){var t=e.length,n=this._map,r=this._reverseMap;if(!r){r=this._reverseMap=[];for(var i=0;i<n.length;i++)r[n.charCodeAt(i)]=i}var s=n.charAt(64);if(s){var a=e.indexOf(s);-1!==a&&(t=a)}return function(e,t,n){for(var r=[],i=0,s=0;s<t;s++)if(s%4){var a=n[e.charCodeAt(s-1)]<<s%4*2|n[e.charCodeAt(s)]>>>6-s%4*2;r[i>>>2]|=a<<24-i%4*8,i++}return o.create(r,i)}(e,t,r)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},r.enc.Base64)},786:function(e,t,n){var r,i,o;e.exports=(r=n(249),o=(i=r).lib.WordArray,i.enc.Base64url={stringify:function(e,t=!0){var n=e.words,r=e.sigBytes,i=t?this._safe_map:this._map;e.clamp();for(var o=[],s=0;s<r;s+=3)for(var a=(n[s>>>2]>>>24-s%4*8&255)<<16|(n[s+1>>>2]>>>24-(s+1)%4*8&255)<<8|n[s+2>>>2]>>>24-(s+2)%4*8&255,c=0;c<4&&s+.75*c<r;c++)o.push(i.charAt(a>>>6*(3-c)&63));var h=i.charAt(64);if(h)for(;o.length%4;)o.push(h);return o.join("")},parse:function(e,t=!0){var n=e.length,r=t?this._safe_map:this._map,i=this._reverseMap;if(!i){i=this._reverseMap=[];for(var s=0;s<r.length;s++)i[r.charCodeAt(s)]=s}var a=r.charAt(64);if(a){var c=e.indexOf(a);-1!==c&&(n=c)}return function(e,t,n){for(var r=[],i=0,s=0;s<t;s++)if(s%4){var a=n[e.charCodeAt(s-1)]<<s%4*2|n[e.charCodeAt(s)]>>>6-s%4*2;r[i>>>2]|=a<<24-i%4*8,i++}return o.create(r,i)}(e,n,i)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"},r.enc.Base64url)},465:function(e,t,n){e.exports=n(249).enc.Hex},298:function(e,t,n){var r;e.exports=(r=n(249),function(){var e=r,t=e.lib.WordArray,n=e.enc;function i(e){return e<<8&4278255360|e>>>8&16711935}n.Utf16=n.Utf16BE={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i+=2){var o=t[i>>>2]>>>16-i%4*8&65535;r.push(String.fromCharCode(o))}return r.join("")},parse:function(e){for(var n=e.length,r=[],i=0;i<n;i++)r[i>>>1]|=e.charCodeAt(i)<<16-i%2*16;return t.create(r,2*n)}},n.Utf16LE={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],o=0;o<n;o+=2){var s=i(t[o>>>2]>>>16-o%4*8&65535);r.push(String.fromCharCode(s))}return r.join("")},parse:function(e){for(var n=e.length,r=[],o=0;o<n;o++)r[o>>>1]|=i(e.charCodeAt(o)<<16-o%2*16);return t.create(r,2*n)}}}(),r.enc.Utf16)},888:function(e,t,n){var r,i,o,s,a,c,h,l;e.exports=(l=n(249),n(783),n(824),o=(i=(r=l).lib).Base,s=i.WordArray,c=(a=r.algo).MD5,h=a.EvpKDF=o.extend({cfg:o.extend({keySize:4,hasher:c,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var n,r=this.cfg,i=r.hasher.create(),o=s.create(),a=o.words,c=r.keySize,h=r.iterations;a.length<c;){n&&i.update(n),n=i.update(e).finalize(t),i.reset();for(var l=1;l<h;l++)n=i.finalize(n),i.reset();o.concat(n)}return o.sigBytes=4*c,o}}),r.EvpKDF=function(e,t,n){return h.create(n).compute(e,t)},l.EvpKDF)},209:function(e,t,n){var r,i,o,s;e.exports=(s=n(249),n(109),i=(r=s).lib.CipherParams,o=r.enc.Hex,r.format.Hex={stringify:function(e){return e.ciphertext.toString(o)},parse:function(e){var t=o.parse(e);return i.create({ciphertext:t})}},s.format.Hex)},824:function(e,t,n){var r,i,o;e.exports=(i=(r=n(249)).lib.Base,o=r.enc.Utf8,void(r.algo.HMAC=i.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=o.parse(t));var n=e.blockSize,r=4*n;t.sigBytes>r&&(t=e.finalize(t)),t.clamp();for(var i=this._oKey=t.clone(),s=this._iKey=t.clone(),a=i.words,c=s.words,h=0;h<n;h++)a[h]^=1549556828,c[h]^=909522486;i.sigBytes=s.sigBytes=r,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,n=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(n))}})))},354:function(e,t,n){var r;e.exports=(r=n(249),n(938),n(433),n(298),n(269),n(786),n(214),n(783),n(153),n(792),n(34),n(460),n(327),n(706),n(824),n(112),n(888),n(109),n(568),n(242),n(968),n(660),n(148),n(615),n(807),n(77),n(475),n(991),n(209),n(452),n(253),n(857),n(454),n(974),r)},433:function(e,t,n){var r;e.exports=(r=n(249),function(){if("function"==typeof ArrayBuffer){var e=r.lib.WordArray,t=e.init,n=e.init=function(e){if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),(e instanceof Int8Array||"undefined"!=typeof Uint8ClampedArray&&e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array)&&(e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),e instanceof Uint8Array){for(var n=e.byteLength,r=[],i=0;i<n;i++)r[i>>>2]|=e[i]<<24-i%4*8;t.call(this,r,n)}else t.apply(this,arguments)};n.prototype=e}}(),r.lib.WordArray)},214:function(e,t,n){var r;e.exports=(r=n(249),function(e){var t=r,n=t.lib,i=n.WordArray,o=n.Hasher,s=t.algo,a=[];!function(){for(var t=0;t<64;t++)a[t]=4294967296*e.abs(e.sin(t+1))|0}();var c=s.MD5=o.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var n=0;n<16;n++){var r=t+n,i=e[r];e[r]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8)}var o=this._hash.words,s=e[t+0],c=e[t+1],f=e[t+2],p=e[t+3],y=e[t+4],g=e[t+5],w=e[t+6],b=e[t+7],m=e[t+8],v=e[t+9],x=e[t+10],E=e[t+11],k=e[t+12],_=e[t+13],A=e[t+14],B=e[t+15],S=o[0],H=o[1],I=o[2],L=o[3];S=h(S,H,I,L,s,7,a[0]),L=h(L,S,H,I,c,12,a[1]),I=h(I,L,S,H,f,17,a[2]),H=h(H,I,L,S,p,22,a[3]),S=h(S,H,I,L,y,7,a[4]),L=h(L,S,H,I,g,12,a[5]),I=h(I,L,S,H,w,17,a[6]),H=h(H,I,L,S,b,22,a[7]),S=h(S,H,I,L,m,7,a[8]),L=h(L,S,H,I,v,12,a[9]),I=h(I,L,S,H,x,17,a[10]),H=h(H,I,L,S,E,22,a[11]),S=h(S,H,I,L,k,7,a[12]),L=h(L,S,H,I,_,12,a[13]),I=h(I,L,S,H,A,17,a[14]),S=l(S,H=h(H,I,L,S,B,22,a[15]),I,L,c,5,a[16]),L=l(L,S,H,I,w,9,a[17]),I=l(I,L,S,H,E,14,a[18]),H=l(H,I,L,S,s,20,a[19]),S=l(S,H,I,L,g,5,a[20]),L=l(L,S,H,I,x,9,a[21]),I=l(I,L,S,H,B,14,a[22]),H=l(H,I,L,S,y,20,a[23]),S=l(S,H,I,L,v,5,a[24]),L=l(L,S,H,I,A,9,a[25]),I=l(I,L,S,H,p,14,a[26]),H=l(H,I,L,S,m,20,a[27]),S=l(S,H,I,L,_,5,a[28]),L=l(L,S,H,I,f,9,a[29]),I=l(I,L,S,H,b,14,a[30]),S=u(S,H=l(H,I,L,S,k,20,a[31]),I,L,g,4,a[32]),L=u(L,S,H,I,m,11,a[33]),I=u(I,L,S,H,E,16,a[34]),H=u(H,I,L,S,A,23,a[35]),S=u(S,H,I,L,c,4,a[36]),L=u(L,S,H,I,y,11,a[37]),I=u(I,L,S,H,b,16,a[38]),H=u(H,I,L,S,x,23,a[39]),S=u(S,H,I,L,_,4,a[40]),L=u(L,S,H,I,s,11,a[41]),I=u(I,L,S,H,p,16,a[42]),H=u(H,I,L,S,w,23,a[43]),S=u(S,H,I,L,v,4,a[44]),L=u(L,S,H,I,k,11,a[45]),I=u(I,L,S,H,B,16,a[46]),S=d(S,H=u(H,I,L,S,f,23,a[47]),I,L,s,6,a[48]),L=d(L,S,H,I,b,10,a[49]),I=d(I,L,S,H,A,15,a[50]),H=d(H,I,L,S,g,21,a[51]),S=d(S,H,I,L,k,6,a[52]),L=d(L,S,H,I,p,10,a[53]),I=d(I,L,S,H,x,15,a[54]),H=d(H,I,L,S,c,21,a[55]),S=d(S,H,I,L,m,6,a[56]),L=d(L,S,H,I,B,10,a[57]),I=d(I,L,S,H,w,15,a[58]),H=d(H,I,L,S,_,21,a[59]),S=d(S,H,I,L,y,6,a[60]),L=d(L,S,H,I,E,10,a[61]),I=d(I,L,S,H,f,15,a[62]),H=d(H,I,L,S,v,21,a[63]),o[0]=o[0]+S|0,o[1]=o[1]+H|0,o[2]=o[2]+I|0,o[3]=o[3]+L|0},_doFinalize:function(){var t=this._data,n=t.words,r=8*this._nDataBytes,i=8*t.sigBytes;n[i>>>5]|=128<<24-i%32;var o=e.floor(r/4294967296),s=r;n[15+(i+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),n[14+(i+64>>>9<<4)]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),t.sigBytes=4*(n.length+1),this._process();for(var a=this._hash,c=a.words,h=0;h<4;h++){var l=c[h];c[h]=16711935&(l<<8|l>>>24)|4278255360&(l<<24|l>>>8)}return a},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}});function h(e,t,n,r,i,o,s){var a=e+(t&n|~t&r)+i+s;return(a<<o|a>>>32-o)+t}function l(e,t,n,r,i,o,s){var a=e+(t&r|n&~r)+i+s;return(a<<o|a>>>32-o)+t}function u(e,t,n,r,i,o,s){var a=e+(t^n^r)+i+s;return(a<<o|a>>>32-o)+t}function d(e,t,n,r,i,o,s){var a=e+(n^(t|~r))+i+s;return(a<<o|a>>>32-o)+t}t.MD5=o._createHelper(c),t.HmacMD5=o._createHmacHelper(c)}(Math),r.MD5)},568:function(e,t,n){var r;e.exports=(r=n(249),n(109),r.mode.CFB=function(){var e=r.lib.BlockCipherMode.extend();function t(e,t,n,r){var i,o=this._iv;o?(i=o.slice(0),this._iv=void 0):i=this._prevBlock,r.encryptBlock(i,0);for(var s=0;s<n;s++)e[t+s]^=i[s]}return e.Encryptor=e.extend({processBlock:function(e,n){var r=this._cipher,i=r.blockSize;t.call(this,e,n,i,r),this._prevBlock=e.slice(n,n+i)}}),e.Decryptor=e.extend({processBlock:function(e,n){var r=this._cipher,i=r.blockSize,o=e.slice(n,n+i);t.call(this,e,n,i,r),this._prevBlock=o}}),e}(),r.mode.CFB)},968:function(e,t,n){var r;e.exports=(r=n(249),n(109),r.mode.CTRGladman=function(){var e=r.lib.BlockCipherMode.extend();function t(e){if(255==(e>>24&255)){var t=e>>16&255,n=e>>8&255,r=255&e;255===t?(t=0,255===n?(n=0,255===r?r=0:++r):++n):++t,e=0,e+=t<<16,e+=n<<8,e+=r}else e+=1<<24;return e}var n=e.Encryptor=e.extend({processBlock:function(e,n){var r=this._cipher,i=r.blockSize,o=this._iv,s=this._counter;o&&(s=this._counter=o.slice(0),this._iv=void 0),function(e){0===(e[0]=t(e[0]))&&(e[1]=t(e[1]))}(s);var a=s.slice(0);r.encryptBlock(a,0);for(var c=0;c<i;c++)e[n+c]^=a[c]}});return e.Decryptor=n,e}(),r.mode.CTRGladman)},242:function(e,t,n){var r,i,o;e.exports=(o=n(249),n(109),o.mode.CTR=(i=(r=o.lib.BlockCipherMode.extend()).Encryptor=r.extend({processBlock:function(e,t){var n=this._cipher,r=n.blockSize,i=this._iv,o=this._counter;i&&(o=this._counter=i.slice(0),this._iv=void 0);var s=o.slice(0);n.encryptBlock(s,0),o[r-1]=o[r-1]+1|0;for(var a=0;a<r;a++)e[t+a]^=s[a]}}),r.Decryptor=i,r),o.mode.CTR)},148:function(e,t,n){var r,i;e.exports=(i=n(249),n(109),i.mode.ECB=((r=i.lib.BlockCipherMode.extend()).Encryptor=r.extend({processBlock:function(e,t){this._cipher.encryptBlock(e,t)}}),r.Decryptor=r.extend({processBlock:function(e,t){this._cipher.decryptBlock(e,t)}}),r),i.mode.ECB)},660:function(e,t,n){var r,i,o;e.exports=(o=n(249),n(109),o.mode.OFB=(i=(r=o.lib.BlockCipherMode.extend()).Encryptor=r.extend({processBlock:function(e,t){var n=this._cipher,r=n.blockSize,i=this._iv,o=this._keystream;i&&(o=this._keystream=i.slice(0),this._iv=void 0),n.encryptBlock(o,0);for(var s=0;s<r;s++)e[t+s]^=o[s]}}),r.Decryptor=i,r),o.mode.OFB)},615:function(e,t,n){var r;e.exports=(r=n(249),n(109),r.pad.AnsiX923={pad:function(e,t){var n=e.sigBytes,r=4*t,i=r-n%r,o=n+i-1;e.clamp(),e.words[o>>>2]|=i<<24-o%4*8,e.sigBytes+=i},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},r.pad.Ansix923)},807:function(e,t,n){var r;e.exports=(r=n(249),n(109),r.pad.Iso10126={pad:function(e,t){var n=4*t,i=n-e.sigBytes%n;e.concat(r.lib.WordArray.random(i-1)).concat(r.lib.WordArray.create([i<<24],1))},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},r.pad.Iso10126)},77:function(e,t,n){var r;e.exports=(r=n(249),n(109),r.pad.Iso97971={pad:function(e,t){e.concat(r.lib.WordArray.create([2147483648],1)),r.pad.ZeroPadding.pad(e,t)},unpad:function(e){r.pad.ZeroPadding.unpad(e),e.sigBytes--}},r.pad.Iso97971)},991:function(e,t,n){var r;e.exports=(r=n(249),n(109),r.pad.NoPadding={pad:function(){},unpad:function(){}},r.pad.NoPadding)},475:function(e,t,n){var r;e.exports=(r=n(249),n(109),r.pad.ZeroPadding={pad:function(e,t){var n=4*t;e.clamp(),e.sigBytes+=n-(e.sigBytes%n||n)},unpad:function(e){var t=e.words,n=e.sigBytes-1;for(n=e.sigBytes-1;n>=0;n--)if(t[n>>>2]>>>24-n%4*8&255){e.sigBytes=n+1;break}}},r.pad.ZeroPadding)},112:function(e,t,n){var r,i,o,s,a,c,h,l,u;e.exports=(u=n(249),n(783),n(824),o=(i=(r=u).lib).Base,s=i.WordArray,c=(a=r.algo).SHA1,h=a.HMAC,l=a.PBKDF2=o.extend({cfg:o.extend({keySize:4,hasher:c,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var n=this.cfg,r=h.create(n.hasher,e),i=s.create(),o=s.create([1]),a=i.words,c=o.words,l=n.keySize,u=n.iterations;a.length<l;){var d=r.update(t).finalize(o);r.reset();for(var f=d.words,p=f.length,y=d,g=1;g<u;g++){y=r.finalize(y),r.reset();for(var w=y.words,b=0;b<p;b++)f[b]^=w[b]}i.concat(d),c[0]++}return i.sigBytes=4*l,i}}),r.PBKDF2=function(e,t,n){return l.create(n).compute(e,t)},u.PBKDF2)},974:function(e,t,n){var r;e.exports=(r=n(249),n(269),n(214),n(888),n(109),function(){var e=r,t=e.lib.StreamCipher,n=e.algo,i=[],o=[],s=[],a=n.RabbitLegacy=t.extend({_doReset:function(){var e=this._key.words,t=this.cfg.iv,n=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],r=this._C=[e[2]<<16|e[2]>>>16,4294901760&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,4294901760&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,4294901760&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,4294901760&e[3]|65535&e[0]];this._b=0;for(var i=0;i<4;i++)c.call(this);for(i=0;i<8;i++)r[i]^=n[i+4&7];if(t){var o=t.words,s=o[0],a=o[1],h=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),l=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),u=h>>>16|4294901760&l,d=l<<16|65535&h;for(r[0]^=h,r[1]^=u,r[2]^=l,r[3]^=d,r[4]^=h,r[5]^=u,r[6]^=l,r[7]^=d,i=0;i<4;i++)c.call(this)}},_doProcessBlock:function(e,t){var n=this._X;c.call(this),i[0]=n[0]^n[5]>>>16^n[3]<<16,i[1]=n[2]^n[7]>>>16^n[5]<<16,i[2]=n[4]^n[1]>>>16^n[7]<<16,i[3]=n[6]^n[3]>>>16^n[1]<<16;for(var r=0;r<4;r++)i[r]=16711935&(i[r]<<8|i[r]>>>24)|4278255360&(i[r]<<24|i[r]>>>8),e[t+r]^=i[r]},blockSize:4,ivSize:2});function c(){for(var e=this._X,t=this._C,n=0;n<8;n++)o[n]=t[n];for(t[0]=t[0]+1295307597+this._b|0,t[1]=t[1]+3545052371+(t[0]>>>0<o[0]>>>0?1:0)|0,t[2]=t[2]+886263092+(t[1]>>>0<o[1]>>>0?1:0)|0,t[3]=t[3]+1295307597+(t[2]>>>0<o[2]>>>0?1:0)|0,t[4]=t[4]+3545052371+(t[3]>>>0<o[3]>>>0?1:0)|0,t[5]=t[5]+886263092+(t[4]>>>0<o[4]>>>0?1:0)|0,t[6]=t[6]+1295307597+(t[5]>>>0<o[5]>>>0?1:0)|0,t[7]=t[7]+3545052371+(t[6]>>>0<o[6]>>>0?1:0)|0,this._b=t[7]>>>0<o[7]>>>0?1:0,n=0;n<8;n++){var r=e[n]+t[n],i=65535&r,a=r>>>16,c=((i*i>>>17)+i*a>>>15)+a*a,h=((4294901760&r)*r|0)+((65535&r)*r|0);s[n]=c^h}e[0]=s[0]+(s[7]<<16|s[7]>>>16)+(s[6]<<16|s[6]>>>16)|0,e[1]=s[1]+(s[0]<<8|s[0]>>>24)+s[7]|0,e[2]=s[2]+(s[1]<<16|s[1]>>>16)+(s[0]<<16|s[0]>>>16)|0,e[3]=s[3]+(s[2]<<8|s[2]>>>24)+s[1]|0,e[4]=s[4]+(s[3]<<16|s[3]>>>16)+(s[2]<<16|s[2]>>>16)|0,e[5]=s[5]+(s[4]<<8|s[4]>>>24)+s[3]|0,e[6]=s[6]+(s[5]<<16|s[5]>>>16)+(s[4]<<16|s[4]>>>16)|0,e[7]=s[7]+(s[6]<<8|s[6]>>>24)+s[5]|0}e.RabbitLegacy=t._createHelper(a)}(),r.RabbitLegacy)},454:function(e,t,n){var r;e.exports=(r=n(249),n(269),n(214),n(888),n(109),function(){var e=r,t=e.lib.StreamCipher,n=e.algo,i=[],o=[],s=[],a=n.Rabbit=t.extend({_doReset:function(){for(var e=this._key.words,t=this.cfg.iv,n=0;n<4;n++)e[n]=16711935&(e[n]<<8|e[n]>>>24)|4278255360&(e[n]<<24|e[n]>>>8);var r=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],i=this._C=[e[2]<<16|e[2]>>>16,4294901760&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,4294901760&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,4294901760&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,4294901760&e[3]|65535&e[0]];for(this._b=0,n=0;n<4;n++)c.call(this);for(n=0;n<8;n++)i[n]^=r[n+4&7];if(t){var o=t.words,s=o[0],a=o[1],h=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),l=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),u=h>>>16|4294901760&l,d=l<<16|65535&h;for(i[0]^=h,i[1]^=u,i[2]^=l,i[3]^=d,i[4]^=h,i[5]^=u,i[6]^=l,i[7]^=d,n=0;n<4;n++)c.call(this)}},_doProcessBlock:function(e,t){var n=this._X;c.call(this),i[0]=n[0]^n[5]>>>16^n[3]<<16,i[1]=n[2]^n[7]>>>16^n[5]<<16,i[2]=n[4]^n[1]>>>16^n[7]<<16,i[3]=n[6]^n[3]>>>16^n[1]<<16;for(var r=0;r<4;r++)i[r]=16711935&(i[r]<<8|i[r]>>>24)|4278255360&(i[r]<<24|i[r]>>>8),e[t+r]^=i[r]},blockSize:4,ivSize:2});function c(){for(var e=this._X,t=this._C,n=0;n<8;n++)o[n]=t[n];for(t[0]=t[0]+1295307597+this._b|0,t[1]=t[1]+3545052371+(t[0]>>>0<o[0]>>>0?1:0)|0,t[2]=t[2]+886263092+(t[1]>>>0<o[1]>>>0?1:0)|0,t[3]=t[3]+1295307597+(t[2]>>>0<o[2]>>>0?1:0)|0,t[4]=t[4]+3545052371+(t[3]>>>0<o[3]>>>0?1:0)|0,t[5]=t[5]+886263092+(t[4]>>>0<o[4]>>>0?1:0)|0,t[6]=t[6]+1295307597+(t[5]>>>0<o[5]>>>0?1:0)|0,t[7]=t[7]+3545052371+(t[6]>>>0<o[6]>>>0?1:0)|0,this._b=t[7]>>>0<o[7]>>>0?1:0,n=0;n<8;n++){var r=e[n]+t[n],i=65535&r,a=r>>>16,c=((i*i>>>17)+i*a>>>15)+a*a,h=((4294901760&r)*r|0)+((65535&r)*r|0);s[n]=c^h}e[0]=s[0]+(s[7]<<16|s[7]>>>16)+(s[6]<<16|s[6]>>>16)|0,e[1]=s[1]+(s[0]<<8|s[0]>>>24)+s[7]|0,e[2]=s[2]+(s[1]<<16|s[1]>>>16)+(s[0]<<16|s[0]>>>16)|0,e[3]=s[3]+(s[2]<<8|s[2]>>>24)+s[1]|0,e[4]=s[4]+(s[3]<<16|s[3]>>>16)+(s[2]<<16|s[2]>>>16)|0,e[5]=s[5]+(s[4]<<8|s[4]>>>24)+s[3]|0,e[6]=s[6]+(s[5]<<16|s[5]>>>16)+(s[4]<<16|s[4]>>>16)|0,e[7]=s[7]+(s[6]<<8|s[6]>>>24)+s[5]|0}e.Rabbit=t._createHelper(a)}(),r.Rabbit)},857:function(e,t,n){var r;e.exports=(r=n(249),n(269),n(214),n(888),n(109),function(){var e=r,t=e.lib.StreamCipher,n=e.algo,i=n.RC4=t.extend({_doReset:function(){for(var e=this._key,t=e.words,n=e.sigBytes,r=this._S=[],i=0;i<256;i++)r[i]=i;i=0;for(var o=0;i<256;i++){var s=i%n,a=t[s>>>2]>>>24-s%4*8&255;o=(o+r[i]+a)%256;var c=r[i];r[i]=r[o],r[o]=c}this._i=this._j=0},_doProcessBlock:function(e,t){e[t]^=o.call(this)},keySize:8,ivSize:0});function o(){for(var e=this._S,t=this._i,n=this._j,r=0,i=0;i<4;i++){n=(n+e[t=(t+1)%256])%256;var o=e[t];e[t]=e[n],e[n]=o,r|=e[(e[t]+e[n])%256]<<24-8*i}return this._i=t,this._j=n,r}e.RC4=t._createHelper(i);var s=n.RC4Drop=i.extend({cfg:i.cfg.extend({drop:192}),_doReset:function(){i._doReset.call(this);for(var e=this.cfg.drop;e>0;e--)o.call(this)}});e.RC4Drop=t._createHelper(s)}(),r.RC4)},706:function(e,t,n){var r;e.exports=(r=n(249),function(e){var t=r,n=t.lib,i=n.WordArray,o=n.Hasher,s=t.algo,a=i.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),c=i.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),h=i.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),l=i.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),u=i.create([0,1518500249,1859775393,2400959708,2840853838]),d=i.create([1352829926,1548603684,1836072691,2053994217,0]),f=s.RIPEMD160=o.extend({_doReset:function(){this._hash=i.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var n=0;n<16;n++){var r=t+n,i=e[r];e[r]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8)}var o,s,f,v,x,E,k,_,A,B,S,H=this._hash.words,I=u.words,L=d.words,U=a.words,R=c.words,C=h.words,T=l.words;for(E=o=H[0],k=s=H[1],_=f=H[2],A=v=H[3],B=x=H[4],n=0;n<80;n+=1)S=o+e[t+U[n]]|0,S+=n<16?p(s,f,v)+I[0]:n<32?y(s,f,v)+I[1]:n<48?g(s,f,v)+I[2]:n<64?w(s,f,v)+I[3]:b(s,f,v)+I[4],S=(S=m(S|=0,C[n]))+x|0,o=x,x=v,v=m(f,10),f=s,s=S,S=E+e[t+R[n]]|0,S+=n<16?b(k,_,A)+L[0]:n<32?w(k,_,A)+L[1]:n<48?g(k,_,A)+L[2]:n<64?y(k,_,A)+L[3]:p(k,_,A)+L[4],S=(S=m(S|=0,T[n]))+B|0,E=B,B=A,A=m(_,10),_=k,k=S;S=H[1]+f+A|0,H[1]=H[2]+v+B|0,H[2]=H[3]+x+E|0,H[3]=H[4]+o+k|0,H[4]=H[0]+s+_|0,H[0]=S},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;t[r>>>5]|=128<<24-r%32,t[14+(r+64>>>9<<4)]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8),e.sigBytes=4*(t.length+1),this._process();for(var i=this._hash,o=i.words,s=0;s<5;s++){var a=o[s];o[s]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8)}return i},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}});function p(e,t,n){return e^t^n}function y(e,t,n){return e&t|~e&n}function g(e,t,n){return(e|~t)^n}function w(e,t,n){return e&n|t&~n}function b(e,t,n){return e^(t|~n)}function m(e,t){return e<<t|e>>>32-t}t.RIPEMD160=o._createHelper(f),t.HmacRIPEMD160=o._createHmacHelper(f)}(Math),r.RIPEMD160)},783:function(e,t,n){var r,i,o,s,a,c,h,l;e.exports=(i=(r=l=n(249)).lib,o=i.WordArray,s=i.Hasher,a=r.algo,c=[],h=a.SHA1=s.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],i=n[1],o=n[2],s=n[3],a=n[4],h=0;h<80;h++){if(h<16)c[h]=0|e[t+h];else{var l=c[h-3]^c[h-8]^c[h-14]^c[h-16];c[h]=l<<1|l>>>31}var u=(r<<5|r>>>27)+a+c[h];u+=h<20?1518500249+(i&o|~i&s):h<40?1859775393+(i^o^s):h<60?(i&o|i&s|o&s)-1894007588:(i^o^s)-899497514,a=s,s=o,o=i<<30|i>>>2,i=r,r=u}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+o|0,n[3]=n[3]+s|0,n[4]=n[4]+a|0},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;return t[r>>>5]|=128<<24-r%32,t[14+(r+64>>>9<<4)]=Math.floor(n/4294967296),t[15+(r+64>>>9<<4)]=n,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=s.clone.call(this);return e._hash=this._hash.clone(),e}}),r.SHA1=s._createHelper(h),r.HmacSHA1=s._createHmacHelper(h),l.SHA1)},792:function(e,t,n){var r,i,o,s,a,c;e.exports=(c=n(249),n(153),i=(r=c).lib.WordArray,o=r.algo,s=o.SHA256,a=o.SHA224=s.extend({_doReset:function(){this._hash=new i.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var e=s._doFinalize.call(this);return e.sigBytes-=4,e}}),r.SHA224=s._createHelper(a),r.HmacSHA224=s._createHmacHelper(a),c.SHA224)},153:function(e,t,n){var r;e.exports=(r=n(249),function(e){var t=r,n=t.lib,i=n.WordArray,o=n.Hasher,s=t.algo,a=[],c=[];!function(){function t(t){for(var n=e.sqrt(t),r=2;r<=n;r++)if(!(t%r))return!1;return!0}function n(e){return 4294967296*(e-(0|e))|0}for(var r=2,i=0;i<64;)t(r)&&(i<8&&(a[i]=n(e.pow(r,.5))),c[i]=n(e.pow(r,1/3)),i++),r++}();var h=[],l=s.SHA256=o.extend({_doReset:function(){this._hash=new i.init(a.slice(0))},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],i=n[1],o=n[2],s=n[3],a=n[4],l=n[5],u=n[6],d=n[7],f=0;f<64;f++){if(f<16)h[f]=0|e[t+f];else{var p=h[f-15],y=(p<<25|p>>>7)^(p<<14|p>>>18)^p>>>3,g=h[f-2],w=(g<<15|g>>>17)^(g<<13|g>>>19)^g>>>10;h[f]=y+h[f-7]+w+h[f-16]}var b=r&i^r&o^i&o,m=(r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22),v=d+((a<<26|a>>>6)^(a<<21|a>>>11)^(a<<7|a>>>25))+(a&l^~a&u)+c[f]+h[f];d=u,u=l,l=a,a=s+v|0,s=o,o=i,i=r,r=v+(m+b)|0}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+o|0,n[3]=n[3]+s|0,n[4]=n[4]+a|0,n[5]=n[5]+l|0,n[6]=n[6]+u|0,n[7]=n[7]+d|0},_doFinalize:function(){var t=this._data,n=t.words,r=8*this._nDataBytes,i=8*t.sigBytes;return n[i>>>5]|=128<<24-i%32,n[14+(i+64>>>9<<4)]=e.floor(r/4294967296),n[15+(i+64>>>9<<4)]=r,t.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}});t.SHA256=o._createHelper(l),t.HmacSHA256=o._createHmacHelper(l)}(Math),r.SHA256)},327:function(e,t,n){var r;e.exports=(r=n(249),n(938),function(e){var t=r,n=t.lib,i=n.WordArray,o=n.Hasher,s=t.x64.Word,a=t.algo,c=[],h=[],l=[];!function(){for(var e=1,t=0,n=0;n<24;n++){c[e+5*t]=(n+1)*(n+2)/2%64;var r=(2*e+3*t)%5;e=t%5,t=r}for(e=0;e<5;e++)for(t=0;t<5;t++)h[e+5*t]=t+(2*e+3*t)%5*5;for(var i=1,o=0;o<24;o++){for(var a=0,u=0,d=0;d<7;d++){if(1&i){var f=(1<<d)-1;f<32?u^=1<<f:a^=1<<f-32}128&i?i=i<<1^113:i<<=1}l[o]=s.create(a,u)}}();var u=[];!function(){for(var e=0;e<25;e++)u[e]=s.create()}();var d=a.SHA3=o.extend({cfg:o.cfg.extend({outputLength:512}),_doReset:function(){for(var e=this._state=[],t=0;t<25;t++)e[t]=new s.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(e,t){for(var n=this._state,r=this.blockSize/2,i=0;i<r;i++){var o=e[t+2*i],s=e[t+2*i+1];o=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),s=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),(H=n[i]).high^=s,H.low^=o}for(var a=0;a<24;a++){for(var d=0;d<5;d++){for(var f=0,p=0,y=0;y<5;y++)f^=(H=n[d+5*y]).high,p^=H.low;var g=u[d];g.high=f,g.low=p}for(d=0;d<5;d++){var w=u[(d+4)%5],b=u[(d+1)%5],m=b.high,v=b.low;for(f=w.high^(m<<1|v>>>31),p=w.low^(v<<1|m>>>31),y=0;y<5;y++)(H=n[d+5*y]).high^=f,H.low^=p}for(var x=1;x<25;x++){var E=(H=n[x]).high,k=H.low,_=c[x];_<32?(f=E<<_|k>>>32-_,p=k<<_|E>>>32-_):(f=k<<_-32|E>>>64-_,p=E<<_-32|k>>>64-_);var A=u[h[x]];A.high=f,A.low=p}var B=u[0],S=n[0];for(B.high=S.high,B.low=S.low,d=0;d<5;d++)for(y=0;y<5;y++){var H=n[x=d+5*y],I=u[x],L=u[(d+1)%5+5*y],U=u[(d+2)%5+5*y];H.high=I.high^~L.high&U.high,H.low=I.low^~L.low&U.low}H=n[0];var R=l[a];H.high^=R.high,H.low^=R.low}},_doFinalize:function(){var t=this._data,n=t.words,r=(this._nDataBytes,8*t.sigBytes),o=32*this.blockSize;n[r>>>5]|=1<<24-r%32,n[(e.ceil((r+1)/o)*o>>>5)-1]|=128,t.sigBytes=4*n.length,this._process();for(var s=this._state,a=this.cfg.outputLength/8,c=a/8,h=[],l=0;l<c;l++){var u=s[l],d=u.high,f=u.low;d=16711935&(d<<8|d>>>24)|4278255360&(d<<24|d>>>8),f=16711935&(f<<8|f>>>24)|4278255360&(f<<24|f>>>8),h.push(f),h.push(d)}return new i.init(h,a)},clone:function(){for(var e=o.clone.call(this),t=e._state=this._state.slice(0),n=0;n<25;n++)t[n]=t[n].clone();return e}});t.SHA3=o._createHelper(d),t.HmacSHA3=o._createHmacHelper(d)}(Math),r.SHA3)},460:function(e,t,n){var r,i,o,s,a,c,h,l;e.exports=(l=n(249),n(938),n(34),i=(r=l).x64,o=i.Word,s=i.WordArray,a=r.algo,c=a.SHA512,h=a.SHA384=c.extend({_doReset:function(){this._hash=new s.init([new o.init(3418070365,3238371032),new o.init(1654270250,914150663),new o.init(2438529370,812702999),new o.init(355462360,4144912697),new o.init(1731405415,4290775857),new o.init(2394180231,1750603025),new o.init(3675008525,1694076839),new o.init(1203062813,3204075428)])},_doFinalize:function(){var e=c._doFinalize.call(this);return e.sigBytes-=16,e}}),r.SHA384=c._createHelper(h),r.HmacSHA384=c._createHmacHelper(h),l.SHA384)},34:function(e,t,n){var r;e.exports=(r=n(249),n(938),function(){var e=r,t=e.lib.Hasher,n=e.x64,i=n.Word,o=n.WordArray,s=e.algo;function a(){return i.create.apply(i,arguments)}var c=[a(1116352408,3609767458),a(1899447441,602891725),a(3049323471,3964484399),a(3921009573,2173295548),a(961987163,4081628472),a(1508970993,3053834265),a(2453635748,2937671579),a(2870763221,3664609560),a(3624381080,2734883394),a(310598401,1164996542),a(607225278,1323610764),a(1426881987,3590304994),a(1925078388,4068182383),a(2162078206,991336113),a(2614888103,633803317),a(3248222580,3479774868),a(3835390401,2666613458),a(4022224774,944711139),a(264347078,2341262773),a(604807628,2007800933),a(770255983,1495990901),a(1249150122,1856431235),a(1555081692,3175218132),a(1996064986,2198950837),a(2554220882,3999719339),a(2821834349,766784016),a(2952996808,2566594879),a(3210313671,3203337956),a(3336571891,1034457026),a(3584528711,2466948901),a(113926993,3758326383),a(338241895,168717936),a(666307205,1188179964),a(773529912,1546045734),a(1294757372,1522805485),a(1396182291,2643833823),a(1695183700,2343527390),a(1986661051,1014477480),a(2177026350,1206759142),a(2456956037,344077627),a(2730485921,1290863460),a(2820302411,3158454273),a(3259730800,3505952657),a(3345764771,106217008),a(3516065817,3606008344),a(3600352804,1432725776),a(4094571909,1467031594),a(275423344,851169720),a(430227734,3100823752),a(506948616,1363258195),a(659060556,3750685593),a(883997877,3785050280),a(958139571,3318307427),a(1322822218,3812723403),a(1537002063,2003034995),a(1747873779,3602036899),a(1955562222,1575990012),a(2024104815,1125592928),a(2227730452,2716904306),a(2361852424,442776044),a(2428436474,593698344),a(2756734187,3733110249),a(3204031479,2999351573),a(3329325298,3815920427),a(3391569614,3928383900),a(3515267271,566280711),a(3940187606,3454069534),a(4118630271,4000239992),a(116418474,1914138554),a(174292421,2731055270),a(289380356,3203993006),a(460393269,320620315),a(685471733,587496836),a(852142971,1086792851),a(1017036298,365543100),a(1126000580,2618297676),a(1288033470,3409855158),a(1501505948,4234509866),a(1607167915,987167468),a(1816402316,1246189591)],h=[];!function(){for(var e=0;e<80;e++)h[e]=a()}();var l=s.SHA512=t.extend({_doReset:function(){this._hash=new o.init([new i.init(1779033703,4089235720),new i.init(3144134277,2227873595),new i.init(1013904242,4271175723),new i.init(2773480762,1595750129),new i.init(1359893119,2917565137),new i.init(2600822924,725511199),new i.init(528734635,4215389547),new i.init(1541459225,327033209)])},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],i=n[1],o=n[2],s=n[3],a=n[4],l=n[5],u=n[6],d=n[7],f=r.high,p=r.low,y=i.high,g=i.low,w=o.high,b=o.low,m=s.high,v=s.low,x=a.high,E=a.low,k=l.high,_=l.low,A=u.high,B=u.low,S=d.high,H=d.low,I=f,L=p,U=y,R=g,C=w,T=b,O=m,N=v,$=x,P=E,D=k,z=_,j=A,q=B,K=S,F=H,M=0;M<80;M++){var W,G,V=h[M];if(M<16)G=V.high=0|e[t+2*M],W=V.low=0|e[t+2*M+1];else{var Z=h[M-15],X=Z.high,J=Z.low,Y=(X>>>1|J<<31)^(X>>>8|J<<24)^X>>>7,Q=(J>>>1|X<<31)^(J>>>8|X<<24)^(J>>>7|X<<25),ee=h[M-2],te=ee.high,ne=ee.low,re=(te>>>19|ne<<13)^(te<<3|ne>>>29)^te>>>6,ie=(ne>>>19|te<<13)^(ne<<3|te>>>29)^(ne>>>6|te<<26),oe=h[M-7],se=oe.high,ae=oe.low,ce=h[M-16],he=ce.high,le=ce.low;G=(G=(G=Y+se+((W=Q+ae)>>>0<Q>>>0?1:0))+re+((W+=ie)>>>0<ie>>>0?1:0))+he+((W+=le)>>>0<le>>>0?1:0),V.high=G,V.low=W}var ue,de=$&D^~$&j,fe=P&z^~P&q,pe=I&U^I&C^U&C,ye=L&R^L&T^R&T,ge=(I>>>28|L<<4)^(I<<30|L>>>2)^(I<<25|L>>>7),we=(L>>>28|I<<4)^(L<<30|I>>>2)^(L<<25|I>>>7),be=($>>>14|P<<18)^($>>>18|P<<14)^($<<23|P>>>9),me=(P>>>14|$<<18)^(P>>>18|$<<14)^(P<<23|$>>>9),ve=c[M],xe=ve.high,Ee=ve.low,ke=K+be+((ue=F+me)>>>0<F>>>0?1:0),_e=we+ye;K=j,F=q,j=D,q=z,D=$,z=P,$=O+(ke=(ke=(ke=ke+de+((ue+=fe)>>>0<fe>>>0?1:0))+xe+((ue+=Ee)>>>0<Ee>>>0?1:0))+G+((ue+=W)>>>0<W>>>0?1:0))+((P=N+ue|0)>>>0<N>>>0?1:0)|0,O=C,N=T,C=U,T=R,U=I,R=L,I=ke+(ge+pe+(_e>>>0<we>>>0?1:0))+((L=ue+_e|0)>>>0<ue>>>0?1:0)|0}p=r.low=p+L,r.high=f+I+(p>>>0<L>>>0?1:0),g=i.low=g+R,i.high=y+U+(g>>>0<R>>>0?1:0),b=o.low=b+T,o.high=w+C+(b>>>0<T>>>0?1:0),v=s.low=v+N,s.high=m+O+(v>>>0<N>>>0?1:0),E=a.low=E+P,a.high=x+$+(E>>>0<P>>>0?1:0),_=l.low=_+z,l.high=k+D+(_>>>0<z>>>0?1:0),B=u.low=B+q,u.high=A+j+(B>>>0<q>>>0?1:0),H=d.low=H+F,d.high=S+K+(H>>>0<F>>>0?1:0)},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;return t[r>>>5]|=128<<24-r%32,t[30+(r+128>>>10<<5)]=Math.floor(n/4294967296),t[31+(r+128>>>10<<5)]=n,e.sigBytes=4*t.length,this._process(),this._hash.toX32()},clone:function(){var e=t.clone.call(this);return e._hash=this._hash.clone(),e},blockSize:32});e.SHA512=t._createHelper(l),e.HmacSHA512=t._createHmacHelper(l)}(),r.SHA512)},253:function(e,t,n){var r;e.exports=(r=n(249),n(269),n(214),n(888),n(109),function(){var e=r,t=e.lib,n=t.WordArray,i=t.BlockCipher,o=e.algo,s=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],a=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],c=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],h=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],l=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],u=o.DES=i.extend({_doReset:function(){for(var e=this._key.words,t=[],n=0;n<56;n++){var r=s[n]-1;t[n]=e[r>>>5]>>>31-r%32&1}for(var i=this._subKeys=[],o=0;o<16;o++){var h=i[o]=[],l=c[o];for(n=0;n<24;n++)h[n/6|0]|=t[(a[n]-1+l)%28]<<31-n%6,h[4+(n/6|0)]|=t[28+(a[n+24]-1+l)%28]<<31-n%6;for(h[0]=h[0]<<1|h[0]>>>31,n=1;n<7;n++)h[n]=h[n]>>>4*(n-1)+3;h[7]=h[7]<<5|h[7]>>>27}var u=this._invSubKeys=[];for(n=0;n<16;n++)u[n]=i[15-n]},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._subKeys)},decryptBlock:function(e,t){this._doCryptBlock(e,t,this._invSubKeys)},_doCryptBlock:function(e,t,n){this._lBlock=e[t],this._rBlock=e[t+1],d.call(this,4,252645135),d.call(this,16,65535),f.call(this,2,858993459),f.call(this,8,16711935),d.call(this,1,1431655765);for(var r=0;r<16;r++){for(var i=n[r],o=this._lBlock,s=this._rBlock,a=0,c=0;c<8;c++)a|=h[c][((s^i[c])&l[c])>>>0];this._lBlock=s,this._rBlock=o^a}var u=this._lBlock;this._lBlock=this._rBlock,this._rBlock=u,d.call(this,1,1431655765),f.call(this,8,16711935),f.call(this,2,858993459),d.call(this,16,65535),d.call(this,4,252645135),e[t]=this._lBlock,e[t+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});function d(e,t){var n=(this._lBlock>>>e^this._rBlock)&t;this._rBlock^=n,this._lBlock^=n<<e}function f(e,t){var n=(this._rBlock>>>e^this._lBlock)&t;this._lBlock^=n,this._rBlock^=n<<e}e.DES=i._createHelper(u);var p=o.TripleDES=i.extend({_doReset:function(){var e=this._key.words;if(2!==e.length&&4!==e.length&&e.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var t=e.slice(0,2),r=e.length<4?e.slice(0,2):e.slice(2,4),i=e.length<6?e.slice(0,2):e.slice(4,6);this._des1=u.createEncryptor(n.create(t)),this._des2=u.createEncryptor(n.create(r)),this._des3=u.createEncryptor(n.create(i))},encryptBlock:function(e,t){this._des1.encryptBlock(e,t),this._des2.decryptBlock(e,t),this._des3.encryptBlock(e,t)},decryptBlock:function(e,t){this._des3.decryptBlock(e,t),this._des2.encryptBlock(e,t),this._des1.decryptBlock(e,t)},keySize:6,ivSize:2,blockSize:2});e.TripleDES=i._createHelper(p)}(),r.TripleDES)},938:function(e,t,n){var r,i,o,s,a,c;e.exports=(r=n(249),o=(i=r).lib,s=o.Base,a=o.WordArray,(c=i.x64={}).Word=s.extend({init:function(e,t){this.high=e,this.low=t}}),c.WordArray=s.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:8*e.length},toX32:function(){for(var e=this.words,t=e.length,n=[],r=0;r<t;r++){var i=e[r];n.push(i.high),n.push(i.low)}return a.create(n,this.sigBytes)},clone:function(){for(var e=s.clone.call(this),t=e.words=this.words.slice(0),n=t.length,r=0;r<n;r++)t[r]=t[r].clone();return e}}),r)},370:e=>{"use strict";var t,n="object"==typeof Reflect?Reflect:null,r=n&&"function"==typeof n.apply?n.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};t=n&&"function"==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var i=Number.isNaN||function(e){return e!=e};function o(){o.init.call(this)}e.exports=o,e.exports.once=function(e,t){return new Promise((function(n,r){function i(n){e.removeListener(t,o),r(n)}function o(){"function"==typeof e.removeListener&&e.removeListener("error",i),n([].slice.call(arguments))}y(e,t,o,{once:!0}),"error"!==t&&function(e,t,n){"function"==typeof e.on&&y(e,"error",t,{once:!0})}(e,i)}))},o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var s=10;function a(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function c(e){return void 0===e._maxListeners?o.defaultMaxListeners:e._maxListeners}function h(e,t,n,r){var i,o,s,h;if(a(n),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),s=o[t]),void 0===s)s=o[t]=n,++e._eventsCount;else if("function"==typeof s?s=o[t]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),(i=c(e))>0&&s.length>i&&!s.warned){s.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=s.length,h=l,console&&console.warn&&console.warn(h)}return e}function l(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function u(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=l.bind(r);return i.listener=n,r.wrapFn=i,i}function d(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):p(i,i.length)}function f(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function p(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function y(e,t,n,r){if("function"==typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(o){r.once&&e.removeEventListener(t,i),n(o)}))}}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");s=e}}),o.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},o.prototype.getMaxListeners=function(){return c(this)},o.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var i="error"===e,o=this._events;if(void 0!==o)i=i&&void 0===o.error;else if(!i)return!1;if(i){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var c=o[e];if(void 0===c)return!1;if("function"==typeof c)r(c,this,t);else{var h=c.length,l=p(c,h);for(n=0;n<h;++n)r(l[n],this,t)}return!0},o.prototype.addListener=function(e,t){return h(this,e,t,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(e,t){return h(this,e,t,!0)},o.prototype.once=function(e,t){return a(t),this.on(e,u(this,e,t)),this},o.prototype.prependOnceListener=function(e,t){return a(t),this.prependListener(e,u(this,e,t)),this},o.prototype.removeListener=function(e,t){var n,r,i,o,s;if(a(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){s=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,s||t)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},o.prototype.listeners=function(e){return d(this,e,!0)},o.prototype.rawListeners=function(e){return d(this,e,!1)},o.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):f.call(e,t)},o.prototype.listenerCount=f,o.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},632:(e,t,n)=>{const{bech32:r,hex:i,utf8:o}=n(187),s={bech32:"bc",pubKeyHash:0,scriptHash:5,validWitnessVersions:[0]},a={bech32:"tb",pubKeyHash:111,scriptHash:196,validWitnessVersions:[0]},c={bech32:"bcrt",pubKeyHash:111,scriptHash:196,validWitnessVersions:[0]},h={bech32:"sb",pubKeyHash:63,scriptHash:123,validWitnessVersions:[0]},l=["option_data_loss_protect","initial_routing_sync","option_upfront_shutdown_script","gossip_queries","var_onion_optin","gossip_queries_ex","option_static_remotekey","payment_secret","basic_mpp","option_support_large_channel"],u={m:BigInt(1e3),u:BigInt(1e6),n:BigInt(1e9),p:BigInt(1e12)},d=BigInt("2100000000000000000"),f=BigInt(1e11),p={payment_hash:1,payment_secret:16,description:13,payee:19,description_hash:23,expiry:6,min_final_cltv_expiry:24,fallback_address:9,route_hint:3,feature_bits:5,metadata:27},y={};for(let e=0,t=Object.keys(p);e<t.length;e++){const n=t[e],r=p[t[e]].toString();y[r]=n}const g={1:e=>i.encode(r.fromWordsUnsafe(e)),16:e=>i.encode(r.fromWordsUnsafe(e)),13:e=>o.encode(r.fromWordsUnsafe(e)),19:e=>i.encode(r.fromWordsUnsafe(e)),23:e=>i.encode(r.fromWordsUnsafe(e)),27:e=>i.encode(r.fromWordsUnsafe(e)),6:b,24:b,3:function(e){const t=[];let n,o,s,a,c,h=r.fromWordsUnsafe(e);for(;h.length>0;)n=i.encode(h.slice(0,33)),o=i.encode(h.slice(33,41)),s=parseInt(i.encode(h.slice(41,45)),16),a=parseInt(i.encode(h.slice(45,49)),16),c=parseInt(i.encode(h.slice(49,51)),16),h=h.slice(51),t.push({pubkey:n,short_channel_id:o,fee_base_msat:s,fee_proportional_millionths:a,cltv_expiry_delta:c});return t},5:function(e){const t=e.slice().reverse().map((e=>[!!(1&e),!!(2&e),!!(4&e),!!(8&e),!!(16&e)])).reduce(((e,t)=>e.concat(t)),[]);for(;t.length<2*l.length;)t.push(!1);const n={};l.forEach(((e,r)=>{let i;i=t[2*r]?"required":t[2*r+1]?"supported":"unsupported",n[e]=i}));const r=t.slice(2*l.length);return n.extra_bits={start_bit:2*l.length,bits:r,has_required:r.reduce(((e,t,n)=>n%2!=0?e||!1:e||t),!1)},n}};function w(e){return t=>({tagCode:parseInt(e),words:r.encode("unknown",t,Number.MAX_SAFE_INTEGER)})}function b(e){return e.reverse().reduce(((e,t,n)=>e+t*Math.pow(32,n)),0)}function m(e,t){let n,r;if(e.slice(-1).match(/^[munp]$/))n=e.slice(-1),r=e.slice(0,-1);else{if(e.slice(-1).match(/^[^munp0-9]$/))throw new Error("Not a valid multiplier for the amount");r=e}if(!r.match(/^\d+$/))throw new Error("Not a valid human readable amount");const i=BigInt(r),o=n?i*f/u[n]:i*f;if("p"===n&&i%BigInt(10)!==BigInt(0)||o>d)throw new Error("Amount is outside of valid range");return t?o.toString():o}e.exports={decode:function(e,t){if("string"!=typeof e)throw new Error("Lightning Payment Request must be string");if("ln"!==e.slice(0,2).toLowerCase())throw new Error("Not a proper lightning payment request");const n=[],o=r.decode(e,Number.MAX_SAFE_INTEGER);e=e.toLowerCase();const l=o.prefix;let u=o.words,d=e.slice(l.length+1),f=u.slice(-104);u=u.slice(0,-104);let v=l.match(/^ln(\S+?)(\d*)([a-zA-Z]?)$/);if(v&&!v[2]&&(v=l.match(/^ln(\S+)$/)),!v)throw new Error("Not a proper lightning payment request");n.push({name:"lightning_network",letters:"ln"});const x=v[1];let E;if(t){if(void 0===t.bech32||void 0===t.pubKeyHash||void 0===t.scriptHash||!Array.isArray(t.validWitnessVersions))throw new Error("Invalid network");E=t}else switch(x){case s.bech32:E=s;break;case a.bech32:E=a;break;case c.bech32:E=c;break;case h.bech32:E=h}if(!E||E.bech32!==x)throw new Error("Unknown coin bech32 prefix");n.push({name:"coin_network",letters:x,value:E});const k=v[2];let _;k?(_=m(k+v[3],!0),n.push({name:"amount",letters:v[2]+v[3],value:_})):_=null,n.push({name:"separator",letters:"1"});const A=b(u.slice(0,7));let B,S,H,I;for(u=u.slice(7),n.push({name:"timestamp",letters:d.slice(0,7),value:A}),d=d.slice(7);u.length>0;){const e=u[0].toString();B=y[e]||"unknown_tag",S=g[e]||w(e),u=u.slice(1),H=b(u.slice(0,2)),u=u.slice(2),I=u.slice(0,H),u=u.slice(H),n.push({name:B,tag:d[0],letters:d.slice(0,3+H),value:S(I)}),d=d.slice(3+H)}n.push({name:"signature",letters:d.slice(0,104),value:i.encode(r.fromWordsUnsafe(f))}),d=d.slice(104),n.push({name:"checksum",letters:d});let L={paymentRequest:e,sections:n,get expiry(){let e=n.find((e=>"expiry"===e.name));if(e)return U("timestamp")+e.value},get route_hints(){return n.filter((e=>"route_hint"===e.name)).map((e=>e.value))}};for(let e in p)"route_hint"!==e&&Object.defineProperty(L,e,{get:()=>U(e)});return L;function U(e){let t=n.find((t=>t.name===e));return t?t.value:void 0}},hrpToMillisat:m}},377:(e,t,n)=>{var r=n(832),i=n(652),o=n(801),s=n(30),a=n(618),c=n(49),h=n(971);h.alea=r,h.xor128=i,h.xorwow=o,h.xorshift7=s,h.xor4096=a,h.tychei=c,e.exports=h},832:function(e,t,n){var r;!function(e,i,o){function s(e){var t,n=this,r=(t=4022871197,function(e){e=String(e);for(var n=0;n<e.length;n++){var r=.02519603282416938*(t+=e.charCodeAt(n));r-=t=r>>>0,t=(r*=t)>>>0,t+=4294967296*(r-=t)}return 2.3283064365386963e-10*(t>>>0)});n.next=function(){var e=2091639*n.s0+2.3283064365386963e-10*n.c;return n.s0=n.s1,n.s1=n.s2,n.s2=e-(n.c=0|e)},n.c=1,n.s0=r(" "),n.s1=r(" "),n.s2=r(" "),n.s0-=r(e),n.s0<0&&(n.s0+=1),n.s1-=r(e),n.s1<0&&(n.s1+=1),n.s2-=r(e),n.s2<0&&(n.s2+=1),r=null}function a(e,t){return t.c=e.c,t.s0=e.s0,t.s1=e.s1,t.s2=e.s2,t}function c(e,t){var n=new s(e),r=t&&t.state,i=n.next;return i.int32=function(){return 4294967296*n.next()|0},i.double=function(){return i()+11102230246251565e-32*(2097152*i()|0)},i.quick=i,r&&("object"==typeof r&&a(r,n),i.state=function(){return a(n,{})}),i}i&&i.exports?i.exports=c:n.amdD&&n.amdO?void 0===(r=function(){return c}.call(t,n,t,i))||(i.exports=r):this.alea=c}(0,e=n.nmd(e),n.amdD)},49:function(e,t,n){var r;!function(e,i,o){function s(e){var t=this,n="";t.next=function(){var e=t.b,n=t.c,r=t.d,i=t.a;return e=e<<25^e>>>7^n,n=n-r|0,r=r<<24^r>>>8^i,i=i-e|0,t.b=e=e<<20^e>>>12^n,t.c=n=n-r|0,t.d=r<<16^n>>>16^i,t.a=i-e|0},t.a=0,t.b=0,t.c=-1640531527,t.d=1367130551,e===Math.floor(e)?(t.a=e/4294967296|0,t.b=0|e):n+=e;for(var r=0;r<n.length+20;r++)t.b^=0|n.charCodeAt(r),t.next()}function a(e,t){return t.a=e.a,t.b=e.b,t.c=e.c,t.d=e.d,t}function c(e,t){var n=new s(e),r=t&&t.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},i.int32=n.next,i.quick=i,r&&("object"==typeof r&&a(r,n),i.state=function(){return a(n,{})}),i}i&&i.exports?i.exports=c:n.amdD&&n.amdO?void 0===(r=function(){return c}.call(t,n,t,i))||(i.exports=r):this.tychei=c}(0,e=n.nmd(e),n.amdD)},652:function(e,t,n){var r;!function(e,i,o){function s(e){var t=this,n="";t.x=0,t.y=0,t.z=0,t.w=0,t.next=function(){var e=t.x^t.x<<11;return t.x=t.y,t.y=t.z,t.z=t.w,t.w^=t.w>>>19^e^e>>>8},e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),t.next()}function a(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t}function c(e,t){var n=new s(e),r=t&&t.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},i.int32=n.next,i.quick=i,r&&("object"==typeof r&&a(r,n),i.state=function(){return a(n,{})}),i}i&&i.exports?i.exports=c:n.amdD&&n.amdO?void 0===(r=function(){return c}.call(t,n,t,i))||(i.exports=r):this.xor128=c}(0,e=n.nmd(e),n.amdD)},618:function(e,t,n){var r;!function(e,i,o){function s(e){var t=this;t.next=function(){var e,n,r=t.w,i=t.X,o=t.i;return t.w=r=r+1640531527|0,n=i[o+34&127],e=i[o=o+1&127],n^=n<<13,e^=e<<17,n^=n>>>15,e^=e>>>12,n=i[o]=n^e,t.i=o,n+(r^r>>>16)|0},function(e,t){var n,r,i,o,s,a=[],c=128;for(t===(0|t)?(r=t,t=null):(t+="\0",r=0,c=Math.max(c,t.length)),i=0,o=-32;o<c;++o)t&&(r^=t.charCodeAt((o+32)%t.length)),0===o&&(s=r),r^=r<<10,r^=r>>>15,r^=r<<4,r^=r>>>13,o>=0&&(s=s+1640531527|0,i=0==(n=a[127&o]^=r+s)?i+1:0);for(i>=128&&(a[127&(t&&t.length||0)]=-1),i=127,o=512;o>0;--o)r=a[i+34&127],n=a[i=i+1&127],r^=r<<13,n^=n<<17,r^=r>>>15,n^=n>>>12,a[i]=r^n;e.w=s,e.X=a,e.i=i}(t,e)}function a(e,t){return t.i=e.i,t.w=e.w,t.X=e.X.slice(),t}function c(e,t){null==e&&(e=+new Date);var n=new s(e),r=t&&t.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},i.int32=n.next,i.quick=i,r&&(r.X&&a(r,n),i.state=function(){return a(n,{})}),i}i&&i.exports?i.exports=c:n.amdD&&n.amdO?void 0===(r=function(){return c}.call(t,n,t,i))||(i.exports=r):this.xor4096=c}(0,e=n.nmd(e),n.amdD)},30:function(e,t,n){var r;!function(e,i,o){function s(e){var t=this;t.next=function(){var e,n,r=t.x,i=t.i;return e=r[i],n=(e^=e>>>7)^e<<24,n^=(e=r[i+1&7])^e>>>10,n^=(e=r[i+3&7])^e>>>3,n^=(e=r[i+4&7])^e<<7,e=r[i+7&7],n^=(e^=e<<13)^e<<9,r[i]=n,t.i=i+1&7,n},function(e,t){var n,r=[];if(t===(0|t))r[0]=t;else for(t=""+t,n=0;n<t.length;++n)r[7&n]=r[7&n]<<15^t.charCodeAt(n)+r[n+1&7]<<13;for(;r.length<8;)r.push(0);for(n=0;n<8&&0===r[n];++n);for(8==n?r[7]=-1:r[n],e.x=r,e.i=0,n=256;n>0;--n)e.next()}(t,e)}function a(e,t){return t.x=e.x.slice(),t.i=e.i,t}function c(e,t){null==e&&(e=+new Date);var n=new s(e),r=t&&t.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},i.int32=n.next,i.quick=i,r&&(r.x&&a(r,n),i.state=function(){return a(n,{})}),i}i&&i.exports?i.exports=c:n.amdD&&n.amdO?void 0===(r=function(){return c}.call(t,n,t,i))||(i.exports=r):this.xorshift7=c}(0,e=n.nmd(e),n.amdD)},801:function(e,t,n){var r;!function(e,i,o){function s(e){var t=this,n="";t.next=function(){var e=t.x^t.x>>>2;return t.x=t.y,t.y=t.z,t.z=t.w,t.w=t.v,(t.d=t.d+362437|0)+(t.v=t.v^t.v<<4^e^e<<1)|0},t.x=0,t.y=0,t.z=0,t.w=0,t.v=0,e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),r==n.length&&(t.d=t.x<<10^t.x>>>4),t.next()}function a(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t.v=e.v,t.d=e.d,t}function c(e,t){var n=new s(e),r=t&&t.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},i.int32=n.next,i.quick=i,r&&("object"==typeof r&&a(r,n),i.state=function(){return a(n,{})}),i}i&&i.exports?i.exports=c:n.amdD&&n.amdO?void 0===(r=function(){return c}.call(t,n,t,i))||(i.exports=r):this.xorwow=c}(0,e=n.nmd(e),n.amdD)},971:function(e,t,n){var r;!function(i,o,s){var a,c=256,h=s.pow(c,6),l=s.pow(2,52),u=2*l,d=c-1;function f(e,t,n){var r=[],d=w(g((t=1==t?{entropy:!0}:t||{}).entropy?[e,b(o)]:null==e?function(){try{var e;return a&&(e=a.randomBytes)?e=e(c):(e=new Uint8Array(c),(i.crypto||i.msCrypto).getRandomValues(e)),b(e)}catch(e){var t=i.navigator,n=t&&t.plugins;return[+new Date,i,n,i.screen,b(o)]}}():e,3),r),f=new p(r),m=function(){for(var e=f.g(6),t=h,n=0;e<l;)e=(e+n)*c,t*=c,n=f.g(1);for(;e>=u;)e/=2,t/=2,n>>>=1;return(e+n)/t};return m.int32=function(){return 0|f.g(4)},m.quick=function(){return f.g(4)/4294967296},m.double=m,w(b(f.S),o),(t.pass||n||function(e,t,n,r){return r&&(r.S&&y(r,f),e.state=function(){return y(f,{})}),n?(s.random=e,t):e})(m,d,"global"in t?t.global:this==s,t.state)}function p(e){var t,n=e.length,r=this,i=0,o=r.i=r.j=0,s=r.S=[];for(n||(e=[n++]);i<c;)s[i]=i++;for(i=0;i<c;i++)s[i]=s[o=d&o+e[i%n]+(t=s[i])],s[o]=t;(r.g=function(e){for(var t,n=0,i=r.i,o=r.j,s=r.S;e--;)t=s[i=d&i+1],n=n*c+s[d&(s[i]=s[o=d&o+t])+(s[o]=t)];return r.i=i,r.j=o,n})(c)}function y(e,t){return t.i=e.i,t.j=e.j,t.S=e.S.slice(),t}function g(e,t){var n,r=[],i=typeof e;if(t&&"object"==i)for(n in e)try{r.push(g(e[n],t-1))}catch(e){}return r.length?r:"string"==i?e:e+"\0"}function w(e,t){for(var n,r=e+"",i=0;i<r.length;)t[d&i]=d&(n^=19*t[d&i])+r.charCodeAt(i++);return b(t)}function b(e){return String.fromCharCode.apply(0,e)}if(w(s.random(),o),e.exports){e.exports=f;try{a=n(42)}catch(e){}}else void 0===(r=function(){return f}.call(t,n,t,e))||(e.exports=r)}("undefined"!=typeof self?self:this,[],Math)},480:()=>{},42:()=>{}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.amdD=function(){throw new Error("define cannot be used indirect")},n.amdO={},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{"use strict";var e={};n.r(e),n.d(e,{dQ:()=>ae,ci:()=>Y,bytesToNumberBE:()=>te,ty:()=>ne,eV:()=>se,n$:()=>le,ql:()=>oe,hexToBytes:()=>ee,tL:()=>re,S5:()=>ie,FF:()=>de});var t=function(){function e(e){var t=e.ctx,n=e.screenX,r=e.screenY,i=e.speed,o=e.g,s=e.image;this.ctx=t,this.gravity=o,this.screenX=n,this.screenY=r,this.width=61,this.height=42,this.frames=1,this.stillness=!0,this.lose=!1,this.velocity=0,this.speed=i,this.image=s,this.position={x:this.screenX/4-this.width,y:this.screenY/2-this.height},this.sprite={x:92,x1:61}}return e.prototype.draw=function(){this.ctx.drawImage(this.image,this.sprite.x*this.frames,0,this.sprite.x,64,this.position.x,this.position.y,this.sprite.x1,this.height)},e.prototype.update=function(){if(this.lose)return this.draw();if(this.stillness){var e=this.screenY/2-this.height;return this.position.y<e-10?this.gravity+=.01:this.gravity-=.01,this.position.y+=this.gravity,this.draw()}this.position.y+=this.velocity,this.velocity+=this.gravity,this.draw()},e.prototype.nextFrame=function(){this.frames+1>2?this.frames=0:this.frames++},e}();const r=t;var i=function(){function e(e){var t=e.ctx,n=e.image,r=e.width,i=e.height,o=e.x,s=e.y;this.position={x:o,y:s},this.height=i,this.width=r,this.image=n,this.ctx=t}return e.prototype.draw=function(){this.ctx.drawImage(this.image,this.position.x,this.position.y,this.width,this.height)},e}();const o=i;var s=function(){function e(e){var t=e.ctx,n=e.image,r=e.width,i=e.height,o=e.x,s=e.y;this.position={x:o,y:s},this.height=i,this.width=r,this.image=n,this.ctx=t}return e.prototype.draw=function(){this.ctx.drawImage(this.image,this.position.x,this.position.y,this.width,this.height)},e}();const a=s;var c=function(e){var t=new Image;return t.src=e,t},h=function(e){return e.toString(32)},l=function(){function e(e){var t=e.ctx,n=e.position,r=e.state,i=e.image;this.position=n,this.height=528,this.width=92,this.state=r,this.image=i,this.ctx=t}return e.prototype.draw=function(){this.ctx.drawImage(this.image,this.position.x,this.position.y,this.width,this.height)},e}();const u=l;var d=n(465),f=n(153),p=n(632);new class{constructor(e){this.storage=void 0,this.storage=e||{}}getItem(e){return this.storage[e]}setItem(e,t){this.storage[e]=t}};function y(){return y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},y.apply(this,arguments)}const g=/((([A-Za-z]{3,9}:(?:\/\/)?)(?:[-;:&=\+\$,\w]+@)?[A-Za-z0-9.-]+|(?:www.|[-;:&=\+\$,\w]+@)[A-Za-z0-9.-]+)((?:\/[\+~%\/.\w-_]*)?\??(?:[-\+=&;%@.\w_]*)#?(?:[\w]*))?)/,w=e=>!!e&&g.test(e),b=({amount:e,min:t,max:n})=>{const r=e>0&&e>=t&&e<=n;return r&&t===n?e===t:r};class m{constructor(e){var t,n;this.paymentRequest=void 0,this.paymentHash=void 0,this.preimage=void 0,this.verify=void 0,this.paymentRequest=e.pr,this.paymentHash=(e=>{if(!e)return null;try{const t=(0,p.decode)(e);if(!t||!t.sections)return null;const n=t.sections.find((e=>"payment_hash"===e.name));return n&&n.value?n.value.toString():null}catch(e){return null}})(this.paymentRequest),this.verify=null!=(t=e.verify)?t:null,this.preimage=null!=(n=e.preimage)?n:null}async isPaid(){if(this.preimage)return this.validatePreimage(this.preimage);if(this.verify)return await this.verifyPayment();throw new Error("Could not verify payment")}validatePreimage(e){if(!e||!this.paymentHash)return!1;try{const t=f(d.parse(e)).toString(d);return this.paymentHash===t}catch(e){return!1}}async verifyPayment(){if(!this.verify)throw new Error("LNURL verify not available");const e=await fetch(this.verify),t=await e.json();return t.preimage&&(this.preimage=t.preimage),t.settled}}async function v({satoshi:e,comment:t,p:n,e:r,relays:i},o={}){const s=o.nostr||globalThis.nostr;if(!s)throw new Error("nostr option or window.nostr is not available");const a=[["relays",...i],["amount",e.toString()]];n&&a.push(["p",n]),r&&a.push(["e",r]);const c={pubkey:await s.getPublicKey(),created_at:Math.floor(Date.now()/1e3),kind:9734,tags:a,content:null!=t?t:""};return c.id=function(e){return f(function(e){if(!function(e){if("string"!=typeof e.content)return!1;if("number"!=typeof e.created_at)return!1;if(!Array.isArray(e.tags))return!1;for(let t=0;t<e.tags.length;t++){const n=e.tags[t];if(!Array.isArray(n))return!1;for(let e=0;e<n.length;e++)if("object"==typeof n[e])return!1}return!0}(e))throw new Error("can't serialize event with wrong or missing properties");return JSON.stringify([0,e.pubkey,e.created_at,e.kind,e.tags,e.content])}(e)).toString(d)}(c),await s.signEvent(c)}const x=/^((?:[^<>()\[\]\\.,;:\s@"]+(?:\.[^<>()\[\]\\.,;:\s@"]+)*)|(?:".+"))@((?:\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(?:(?:[a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;var E=n(377),k=function(){function e(e){var t=e.ctx,n=e.width,r=e.height,i=e.groundHeight;this._ctx=t,this._x=Math.random()*n,this._y=r-i,this.opacity=1,this.alive=!0}return e.prototype.draw=function(){if(this.alive){var e=E.alea(this._x.toString());this._drawBranch(e,this._x,0,this._x,this._y,this.opacity,1),this.opacity-=.015,this.opacity<=0&&(this.alive=!1)}},e.prototype._drawBranch=function(e,t,n,r,i,o,s){if(!(s>4))for(var a=r-t,c=i-n,h=Math.atan2(c,a),l=0;l<1;l++){var u=o;this._ctx.strokeStyle="rgba(233, 211, 255, ".concat(u,")"),this._ctx.lineWidth=5,this._ctx.beginPath(),this._ctx.moveTo(t,n);var d=h+(e.quick()-.5)*Math.pow(4-s,3)*.01,f=this._y/4,p=t+f*Math.cos(d),y=n+f*Math.sin(d);this._ctx.lineTo(p,y),this._ctx.stroke(),this._drawBranch(e,p,y,r,i,u,s+1)}},e}();const _=k;function A(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function B(e,...t){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}n(354),n(370);const S={number:A,bool:function(e){if("boolean"!=typeof e)throw new Error(`Expected boolean, not ${e}`)},bytes:B,hash:function(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");A(e.outputLen),A(e.blockLen)},exists:function(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")},output:function(e,t){B(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}},H="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,I=e=>e instanceof Uint8Array,L=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),U=(e,t)=>e<<32-t|e>>>t;if(68!==new Uint8Array(new Uint32Array([287454020]).buffer)[0])throw new Error("Non little-endian hardware is not supported");const R=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function C(e){if(!I(e))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=R[e[n]];return t}function T(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(t/2);for(let t=0;t<n.length;t++){const r=2*t,i=e.slice(r,r+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");n[t]=o}return n}function O(e){if("string"==typeof e&&(e=function(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}(e)),!I(e))throw new Error("expected Uint8Array, got "+typeof e);return e}function N(...e){const t=new Uint8Array(e.reduce(((e,t)=>e+t.length),0));let n=0;return e.forEach((e=>{if(!I(e))throw new Error("Uint8Array expected");t.set(e,n),n+=e.length})),t}class ${clone(){return this._cloneInto()}}function P(e){const t=t=>e().update(O(t)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function D(e=32){if(H&&"function"==typeof H.getRandomValues)return H.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}class z extends ${constructor(e,t,n,r){super(),this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=L(this.buffer)}update(e){S.exists(this);const{view:t,buffer:n,blockLen:r}=this,i=(e=O(e)).length;for(let o=0;o<i;){const s=Math.min(r-this.pos,i-o);if(s!==r)n.set(e.subarray(o,o+s),this.pos),this.pos+=s,o+=s,this.pos===r&&(this.process(t,0),this.pos=0);else{const t=L(e);for(;r<=i-o;o+=r)this.process(t,o)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){S.exists(this),S.output(e,this),this.finished=!0;const{buffer:t,view:n,blockLen:r,isLE:i}=this;let{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>r-o&&(this.process(n,0),o=0);for(let e=o;e<r;e++)t[e]=0;!function(e,t,n,r){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,n,r);const i=BigInt(32),o=BigInt(4294967295),s=Number(n>>i&o),a=Number(n&o),c=r?4:0,h=r?0:4;e.setUint32(t+c,s,r),e.setUint32(t+h,a,r)}(n,r-8,BigInt(8*this.length),i),this.process(n,0);const s=L(e),a=this.outputLen;if(a%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=a/4,h=this.get();if(c>h.length)throw new Error("_sha2: outputLen bigger than state");for(let e=0;e<c;e++)s.setUint32(4*e,h[e],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:n,length:r,finished:i,destroyed:o,pos:s}=this;return e.length=r,e.pos=s,e.finished=i,e.destroyed=o,r%t&&e.buffer.set(n),e}}const j=(e,t,n)=>e&t^e&n^t&n,q=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),K=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),F=new Uint32Array(64);class M extends z{constructor(){super(64,32,8,!1),this.A=0|K[0],this.B=0|K[1],this.C=0|K[2],this.D=0|K[3],this.E=0|K[4],this.F=0|K[5],this.G=0|K[6],this.H=0|K[7]}get(){const{A:e,B:t,C:n,D:r,E:i,F:o,G:s,H:a}=this;return[e,t,n,r,i,o,s,a]}set(e,t,n,r,i,o,s,a){this.A=0|e,this.B=0|t,this.C=0|n,this.D=0|r,this.E=0|i,this.F=0|o,this.G=0|s,this.H=0|a}process(e,t){for(let n=0;n<16;n++,t+=4)F[n]=e.getUint32(t,!1);for(let e=16;e<64;e++){const t=F[e-15],n=F[e-2],r=U(t,7)^U(t,18)^t>>>3,i=U(n,17)^U(n,19)^n>>>10;F[e]=i+F[e-7]+r+F[e-16]|0}let{A:n,B:r,C:i,D:o,E:s,F:a,G:c,H:h}=this;for(let e=0;e<64;e++){const t=h+(U(s,6)^U(s,11)^U(s,25))+((l=s)&a^~l&c)+q[e]+F[e]|0,u=(U(n,2)^U(n,13)^U(n,22))+j(n,r,i)|0;h=c,c=a,a=s,s=o+t|0,o=i,i=r,r=n,n=t+u|0}var l;n=n+this.A|0,r=r+this.B|0,i=i+this.C|0,o=o+this.D|0,s=s+this.E|0,a=a+this.F|0,c=c+this.G|0,h=h+this.H|0,this.set(n,r,i,o,s,a,c,h)}roundClean(){F.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class W extends M{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}const G=P((()=>new M)),V=(P((()=>new W)),BigInt(0),BigInt(1)),Z=BigInt(2),X=e=>e instanceof Uint8Array,J=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function Y(e){if(!X(e))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=J[e[n]];return t}function Q(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);return BigInt(""===e?"0":`0x${e}`)}function ee(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(t/2);for(let t=0;t<n.length;t++){const r=2*t,i=e.slice(r,r+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");n[t]=o}return n}function te(e){return Q(Y(e))}function ne(e){if(!X(e))throw new Error("Uint8Array expected");return Q(Y(Uint8Array.from(e).reverse()))}function re(e,t){return ee(e.toString(16).padStart(2*t,"0"))}function ie(e,t){return re(e,t).reverse()}function oe(e,t,n){let r;if("string"==typeof t)try{r=ee(t)}catch(n){throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${n}`)}else{if(!X(t))throw new Error(`${e} must be hex string or Uint8Array`);r=Uint8Array.from(t)}const i=r.length;if("number"==typeof n&&i!==n)throw new Error(`${e} expected ${n} bytes, got ${i}`);return r}function se(...e){const t=new Uint8Array(e.reduce(((e,t)=>e+t.length),0));let n=0;return e.forEach((e=>{if(!X(e))throw new Error("Uint8Array expected");t.set(e,n),n+=e.length})),t}const ae=e=>(Z<<BigInt(e-1))-V,ce=e=>new Uint8Array(e),he=e=>Uint8Array.from(e);function le(e,t,n){if("number"!=typeof e||e<2)throw new Error("hashLen must be a number");if("number"!=typeof t||t<2)throw new Error("qByteLen must be a number");if("function"!=typeof n)throw new Error("hmacFn must be a function");let r=ce(e),i=ce(e),o=0;const s=()=>{r.fill(1),i.fill(0),o=0},a=(...e)=>n(i,r,...e),c=(e=ce())=>{i=a(he([0]),e),r=a(),0!==e.length&&(i=a(he([1]),e),r=a())},h=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let e=0;const n=[];for(;e<t;){r=a();const t=r.slice();n.push(t),e+=r.length}return se(...n)};return(e,t)=>{let n;for(s(),c(e);!(n=t(h()));)c();return s(),n}}const ue={bigint:e=>"bigint"==typeof e,function:e=>"function"==typeof e,boolean:e=>"boolean"==typeof e,string:e=>"string"==typeof e,isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"==typeof e&&Number.isSafeInteger(e.outputLen)};function de(e,t,n={}){const r=(t,n,r)=>{const i=ue[n];if("function"!=typeof i)throw new Error(`Invalid validator "${n}", expected function`);const o=e[t];if(!(r&&void 0===o||i(o,e)))throw new Error(`Invalid param ${String(t)}=${o} (${typeof o}), expected ${n}`)};for(const[e,n]of Object.entries(t))r(e,n,!1);for(const[e,t]of Object.entries(n))r(e,t,!0);return e}const fe=BigInt(0),pe=BigInt(1),ye=BigInt(2),ge=BigInt(3),we=BigInt(4),be=BigInt(5),me=BigInt(8);function ve(e,t){const n=e%t;return n>=fe?n:t+n}function xe(e,t,n){if(n<=fe||t<fe)throw new Error("Expected power/modulo > 0");if(n===pe)return fe;let r=pe;for(;t>fe;)t&pe&&(r=r*e%n),e=e*e%n,t>>=pe;return r}function Ee(e,t,n){let r=e;for(;t-- >fe;)r*=r,r%=n;return r}function ke(e,t){if(e===fe||t<=fe)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let n=ve(e,t),r=t,i=fe,o=pe,s=pe,a=fe;for(;n!==fe;){const e=r/n,t=r%n,c=i-s*e,h=o-a*e;r=n,n=t,i=s,o=a,s=c,a=h}if(r!==pe)throw new Error("invert: does not exist");return ve(i,t)}BigInt(9),BigInt(16);const _e=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Ae(e,t){const n=void 0!==t?t:e.toString(2).length;return{nBitLength:n,nByteLength:Math.ceil(n/8)}}const Be=BigInt(0),Se=BigInt(1);function He(e){return de(e.Fp,_e.reduce(((e,t)=>(e[t]="function",e)),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"})),de(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Ae(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}const{bytesToNumberBE:Ie,hexToBytes:Le}=e,Ue={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(e){const{Err:t}=Ue;if(e.length<2||2!==e[0])throw new t("Invalid signature integer tag");const n=e[1],r=e.subarray(2,n+2);if(!n||r.length!==n)throw new t("Invalid signature integer: wrong length");if(128&r[0])throw new t("Invalid signature integer: negative");if(0===r[0]&&!(128&r[1]))throw new t("Invalid signature integer: unnecessary leading zero");return{d:Ie(r),l:e.subarray(n+2)}},toSig(e){const{Err:t}=Ue,n="string"==typeof e?Le(e):e;if(!(n instanceof Uint8Array))throw new Error("ui8a expected");let r=n.length;if(r<2||48!=n[0])throw new t("Invalid signature tag");if(n[1]!==r-2)throw new t("Invalid signature: incorrect length");const{d:i,l:o}=Ue._parseInt(n.subarray(2)),{d:s,l:a}=Ue._parseInt(o);if(a.length)throw new t("Invalid signature: left bytes after parsing");return{r:i,s}},hexFromSig(e){const t=e=>8&Number.parseInt(e[0],16)?"00"+e:e,n=e=>{const t=e.toString(16);return 1&t.length?`0${t}`:t},r=t(n(e.s)),i=t(n(e.r)),o=r.length/2,s=i.length/2,a=n(o),c=n(s);return`30${n(s+o+4)}02${c}${i}02${a}${r}`}},Re=BigInt(0),Ce=BigInt(1),Te=(BigInt(2),BigInt(3));function Oe(e){const t=function(e){const t=He(e);return de(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}(e),{Fp:n,n:r}=t,i=n.BYTES+1,o=2*n.BYTES+1;function s(e){return ve(e,r)}function a(e){return ke(e,r)}const{ProjectivePoint:c,normPrivateKeyToScalar:h,weierstrassEquation:l,isWithinCurveOrder:u}=function(e){const t=function(e){const t=He(e);de(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:i}=t;if(n){if(!r.eql(i,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!=typeof n||"bigint"!=typeof n.beta||"function"!=typeof n.splitScalar)throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}(e),{Fp:n}=t,r=t.toBytes||((e,t,r)=>{const i=t.toAffine();return se(Uint8Array.from([4]),n.toBytes(i.x),n.toBytes(i.y))}),i=t.fromBytes||(e=>{const t=e.subarray(1);return{x:n.fromBytes(t.subarray(0,n.BYTES)),y:n.fromBytes(t.subarray(n.BYTES,2*n.BYTES))}});function o(e){const{a:r,b:i}=t,o=n.sqr(e),s=n.mul(o,e);return n.add(n.add(s,n.mul(e,r)),i)}if(!n.eql(n.sqr(t.Gy),o(t.Gx)))throw new Error("bad generator point: equation left != right");function s(e){return"bigint"==typeof e&&Re<e&&e<t.n}function a(e){if(!s(e))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function c(e){const{allowedPrivateKeyLengths:n,nByteLength:r,wrapPrivateKey:i,n:o}=t;if(n&&"bigint"!=typeof e){if(e instanceof Uint8Array&&(e=Y(e)),"string"!=typeof e||!n.includes(e.length))throw new Error("Invalid key");e=e.padStart(2*r,"0")}let s;try{s="bigint"==typeof e?e:te(oe("private key",e,r))}catch(t){throw new Error(`private key must be ${r} bytes, hex or bigint, not ${typeof e}`)}return i&&(s=ve(s,o)),a(s),s}const h=new Map;function l(e){if(!(e instanceof u))throw new Error("ProjectivePoint expected")}class u{constructor(e,t,r){if(this.px=e,this.py=t,this.pz=r,null==e||!n.isValid(e))throw new Error("x required");if(null==t||!n.isValid(t))throw new Error("y required");if(null==r||!n.isValid(r))throw new Error("z required")}static fromAffine(e){const{x:t,y:r}=e||{};if(!e||!n.isValid(t)||!n.isValid(r))throw new Error("invalid affine point");if(e instanceof u)throw new Error("projective point not allowed");const i=e=>n.eql(e,n.ZERO);return i(t)&&i(r)?u.ZERO:new u(t,r,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){const t=n.invertBatch(e.map((e=>e.pz)));return e.map(((e,n)=>e.toAffine(t[n]))).map(u.fromAffine)}static fromHex(e){const t=u.fromAffine(i(oe("pointHex",e)));return t.assertValidity(),t}static fromPrivateKey(e){return u.BASE.multiply(c(e))}_setWindowSize(e){this._WINDOW_SIZE=e,h.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint)return;throw new Error("bad point: ZERO")}const{x:e,y:r}=this.toAffine();if(!n.isValid(e)||!n.isValid(r))throw new Error("bad point: x or y not FE");const i=n.sqr(r),s=o(e);if(!n.eql(i,s))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:e}=this.toAffine();if(n.isOdd)return!n.isOdd(e);throw new Error("Field doesn't support isOdd")}equals(e){l(e);const{px:t,py:r,pz:i}=this,{px:o,py:s,pz:a}=e,c=n.eql(n.mul(t,a),n.mul(o,i)),h=n.eql(n.mul(r,a),n.mul(s,i));return c&&h}negate(){return new u(this.px,n.neg(this.py),this.pz)}double(){const{a:e,b:r}=t,i=n.mul(r,Te),{px:o,py:s,pz:a}=this;let c=n.ZERO,h=n.ZERO,l=n.ZERO,d=n.mul(o,o),f=n.mul(s,s),p=n.mul(a,a),y=n.mul(o,s);return y=n.add(y,y),l=n.mul(o,a),l=n.add(l,l),c=n.mul(e,l),h=n.mul(i,p),h=n.add(c,h),c=n.sub(f,h),h=n.add(f,h),h=n.mul(c,h),c=n.mul(y,c),l=n.mul(i,l),p=n.mul(e,p),y=n.sub(d,p),y=n.mul(e,y),y=n.add(y,l),l=n.add(d,d),d=n.add(l,d),d=n.add(d,p),d=n.mul(d,y),h=n.add(h,d),p=n.mul(s,a),p=n.add(p,p),d=n.mul(p,y),c=n.sub(c,d),l=n.mul(p,f),l=n.add(l,l),l=n.add(l,l),new u(c,h,l)}add(e){l(e);const{px:r,py:i,pz:o}=this,{px:s,py:a,pz:c}=e;let h=n.ZERO,d=n.ZERO,f=n.ZERO;const p=t.a,y=n.mul(t.b,Te);let g=n.mul(r,s),w=n.mul(i,a),b=n.mul(o,c),m=n.add(r,i),v=n.add(s,a);m=n.mul(m,v),v=n.add(g,w),m=n.sub(m,v),v=n.add(r,o);let x=n.add(s,c);return v=n.mul(v,x),x=n.add(g,b),v=n.sub(v,x),x=n.add(i,o),h=n.add(a,c),x=n.mul(x,h),h=n.add(w,b),x=n.sub(x,h),f=n.mul(p,v),h=n.mul(y,b),f=n.add(h,f),h=n.sub(w,f),f=n.add(w,f),d=n.mul(h,f),w=n.add(g,g),w=n.add(w,g),b=n.mul(p,b),v=n.mul(y,v),w=n.add(w,b),b=n.sub(g,b),b=n.mul(p,b),v=n.add(v,b),g=n.mul(w,v),d=n.add(d,g),g=n.mul(x,v),h=n.mul(m,h),h=n.sub(h,g),g=n.mul(m,w),f=n.mul(x,f),f=n.add(f,g),new u(h,d,f)}subtract(e){return this.add(e.negate())}is0(){return this.equals(u.ZERO)}wNAF(e){return f.wNAFCached(this,h,e,(e=>{const t=n.invertBatch(e.map((e=>e.pz)));return e.map(((e,n)=>e.toAffine(t[n]))).map(u.fromAffine)}))}multiplyUnsafe(e){const r=u.ZERO;if(e===Re)return r;if(a(e),e===Ce)return this;const{endo:i}=t;if(!i)return f.unsafeLadder(this,e);let{k1neg:o,k1:s,k2neg:c,k2:h}=i.splitScalar(e),l=r,d=r,p=this;for(;s>Re||h>Re;)s&Ce&&(l=l.add(p)),h&Ce&&(d=d.add(p)),p=p.double(),s>>=Ce,h>>=Ce;return o&&(l=l.negate()),c&&(d=d.negate()),d=new u(n.mul(d.px,i.beta),d.py,d.pz),l.add(d)}multiply(e){a(e);let r,i,o=e;const{endo:s}=t;if(s){const{k1neg:e,k1:t,k2neg:a,k2:c}=s.splitScalar(o);let{p:h,f:l}=this.wNAF(t),{p:d,f:p}=this.wNAF(c);h=f.constTimeNegate(e,h),d=f.constTimeNegate(a,d),d=new u(n.mul(d.px,s.beta),d.py,d.pz),r=h.add(d),i=l.add(p)}else{const{p:e,f:t}=this.wNAF(o);r=e,i=t}return u.normalizeZ([r,i])[0]}multiplyAndAddUnsafe(e,t,n){const r=u.BASE,i=(e,t)=>t!==Re&&t!==Ce&&e.equals(r)?e.multiply(t):e.multiplyUnsafe(t),o=i(this,t).add(i(e,n));return o.is0()?void 0:o}toAffine(e){const{px:t,py:r,pz:i}=this,o=this.is0();null==e&&(e=o?n.ONE:n.inv(i));const s=n.mul(t,e),a=n.mul(r,e),c=n.mul(i,e);if(o)return{x:n.ZERO,y:n.ZERO};if(!n.eql(c,n.ONE))throw new Error("invZ was invalid");return{x:s,y:a}}isTorsionFree(){const{h:e,isTorsionFree:n}=t;if(e===Ce)return!0;if(n)return n(u,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:e,clearCofactor:n}=t;return e===Ce?this:n?n(u,this):this.multiplyUnsafe(t.h)}toRawBytes(e=!0){return this.assertValidity(),r(u,this,e)}toHex(e=!0){return Y(this.toRawBytes(e))}}u.BASE=new u(t.Gx,t.Gy,n.ONE),u.ZERO=new u(n.ZERO,n.ONE,n.ZERO);const d=t.nBitLength,f=function(e,t){const n=(e,t)=>{const n=t.negate();return e?n:t},r=e=>({windows:Math.ceil(t/e)+1,windowSize:2**(e-1)});return{constTimeNegate:n,unsafeLadder(t,n){let r=e.ZERO,i=t;for(;n>Be;)n&Se&&(r=r.add(i)),i=i.double(),n>>=Se;return r},precomputeWindow(e,t){const{windows:n,windowSize:i}=r(t),o=[];let s=e,a=s;for(let e=0;e<n;e++){a=s,o.push(a);for(let e=1;e<i;e++)a=a.add(s),o.push(a);s=a.double()}return o},wNAF(t,i,o){const{windows:s,windowSize:a}=r(t);let c=e.ZERO,h=e.BASE;const l=BigInt(2**t-1),u=2**t,d=BigInt(t);for(let e=0;e<s;e++){const t=e*a;let r=Number(o&l);o>>=d,r>a&&(r-=u,o+=Se);const s=t,f=t+Math.abs(r)-1,p=e%2!=0,y=r<0;0===r?h=h.add(n(p,i[s])):c=c.add(n(y,i[f]))}return{p:c,f:h}},wNAFCached(e,t,n,r){const i=e._WINDOW_SIZE||1;let o=t.get(e);return o||(o=this.precomputeWindow(e,i),1!==i&&t.set(e,r(o))),this.wNAF(i,o,n)}}}(u,t.endo?Math.ceil(d/2):d);return{CURVE:t,ProjectivePoint:u,normPrivateKeyToScalar:c,weierstrassEquation:o,isWithinCurveOrder:s}}({...t,toBytes(e,t,r){const i=t.toAffine(),o=n.toBytes(i.x),s=se;return r?s(Uint8Array.from([t.hasEvenY()?2:3]),o):s(Uint8Array.from([4]),o,n.toBytes(i.y))},fromBytes(e){const t=e.length,r=e[0],s=e.subarray(1);if(t!==i||2!==r&&3!==r){if(t===o&&4===r)return{x:n.fromBytes(s.subarray(0,n.BYTES)),y:n.fromBytes(s.subarray(n.BYTES,2*n.BYTES))};throw new Error(`Point of length ${t} was invalid. Expected ${i} compressed bytes or ${o} uncompressed bytes`)}{const e=te(s);if(!(Re<(a=e)&&a<n.ORDER))throw new Error("Point is not on curve");const t=l(e);let i=n.sqrt(t);return 1==(1&r)!=((i&Ce)===Ce)&&(i=n.neg(i)),{x:e,y:i}}var a}}),d=e=>Y(re(e,t.nByteLength));function f(e){return e>r>>Ce}const p=(e,t,n)=>te(e.slice(t,n));class y{constructor(e,t,n){this.r=e,this.s=t,this.recovery=n,this.assertValidity()}static fromCompact(e){const n=t.nByteLength;return e=oe("compactSignature",e,2*n),new y(p(e,0,n),p(e,n,2*n))}static fromDER(e){const{r:t,s:n}=Ue.toSig(oe("DER",e));return new y(t,n)}assertValidity(){if(!u(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!u(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(e){return new y(this.r,this.s,e)}recoverPublicKey(e){const{r,s:i,recovery:o}=this,h=m(oe("msgHash",e));if(null==o||![0,1,2,3].includes(o))throw new Error("recovery id invalid");const l=2===o||3===o?r+t.n:r;if(l>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const u=0==(1&o)?"02":"03",f=c.fromHex(u+d(l)),p=a(l),y=s(-h*p),g=s(i*p),w=c.BASE.multiplyAndAddUnsafe(f,y,g);if(!w)throw new Error("point at infinify");return w.assertValidity(),w}hasHighS(){return f(this.s)}normalizeS(){return this.hasHighS()?new y(this.r,s(-this.s),this.recovery):this}toDERRawBytes(){return ee(this.toDERHex())}toDERHex(){return Ue.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return ee(this.toCompactHex())}toCompactHex(){return d(this.r)+d(this.s)}}const g={isValidPrivateKey(e){try{return h(e),!0}catch(e){return!1}},normPrivateKeyToScalar:h,randomPrivateKey:()=>re(function(e,t,n=!1){const r=(e=oe("privateHash",e)).length,i=Ae(t).nByteLength+8;if(i<24||r<i||r>1024)throw new Error(`hashToPrivateScalar: expected ${i}-1024 bytes of input, got ${r}`);return ve(n?ne(e):te(e),t-pe)+pe}(t.randomBytes(n.BYTES+8),r),t.nByteLength),precompute:(e=8,t=c.BASE)=>(t._setWindowSize(e),t.multiply(BigInt(3)),t)};function w(e){const t=e instanceof Uint8Array,n="string"==typeof e,r=(t||n)&&e.length;return t?r===i||r===o:n?r===2*i||r===2*o:e instanceof c}const b=t.bits2int||function(e){const n=te(e),r=8*e.length-t.nBitLength;return r>0?n>>BigInt(r):n},m=t.bits2int_modN||function(e){return s(b(e))},v=ae(t.nBitLength);function x(e){if("bigint"!=typeof e)throw new Error("bigint expected");if(!(Re<=e&&e<v))throw new Error(`bigint expected < 2^${t.nBitLength}`);return re(e,t.nByteLength)}const E={lowS:t.lowS,prehash:!1},k={lowS:t.lowS,prehash:!1};return c.BASE._setWindowSize(8),{CURVE:t,getPublicKey:function(e,t=!0){return c.fromPrivateKey(e).toRawBytes(t)},getSharedSecret:function(e,t,n=!0){if(w(e))throw new Error("first arg must be private key");if(!w(t))throw new Error("second arg must be public key");return c.fromHex(t).multiply(h(e)).toRawBytes(n)},sign:function(e,r,i=E){const{seed:o,k2sig:l}=function(e,r,i=E){if(["recovered","canonical"].some((e=>e in i)))throw new Error("sign() legacy options not supported");const{hash:o,randomBytes:l}=t;let{lowS:d,prehash:p,extraEntropy:g}=i;null==d&&(d=!0),e=oe("msgHash",e),p&&(e=oe("prehashed msgHash",o(e)));const w=m(e),v=h(r),k=[x(v),x(w)];if(null!=g){const e=!0===g?l(n.BYTES):g;k.push(oe("extraEntropy",e,n.BYTES))}const _=se(...k),A=w;return{seed:_,k2sig:function(e){const t=b(e);if(!u(t))return;const n=a(t),r=c.BASE.multiply(t).toAffine(),i=s(r.x);if(i===Re)return;const o=s(n*s(A+i*v));if(o===Re)return;let h=(r.x===i?0:2)|Number(r.y&Ce),l=o;return d&&f(o)&&(l=function(e){return f(e)?s(-e):e}(o),h^=1),new y(i,l,h)}}}(e,r,i),d=t;return le(d.hash.outputLen,d.nByteLength,d.hmac)(o,l)},verify:function(e,n,r,i=k){const o=e;if(n=oe("msgHash",n),r=oe("publicKey",r),"strict"in i)throw new Error("options.strict was renamed to lowS");const{lowS:h,prehash:l}=i;let u,d;try{if("string"==typeof o||o instanceof Uint8Array)try{u=y.fromDER(o)}catch(e){if(!(e instanceof Ue.Err))throw e;u=y.fromCompact(o)}else{if("object"!=typeof o||"bigint"!=typeof o.r||"bigint"!=typeof o.s)throw new Error("PARSE");{const{r:e,s:t}=o;u=new y(e,t)}}d=c.fromHex(r)}catch(e){if("PARSE"===e.message)throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(h&&u.hasHighS())return!1;l&&(n=t.hash(n));const{r:f,s:p}=u,g=m(n),w=a(p),b=s(g*w),v=s(f*w),x=c.BASE.multiplyAndAddUnsafe(d,b,v)?.toAffine();return!!x&&s(x.x)===f},ProjectivePoint:c,Signature:y,utils:g}}BigInt(4);class Ne extends ${constructor(e,t){super(),this.finished=!1,this.destroyed=!1,S.hash(e);const n=O(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const r=this.blockLen,i=new Uint8Array(r);i.set(n.length>r?e.create().update(n).digest():n);for(let e=0;e<i.length;e++)i[e]^=54;this.iHash.update(i),this.oHash=e.create();for(let e=0;e<i.length;e++)i[e]^=106;this.oHash.update(i),i.fill(0)}update(e){return S.exists(this),this.iHash.update(e),this}digestInto(e){S.exists(this),S.bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:n,finished:r,destroyed:i,blockLen:o,outputLen:s}=this;return e.finished=r,e.destroyed=i,e.blockLen=o,e.outputLen=s,e.oHash=t._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const $e=(e,t,n)=>new Ne(e,t).update(n).digest();function Pe(e){return{hash:e,hmac:(t,...n)=>$e(e,t,N(...n)),randomBytes:D}}$e.create=(e,t)=>new Ne(e,t);const De=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),ze=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),je=BigInt(1),qe=BigInt(2),Ke=(e,t)=>(e+t/qe)/t;function Fe(e){const t=De,n=BigInt(3),r=BigInt(6),i=BigInt(11),o=BigInt(22),s=BigInt(23),a=BigInt(44),c=BigInt(88),h=e*e*e%t,l=h*h*e%t,u=Ee(l,n,t)*l%t,d=Ee(u,n,t)*l%t,f=Ee(d,qe,t)*h%t,p=Ee(f,i,t)*f%t,y=Ee(p,o,t)*p%t,g=Ee(y,a,t)*y%t,w=Ee(g,c,t)*g%t,b=Ee(w,a,t)*y%t,m=Ee(b,n,t)*l%t,v=Ee(m,s,t)*p%t,x=Ee(v,r,t)*h%t,E=Ee(x,qe,t);if(!Me.eql(Me.sqr(E),e))throw new Error("Cannot find square root");return E}const Me=function(e,t,n=!1,r={}){if(e<=fe)throw new Error(`Expected Fp ORDER > 0, got ${e}`);const{nBitLength:i,nByteLength:o}=Ae(e,t);if(o>2048)throw new Error("Field lengths over 2048 bytes are not supported");const s=function(e){if(e%we===ge){const t=(e+pe)/we;return function(e,n){const r=e.pow(n,t);if(!e.eql(e.sqr(r),n))throw new Error("Cannot find square root");return r}}if(e%me===be){const t=(e-be)/me;return function(e,n){const r=e.mul(n,ye),i=e.pow(r,t),o=e.mul(n,i),s=e.mul(e.mul(o,ye),i),a=e.mul(o,e.sub(s,e.ONE));if(!e.eql(e.sqr(a),n))throw new Error("Cannot find square root");return a}}return function(e){const t=(e-pe)/ye;let n,r,i;for(n=e-pe,r=0;n%ye===fe;n/=ye,r++);for(i=ye;i<e&&xe(i,t,e)!==e-pe;i++);if(1===r){const t=(e+pe)/we;return function(e,n){const r=e.pow(n,t);if(!e.eql(e.sqr(r),n))throw new Error("Cannot find square root");return r}}const o=(n+pe)/ye;return function(e,s){if(e.pow(s,t)===e.neg(e.ONE))throw new Error("Cannot find square root");let a=r,c=e.pow(e.mul(e.ONE,i),n),h=e.pow(s,o),l=e.pow(s,n);for(;!e.eql(l,e.ONE);){if(e.eql(l,e.ZERO))return e.ZERO;let t=1;for(let n=e.sqr(l);t<a&&!e.eql(n,e.ONE);t++)n=e.sqr(n);const n=e.pow(c,pe<<BigInt(a-t-1));c=e.sqr(n),h=e.mul(h,n),l=e.mul(l,c),a=t}return h}}(e)}(e),a=Object.freeze({ORDER:e,BITS:i,BYTES:o,MASK:ae(i),ZERO:fe,ONE:pe,create:t=>ve(t,e),isValid:t=>{if("bigint"!=typeof t)throw new Error("Invalid field element: expected bigint, got "+typeof t);return fe<=t&&t<e},is0:e=>e===fe,isOdd:e=>(e&pe)===pe,neg:t=>ve(-t,e),eql:(e,t)=>e===t,sqr:t=>ve(t*t,e),add:(t,n)=>ve(t+n,e),sub:(t,n)=>ve(t-n,e),mul:(t,n)=>ve(t*n,e),pow:(e,t)=>function(e,t,n){if(n<fe)throw new Error("Expected power > 0");if(n===fe)return e.ONE;if(n===pe)return t;let r=e.ONE,i=t;for(;n>fe;)n&pe&&(r=e.mul(r,i)),i=e.sqr(i),n>>=pe;return r}(a,e,t),div:(t,n)=>ve(t*ke(n,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>ke(t,e),sqrt:r.sqrt||(e=>s(a,e)),invertBatch:e=>function(e,t){const n=new Array(t.length),r=t.reduce(((t,r,i)=>e.is0(r)?t:(n[i]=t,e.mul(t,r))),e.ONE),i=e.inv(r);return t.reduceRight(((t,r,i)=>e.is0(r)?t:(n[i]=e.mul(t,n[i]),e.mul(t,r))),i),n}(a,e),cmov:(e,t,n)=>n?t:e,toBytes:e=>n?ie(e,o):re(e,o),fromBytes:e=>{if(e.length!==o)throw new Error(`Fp.fromBytes: expected ${o}, got ${e.length}`);return n?ne(e):te(e)}});return Object.freeze(a)}(De,void 0,void 0,{sqrt:Fe}),We=function(e,t){const n=t=>Oe({...e,...Pe(t)});return Object.freeze({...n(t),create:n})}({a:BigInt(0),b:BigInt(7),Fp:Me,n:ze,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=ze,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-je*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=n,s=BigInt("0x100000000000000000000000000000000"),a=Ke(o*e,t),c=Ke(-r*e,t);let h=ve(e-a*n-c*i,t),l=ve(-a*r-c*o,t);const u=h>s,d=l>s;if(u&&(h=t-h),d&&(l=t-l),h>s||l>s)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:u,k1:h,k2neg:d,k2:l}}}},G),Ge=BigInt(0),Ve=e=>"bigint"==typeof e&&Ge<e&&e<De,Ze=e=>"bigint"==typeof e&&Ge<e&&e<ze,Xe={};function Je(e,...t){let n=Xe[e];if(void 0===n){const t=G(Uint8Array.from(e,(e=>e.charCodeAt(0))));n=se(t,t),Xe[e]=n}return G(se(n,...t))}const Ye=e=>e.toRawBytes(!0).slice(1),Qe=e=>re(e,32),et=e=>ve(e,De),tt=e=>ve(e,ze),nt=We.ProjectivePoint,rt=(e,t,n)=>nt.BASE.multiplyAndAddUnsafe(e,t,n);function it(e){let t=We.utils.normPrivateKeyToScalar(e),n=nt.fromPrivateKey(t);return{scalar:n.hasEvenY()?t:tt(-t),bytes:Ye(n)}}function ot(e){if(!Ve(e))throw new Error("bad x: need 0 < x < p");const t=et(e*e);let n=Fe(et(t*e+BigInt(7)));n%qe!==Ge&&(n=et(-n));const r=new nt(e,n,je);return r.assertValidity(),r}function st(...e){return tt(te(Je("BIP0340/challenge",...e)))}function at(e){return it(e).bytes}function ct(e,t,n=D(32)){const r=oe("message",e),{bytes:i,scalar:o}=it(t),s=oe("auxRand",n,32),a=Qe(o^te(Je("BIP0340/aux",s))),c=Je("BIP0340/nonce",a,i,r),h=tt(te(c));if(h===Ge)throw new Error("sign failed: k is zero");const{bytes:l,scalar:u}=it(h),d=st(l,i,r),f=new Uint8Array(64);if(f.set(l,0),f.set(Qe(tt(u+d*o)),32),!ht(f,r,i))throw new Error("sign: Invalid signature produced");return f}function ht(e,t,n){const r=oe("signature",e,64),i=oe("message",t),o=oe("publicKey",n,32);try{const e=ot(te(o)),t=te(r.subarray(0,32));if(!Ve(t))return!1;const n=te(r.subarray(32,64));if(!Ze(n))return!1;const s=st(Qe(t),Ye(e),i),a=rt(e,n,tt(-s));return!(!a||!a.hasEvenY()||a.toAffine().x!==t)}catch(e){return!1}}const lt=(()=>({getPublicKey:at,sign:ct,verify:ht,utils:{randomPrivateKey:We.utils.randomPrivateKey,lift_x:ot,pointToBytes:Ye,numberToBytesBE:re,bytesToNumberBE:te,taggedHash:Je,mod:ve}}))();function ut(e){if(!Number.isSafeInteger(e))throw new Error(`Wrong integer: ${e}`)}function dt(...e){const t=(e,t)=>n=>e(t(n));return{encode:Array.from(e).reverse().reduce(((e,n)=>e?t(e,n.encode):n.encode),void 0),decode:e.reduce(((e,n)=>e?t(e,n.decode):n.decode),void 0)}}function ft(e){return{encode:t=>{if(!Array.isArray(t)||t.length&&"number"!=typeof t[0])throw new Error("alphabet.encode input should be an array of numbers");return t.map((t=>{if(ut(t),t<0||t>=e.length)throw new Error(`Digit index outside alphabet: ${t} (alphabet: ${e.length})`);return e[t]}))},decode:t=>{if(!Array.isArray(t)||t.length&&"string"!=typeof t[0])throw new Error("alphabet.decode input should be array of strings");return t.map((t=>{if("string"!=typeof t)throw new Error(`alphabet.decode: not string element=${t}`);const n=e.indexOf(t);if(-1===n)throw new Error(`Unknown letter: "${t}". Allowed: ${e}`);return n}))}}}function pt(e=""){if("string"!=typeof e)throw new Error("join separator should be string");return{encode:t=>{if(!Array.isArray(t)||t.length&&"string"!=typeof t[0])throw new Error("join.encode input should be array of strings");for(let e of t)if("string"!=typeof e)throw new Error(`join.encode: non-string input=${e}`);return t.join(e)},decode:t=>{if("string"!=typeof t)throw new Error("join.decode input should be string");return t.split(e)}}}function yt(e,t="="){if(ut(e),"string"!=typeof t)throw new Error("padding chr should be string");return{encode(n){if(!Array.isArray(n)||n.length&&"string"!=typeof n[0])throw new Error("padding.encode input should be array of strings");for(let e of n)if("string"!=typeof e)throw new Error(`padding.encode: non-string input=${e}`);for(;n.length*e%8;)n.push(t);return n},decode(n){if(!Array.isArray(n)||n.length&&"string"!=typeof n[0])throw new Error("padding.encode input should be array of strings");for(let e of n)if("string"!=typeof e)throw new Error(`padding.decode: non-string input=${e}`);let r=n.length;if(r*e%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;r>0&&n[r-1]===t;r--)if(!((r-1)*e%8))throw new Error("Invalid padding: string has too much padding");return n.slice(0,r)}}}function gt(e){if("function"!=typeof e)throw new Error("normalize fn should be function");return{encode:e=>e,decode:t=>e(t)}}function wt(e,t,n){if(t<2)throw new Error(`convertRadix: wrong from=${t}, base cannot be less than 2`);if(n<2)throw new Error(`convertRadix: wrong to=${n}, base cannot be less than 2`);if(!Array.isArray(e))throw new Error("convertRadix: data should be array");if(!e.length)return[];let r=0;const i=[],o=Array.from(e);for(o.forEach((e=>{if(ut(e),e<0||e>=t)throw new Error(`Wrong integer: ${e}`)}));;){let e=0,s=!0;for(let i=r;i<o.length;i++){const a=o[i],c=t*e+a;if(!Number.isSafeInteger(c)||t*e/t!==e||c-a!=t*e)throw new Error("convertRadix: carry overflow");if(e=c%n,o[i]=Math.floor(c/n),!Number.isSafeInteger(o[i])||o[i]*n+e!==c)throw new Error("convertRadix: carry overflow");s&&(o[i]?s=!1:r=i)}if(i.push(e),s)break}for(let t=0;t<e.length-1&&0===e[t];t++)i.push(0);return i.reverse()}const bt=(e,t)=>t?bt(t,e%t):e,mt=(e,t)=>e+(t-bt(e,t));function vt(e,t,n,r){if(!Array.isArray(e))throw new Error("convertRadix2: data should be array");if(t<=0||t>32)throw new Error(`convertRadix2: wrong from=${t}`);if(n<=0||n>32)throw new Error(`convertRadix2: wrong to=${n}`);if(mt(t,n)>32)throw new Error(`convertRadix2: carry overflow from=${t} to=${n} carryBits=${mt(t,n)}`);let i=0,o=0;const s=2**n-1,a=[];for(const r of e){if(ut(r),r>=2**t)throw new Error(`convertRadix2: invalid data word=${r} from=${t}`);if(i=i<<t|r,o+t>32)throw new Error(`convertRadix2: carry overflow pos=${o} from=${t}`);for(o+=t;o>=n;o-=n)a.push((i>>o-n&s)>>>0);i&=2**o-1}if(i=i<<n-o&s,!r&&o>=t)throw new Error("Excess padding");if(!r&&i)throw new Error(`Non-zero padding: ${i}`);return r&&o>0&&a.push(i>>>0),a}function xt(e,t=!1){if(ut(e),e<=0||e>32)throw new Error("radix2: bits should be in (0..32]");if(mt(8,e)>32||mt(e,8)>32)throw new Error("radix2: carry overflow");return{encode:n=>{if(!(n instanceof Uint8Array))throw new Error("radix2.encode input should be Uint8Array");return vt(Array.from(n),8,e,!t)},decode:n=>{if(!Array.isArray(n)||n.length&&"number"!=typeof n[0])throw new Error("radix2.decode input should be array of strings");return Uint8Array.from(vt(n,e,8,t))}}}function Et(e){if("function"!=typeof e)throw new Error("unsafeWrapper fn should be function");return function(...t){try{return e.apply(null,t)}catch(e){}}}dt(xt(4),ft("0123456789ABCDEF"),pt("")),dt(xt(5),ft("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),yt(5),pt("")),dt(xt(5),ft("0123456789ABCDEFGHIJKLMNOPQRSTUV"),yt(5),pt("")),dt(xt(5),ft("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),pt(""),gt((e=>e.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1"))));const kt=dt(xt(6),ft("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),yt(6),pt("")),_t=(dt(xt(6),ft("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),yt(6),pt("")),e=>{return dt((ut(t=58),{encode:e=>{if(!(e instanceof Uint8Array))throw new Error("radix.encode input should be Uint8Array");return wt(Array.from(e),256,t)},decode:e=>{if(!Array.isArray(e)||e.length&&"number"!=typeof e[0])throw new Error("radix.decode input should be array of strings");return Uint8Array.from(wt(e,t,256))}}),ft(e),pt(""));var t}),At=(_t("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),_t("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"),_t("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz"),dt(ft("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),pt(""))),Bt=[996825010,642813549,513874426,1027748829,705979059];function St(e){const t=e>>25;let n=(33554431&e)<<5;for(let e=0;e<Bt.length;e++)1==(t>>e&1)&&(n^=Bt[e]);return n}function Ht(e,t,n=1){const r=e.length;let i=1;for(let t=0;t<r;t++){const n=e.charCodeAt(t);if(n<33||n>126)throw new Error(`Invalid prefix (${e})`);i=St(i)^n>>5}i=St(i);for(let t=0;t<r;t++)i=St(i)^31&e.charCodeAt(t);for(let e of t)i=St(i)^e;for(let e=0;e<6;e++)i=St(i);return i^=n,At.encode(vt([i%2**30],30,5,!1))}function It(e){const t="bech32"===e?1:734539939,n=xt(5),r=n.decode,i=n.encode,o=Et(r);function s(e,n=90){if("string"!=typeof e)throw new Error("bech32.decode input should be string, not "+typeof e);if(e.length<8||!1!==n&&e.length>n)throw new TypeError(`Wrong string length: ${e.length} (${e}). Expected (8..${n})`);const r=e.toLowerCase();if(e!==r&&e!==e.toUpperCase())throw new Error("String must be lowercase or uppercase");const i=(e=r).lastIndexOf("1");if(0===i||-1===i)throw new Error('Letter "1" must be present between prefix and data only');const o=e.slice(0,i),s=e.slice(i+1);if(s.length<6)throw new Error("Data must be at least 6 characters long");const a=At.decode(s).slice(0,-6),c=Ht(o,a,t);if(!s.endsWith(c))throw new Error(`Invalid checksum in ${e}: expected "${c}"`);return{prefix:o,words:a}}return{encode:function(e,n,r=90){if("string"!=typeof e)throw new Error("bech32.encode prefix should be string, not "+typeof e);if(!Array.isArray(n)||n.length&&"number"!=typeof n[0])throw new Error("bech32.encode words should be array of numbers, not "+typeof n);const i=e.length+7+n.length;if(!1!==r&&i>r)throw new TypeError(`Length ${i} exceeds limit ${r}`);return`${e=e.toLowerCase()}1${At.encode(n)}${Ht(e,n,t)}`},decode:s,decodeToBytes:function(e){const{prefix:t,words:n}=s(e,!1);return{prefix:t,words:n,bytes:r(n)}},decodeUnsafe:Et(s),fromWords:r,fromWordsUnsafe:o,toWords:i}}const Lt=It("bech32"),Ut=(It("bech32m"),dt(xt(4),ft("0123456789abcdef"),pt(""),gt((e=>{if("string"!=typeof e||e.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof e} with length ${e.length}`);return e.toLowerCase()}))),"abandon\nability\nable\nabout\nabove\nabsent\nabsorb\nabstract\nabsurd\nabuse\naccess\naccident\naccount\naccuse\nachieve\nacid\nacoustic\nacquire\nacross\nact\naction\nactor\nactress\nactual\nadapt\nadd\naddict\naddress\nadjust\nadmit\nadult\nadvance\nadvice\naerobic\naffair\nafford\nafraid\nagain\nage\nagent\nagree\nahead\naim\nair\nairport\naisle\nalarm\nalbum\nalcohol\nalert\nalien\nall\nalley\nallow\nalmost\nalone\nalpha\nalready\nalso\nalter\nalways\namateur\namazing\namong\namount\namused\nanalyst\nanchor\nancient\nanger\nangle\nangry\nanimal\nankle\nannounce\nannual\nanother\nanswer\nantenna\nantique\nanxiety\nany\napart\napology\nappear\napple\napprove\napril\narch\narctic\narea\narena\nargue\narm\narmed\narmor\narmy\naround\narrange\narrest\narrive\narrow\nart\nartefact\nartist\nartwork\nask\naspect\nassault\nasset\nassist\nassume\nasthma\nathlete\natom\nattack\nattend\nattitude\nattract\nauction\naudit\naugust\naunt\nauthor\nauto\nautumn\naverage\navocado\navoid\nawake\naware\naway\nawesome\nawful\nawkward\naxis\nbaby\nbachelor\nbacon\nbadge\nbag\nbalance\nbalcony\nball\nbamboo\nbanana\nbanner\nbar\nbarely\nbargain\nbarrel\nbase\nbasic\nbasket\nbattle\nbeach\nbean\nbeauty\nbecause\nbecome\nbeef\nbefore\nbegin\nbehave\nbehind\nbelieve\nbelow\nbelt\nbench\nbenefit\nbest\nbetray\nbetter\nbetween\nbeyond\nbicycle\nbid\nbike\nbind\nbiology\nbird\nbirth\nbitter\nblack\nblade\nblame\nblanket\nblast\nbleak\nbless\nblind\nblood\nblossom\nblouse\nblue\nblur\nblush\nboard\nboat\nbody\nboil\nbomb\nbone\nbonus\nbook\nboost\nborder\nboring\nborrow\nboss\nbottom\nbounce\nbox\nboy\nbracket\nbrain\nbrand\nbrass\nbrave\nbread\nbreeze\nbrick\nbridge\nbrief\nbright\nbring\nbrisk\nbroccoli\nbroken\nbronze\nbroom\nbrother\nbrown\nbrush\nbubble\nbuddy\nbudget\nbuffalo\nbuild\nbulb\nbulk\nbullet\nbundle\nbunker\nburden\nburger\nburst\nbus\nbusiness\nbusy\nbutter\nbuyer\nbuzz\ncabbage\ncabin\ncable\ncactus\ncage\ncake\ncall\ncalm\ncamera\ncamp\ncan\ncanal\ncancel\ncandy\ncannon\ncanoe\ncanvas\ncanyon\ncapable\ncapital\ncaptain\ncar\ncarbon\ncard\ncargo\ncarpet\ncarry\ncart\ncase\ncash\ncasino\ncastle\ncasual\ncat\ncatalog\ncatch\ncategory\ncattle\ncaught\ncause\ncaution\ncave\nceiling\ncelery\ncement\ncensus\ncentury\ncereal\ncertain\nchair\nchalk\nchampion\nchange\nchaos\nchapter\ncharge\nchase\nchat\ncheap\ncheck\ncheese\nchef\ncherry\nchest\nchicken\nchief\nchild\nchimney\nchoice\nchoose\nchronic\nchuckle\nchunk\nchurn\ncigar\ncinnamon\ncircle\ncitizen\ncity\ncivil\nclaim\nclap\nclarify\nclaw\nclay\nclean\nclerk\nclever\nclick\nclient\ncliff\nclimb\nclinic\nclip\nclock\nclog\nclose\ncloth\ncloud\nclown\nclub\nclump\ncluster\nclutch\ncoach\ncoast\ncoconut\ncode\ncoffee\ncoil\ncoin\ncollect\ncolor\ncolumn\ncombine\ncome\ncomfort\ncomic\ncommon\ncompany\nconcert\nconduct\nconfirm\ncongress\nconnect\nconsider\ncontrol\nconvince\ncook\ncool\ncopper\ncopy\ncoral\ncore\ncorn\ncorrect\ncost\ncotton\ncouch\ncountry\ncouple\ncourse\ncousin\ncover\ncoyote\ncrack\ncradle\ncraft\ncram\ncrane\ncrash\ncrater\ncrawl\ncrazy\ncream\ncredit\ncreek\ncrew\ncricket\ncrime\ncrisp\ncritic\ncrop\ncross\ncrouch\ncrowd\ncrucial\ncruel\ncruise\ncrumble\ncrunch\ncrush\ncry\ncrystal\ncube\nculture\ncup\ncupboard\ncurious\ncurrent\ncurtain\ncurve\ncushion\ncustom\ncute\ncycle\ndad\ndamage\ndamp\ndance\ndanger\ndaring\ndash\ndaughter\ndawn\nday\ndeal\ndebate\ndebris\ndecade\ndecember\ndecide\ndecline\ndecorate\ndecrease\ndeer\ndefense\ndefine\ndefy\ndegree\ndelay\ndeliver\ndemand\ndemise\ndenial\ndentist\ndeny\ndepart\ndepend\ndeposit\ndepth\ndeputy\nderive\ndescribe\ndesert\ndesign\ndesk\ndespair\ndestroy\ndetail\ndetect\ndevelop\ndevice\ndevote\ndiagram\ndial\ndiamond\ndiary\ndice\ndiesel\ndiet\ndiffer\ndigital\ndignity\ndilemma\ndinner\ndinosaur\ndirect\ndirt\ndisagree\ndiscover\ndisease\ndish\ndismiss\ndisorder\ndisplay\ndistance\ndivert\ndivide\ndivorce\ndizzy\ndoctor\ndocument\ndog\ndoll\ndolphin\ndomain\ndonate\ndonkey\ndonor\ndoor\ndose\ndouble\ndove\ndraft\ndragon\ndrama\ndrastic\ndraw\ndream\ndress\ndrift\ndrill\ndrink\ndrip\ndrive\ndrop\ndrum\ndry\nduck\ndumb\ndune\nduring\ndust\ndutch\nduty\ndwarf\ndynamic\neager\neagle\nearly\nearn\nearth\neasily\neast\neasy\necho\necology\neconomy\nedge\nedit\neducate\neffort\negg\neight\neither\nelbow\nelder\nelectric\nelegant\nelement\nelephant\nelevator\nelite\nelse\nembark\nembody\nembrace\nemerge\nemotion\nemploy\nempower\nempty\nenable\nenact\nend\nendless\nendorse\nenemy\nenergy\nenforce\nengage\nengine\nenhance\nenjoy\nenlist\nenough\nenrich\nenroll\nensure\nenter\nentire\nentry\nenvelope\nepisode\nequal\nequip\nera\nerase\nerode\nerosion\nerror\nerupt\nescape\nessay\nessence\nestate\neternal\nethics\nevidence\nevil\nevoke\nevolve\nexact\nexample\nexcess\nexchange\nexcite\nexclude\nexcuse\nexecute\nexercise\nexhaust\nexhibit\nexile\nexist\nexit\nexotic\nexpand\nexpect\nexpire\nexplain\nexpose\nexpress\nextend\nextra\neye\neyebrow\nfabric\nface\nfaculty\nfade\nfaint\nfaith\nfall\nfalse\nfame\nfamily\nfamous\nfan\nfancy\nfantasy\nfarm\nfashion\nfat\nfatal\nfather\nfatigue\nfault\nfavorite\nfeature\nfebruary\nfederal\nfee\nfeed\nfeel\nfemale\nfence\nfestival\nfetch\nfever\nfew\nfiber\nfiction\nfield\nfigure\nfile\nfilm\nfilter\nfinal\nfind\nfine\nfinger\nfinish\nfire\nfirm\nfirst\nfiscal\nfish\nfit\nfitness\nfix\nflag\nflame\nflash\nflat\nflavor\nflee\nflight\nflip\nfloat\nflock\nfloor\nflower\nfluid\nflush\nfly\nfoam\nfocus\nfog\nfoil\nfold\nfollow\nfood\nfoot\nforce\nforest\nforget\nfork\nfortune\nforum\nforward\nfossil\nfoster\nfound\nfox\nfragile\nframe\nfrequent\nfresh\nfriend\nfringe\nfrog\nfront\nfrost\nfrown\nfrozen\nfruit\nfuel\nfun\nfunny\nfurnace\nfury\nfuture\ngadget\ngain\ngalaxy\ngallery\ngame\ngap\ngarage\ngarbage\ngarden\ngarlic\ngarment\ngas\ngasp\ngate\ngather\ngauge\ngaze\ngeneral\ngenius\ngenre\ngentle\ngenuine\ngesture\nghost\ngiant\ngift\ngiggle\nginger\ngiraffe\ngirl\ngive\nglad\nglance\nglare\nglass\nglide\nglimpse\nglobe\ngloom\nglory\nglove\nglow\nglue\ngoat\ngoddess\ngold\ngood\ngoose\ngorilla\ngospel\ngossip\ngovern\ngown\ngrab\ngrace\ngrain\ngrant\ngrape\ngrass\ngravity\ngreat\ngreen\ngrid\ngrief\ngrit\ngrocery\ngroup\ngrow\ngrunt\nguard\nguess\nguide\nguilt\nguitar\ngun\ngym\nhabit\nhair\nhalf\nhammer\nhamster\nhand\nhappy\nharbor\nhard\nharsh\nharvest\nhat\nhave\nhawk\nhazard\nhead\nhealth\nheart\nheavy\nhedgehog\nheight\nhello\nhelmet\nhelp\nhen\nhero\nhidden\nhigh\nhill\nhint\nhip\nhire\nhistory\nhobby\nhockey\nhold\nhole\nholiday\nhollow\nhome\nhoney\nhood\nhope\nhorn\nhorror\nhorse\nhospital\nhost\nhotel\nhour\nhover\nhub\nhuge\nhuman\nhumble\nhumor\nhundred\nhungry\nhunt\nhurdle\nhurry\nhurt\nhusband\nhybrid\nice\nicon\nidea\nidentify\nidle\nignore\nill\nillegal\nillness\nimage\nimitate\nimmense\nimmune\nimpact\nimpose\nimprove\nimpulse\ninch\ninclude\nincome\nincrease\nindex\nindicate\nindoor\nindustry\ninfant\ninflict\ninform\ninhale\ninherit\ninitial\ninject\ninjury\ninmate\ninner\ninnocent\ninput\ninquiry\ninsane\ninsect\ninside\ninspire\ninstall\nintact\ninterest\ninto\ninvest\ninvite\ninvolve\niron\nisland\nisolate\nissue\nitem\nivory\njacket\njaguar\njar\njazz\njealous\njeans\njelly\njewel\njob\njoin\njoke\njourney\njoy\njudge\njuice\njump\njungle\njunior\njunk\njust\nkangaroo\nkeen\nkeep\nketchup\nkey\nkick\nkid\nkidney\nkind\nkingdom\nkiss\nkit\nkitchen\nkite\nkitten\nkiwi\nknee\nknife\nknock\nknow\nlab\nlabel\nlabor\nladder\nlady\nlake\nlamp\nlanguage\nlaptop\nlarge\nlater\nlatin\nlaugh\nlaundry\nlava\nlaw\nlawn\nlawsuit\nlayer\nlazy\nleader\nleaf\nlearn\nleave\nlecture\nleft\nleg\nlegal\nlegend\nleisure\nlemon\nlend\nlength\nlens\nleopard\nlesson\nletter\nlevel\nliar\nliberty\nlibrary\nlicense\nlife\nlift\nlight\nlike\nlimb\nlimit\nlink\nlion\nliquid\nlist\nlittle\nlive\nlizard\nload\nloan\nlobster\nlocal\nlock\nlogic\nlonely\nlong\nloop\nlottery\nloud\nlounge\nlove\nloyal\nlucky\nluggage\nlumber\nlunar\nlunch\nluxury\nlyrics\nmachine\nmad\nmagic\nmagnet\nmaid\nmail\nmain\nmajor\nmake\nmammal\nman\nmanage\nmandate\nmango\nmansion\nmanual\nmaple\nmarble\nmarch\nmargin\nmarine\nmarket\nmarriage\nmask\nmass\nmaster\nmatch\nmaterial\nmath\nmatrix\nmatter\nmaximum\nmaze\nmeadow\nmean\nmeasure\nmeat\nmechanic\nmedal\nmedia\nmelody\nmelt\nmember\nmemory\nmention\nmenu\nmercy\nmerge\nmerit\nmerry\nmesh\nmessage\nmetal\nmethod\nmiddle\nmidnight\nmilk\nmillion\nmimic\nmind\nminimum\nminor\nminute\nmiracle\nmirror\nmisery\nmiss\nmistake\nmix\nmixed\nmixture\nmobile\nmodel\nmodify\nmom\nmoment\nmonitor\nmonkey\nmonster\nmonth\nmoon\nmoral\nmore\nmorning\nmosquito\nmother\nmotion\nmotor\nmountain\nmouse\nmove\nmovie\nmuch\nmuffin\nmule\nmultiply\nmuscle\nmuseum\nmushroom\nmusic\nmust\nmutual\nmyself\nmystery\nmyth\nnaive\nname\nnapkin\nnarrow\nnasty\nnation\nnature\nnear\nneck\nneed\nnegative\nneglect\nneither\nnephew\nnerve\nnest\nnet\nnetwork\nneutral\nnever\nnews\nnext\nnice\nnight\nnoble\nnoise\nnominee\nnoodle\nnormal\nnorth\nnose\nnotable\nnote\nnothing\nnotice\nnovel\nnow\nnuclear\nnumber\nnurse\nnut\noak\nobey\nobject\noblige\nobscure\nobserve\nobtain\nobvious\noccur\nocean\noctober\nodor\noff\noffer\noffice\noften\noil\nokay\nold\nolive\nolympic\nomit\nonce\none\nonion\nonline\nonly\nopen\nopera\nopinion\noppose\noption\norange\norbit\norchard\norder\nordinary\norgan\norient\noriginal\norphan\nostrich\nother\noutdoor\nouter\noutput\noutside\noval\noven\nover\nown\nowner\noxygen\noyster\nozone\npact\npaddle\npage\npair\npalace\npalm\npanda\npanel\npanic\npanther\npaper\nparade\nparent\npark\nparrot\nparty\npass\npatch\npath\npatient\npatrol\npattern\npause\npave\npayment\npeace\npeanut\npear\npeasant\npelican\npen\npenalty\npencil\npeople\npepper\nperfect\npermit\nperson\npet\nphone\nphoto\nphrase\nphysical\npiano\npicnic\npicture\npiece\npig\npigeon\npill\npilot\npink\npioneer\npipe\npistol\npitch\npizza\nplace\nplanet\nplastic\nplate\nplay\nplease\npledge\npluck\nplug\nplunge\npoem\npoet\npoint\npolar\npole\npolice\npond\npony\npool\npopular\nportion\nposition\npossible\npost\npotato\npottery\npoverty\npowder\npower\npractice\npraise\npredict\nprefer\nprepare\npresent\npretty\nprevent\nprice\npride\nprimary\nprint\npriority\nprison\nprivate\nprize\nproblem\nprocess\nproduce\nprofit\nprogram\nproject\npromote\nproof\nproperty\nprosper\nprotect\nproud\nprovide\npublic\npudding\npull\npulp\npulse\npumpkin\npunch\npupil\npuppy\npurchase\npurity\npurpose\npurse\npush\nput\npuzzle\npyramid\nquality\nquantum\nquarter\nquestion\nquick\nquit\nquiz\nquote\nrabbit\nraccoon\nrace\nrack\nradar\nradio\nrail\nrain\nraise\nrally\nramp\nranch\nrandom\nrange\nrapid\nrare\nrate\nrather\nraven\nraw\nrazor\nready\nreal\nreason\nrebel\nrebuild\nrecall\nreceive\nrecipe\nrecord\nrecycle\nreduce\nreflect\nreform\nrefuse\nregion\nregret\nregular\nreject\nrelax\nrelease\nrelief\nrely\nremain\nremember\nremind\nremove\nrender\nrenew\nrent\nreopen\nrepair\nrepeat\nreplace\nreport\nrequire\nrescue\nresemble\nresist\nresource\nresponse\nresult\nretire\nretreat\nreturn\nreunion\nreveal\nreview\nreward\nrhythm\nrib\nribbon\nrice\nrich\nride\nridge\nrifle\nright\nrigid\nring\nriot\nripple\nrisk\nritual\nrival\nriver\nroad\nroast\nrobot\nrobust\nrocket\nromance\nroof\nrookie\nroom\nrose\nrotate\nrough\nround\nroute\nroyal\nrubber\nrude\nrug\nrule\nrun\nrunway\nrural\nsad\nsaddle\nsadness\nsafe\nsail\nsalad\nsalmon\nsalon\nsalt\nsalute\nsame\nsample\nsand\nsatisfy\nsatoshi\nsauce\nsausage\nsave\nsay\nscale\nscan\nscare\nscatter\nscene\nscheme\nschool\nscience\nscissors\nscorpion\nscout\nscrap\nscreen\nscript\nscrub\nsea\nsearch\nseason\nseat\nsecond\nsecret\nsection\nsecurity\nseed\nseek\nsegment\nselect\nsell\nseminar\nsenior\nsense\nsentence\nseries\nservice\nsession\nsettle\nsetup\nseven\nshadow\nshaft\nshallow\nshare\nshed\nshell\nsheriff\nshield\nshift\nshine\nship\nshiver\nshock\nshoe\nshoot\nshop\nshort\nshoulder\nshove\nshrimp\nshrug\nshuffle\nshy\nsibling\nsick\nside\nsiege\nsight\nsign\nsilent\nsilk\nsilly\nsilver\nsimilar\nsimple\nsince\nsing\nsiren\nsister\nsituate\nsix\nsize\nskate\nsketch\nski\nskill\nskin\nskirt\nskull\nslab\nslam\nsleep\nslender\nslice\nslide\nslight\nslim\nslogan\nslot\nslow\nslush\nsmall\nsmart\nsmile\nsmoke\nsmooth\nsnack\nsnake\nsnap\nsniff\nsnow\nsoap\nsoccer\nsocial\nsock\nsoda\nsoft\nsolar\nsoldier\nsolid\nsolution\nsolve\nsomeone\nsong\nsoon\nsorry\nsort\nsoul\nsound\nsoup\nsource\nsouth\nspace\nspare\nspatial\nspawn\nspeak\nspecial\nspeed\nspell\nspend\nsphere\nspice\nspider\nspike\nspin\nspirit\nsplit\nspoil\nsponsor\nspoon\nsport\nspot\nspray\nspread\nspring\nspy\nsquare\nsqueeze\nsquirrel\nstable\nstadium\nstaff\nstage\nstairs\nstamp\nstand\nstart\nstate\nstay\nsteak\nsteel\nstem\nstep\nstereo\nstick\nstill\nsting\nstock\nstomach\nstone\nstool\nstory\nstove\nstrategy\nstreet\nstrike\nstrong\nstruggle\nstudent\nstuff\nstumble\nstyle\nsubject\nsubmit\nsubway\nsuccess\nsuch\nsudden\nsuffer\nsugar\nsuggest\nsuit\nsummer\nsun\nsunny\nsunset\nsuper\nsupply\nsupreme\nsure\nsurface\nsurge\nsurprise\nsurround\nsurvey\nsuspect\nsustain\nswallow\nswamp\nswap\nswarm\nswear\nsweet\nswift\nswim\nswing\nswitch\nsword\nsymbol\nsymptom\nsyrup\nsystem\ntable\ntackle\ntag\ntail\ntalent\ntalk\ntank\ntape\ntarget\ntask\ntaste\ntattoo\ntaxi\nteach\nteam\ntell\nten\ntenant\ntennis\ntent\nterm\ntest\ntext\nthank\nthat\ntheme\nthen\ntheory\nthere\nthey\nthing\nthis\nthought\nthree\nthrive\nthrow\nthumb\nthunder\nticket\ntide\ntiger\ntilt\ntimber\ntime\ntiny\ntip\ntired\ntissue\ntitle\ntoast\ntobacco\ntoday\ntoddler\ntoe\ntogether\ntoilet\ntoken\ntomato\ntomorrow\ntone\ntongue\ntonight\ntool\ntooth\ntop\ntopic\ntopple\ntorch\ntornado\ntortoise\ntoss\ntotal\ntourist\ntoward\ntower\ntown\ntoy\ntrack\ntrade\ntraffic\ntragic\ntrain\ntransfer\ntrap\ntrash\ntravel\ntray\ntreat\ntree\ntrend\ntrial\ntribe\ntrick\ntrigger\ntrim\ntrip\ntrophy\ntrouble\ntruck\ntrue\ntruly\ntrumpet\ntrust\ntruth\ntry\ntube\ntuition\ntumble\ntuna\ntunnel\nturkey\nturn\nturtle\ntwelve\ntwenty\ntwice\ntwin\ntwist\ntwo\ntype\ntypical\nugly\numbrella\nunable\nunaware\nuncle\nuncover\nunder\nundo\nunfair\nunfold\nunhappy\nuniform\nunique\nunit\nuniverse\nunknown\nunlock\nuntil\nunusual\nunveil\nupdate\nupgrade\nuphold\nupon\nupper\nupset\nurban\nurge\nusage\nuse\nused\nuseful\nuseless\nusual\nutility\nvacant\nvacuum\nvague\nvalid\nvalley\nvalve\nvan\nvanish\nvapor\nvarious\nvast\nvault\nvehicle\nvelvet\nvendor\nventure\nvenue\nverb\nverify\nversion\nvery\nvessel\nveteran\nviable\nvibrant\nvicious\nvictory\nvideo\nview\nvillage\nvintage\nviolin\nvirtual\nvirus\nvisa\nvisit\nvisual\nvital\nvivid\nvocal\nvoice\nvoid\nvolcano\nvolume\nvote\nvoyage\nwage\nwagon\nwait\nwalk\nwall\nwalnut\nwant\nwarfare\nwarm\nwarrior\nwash\nwasp\nwaste\nwater\nwave\nway\nwealth\nweapon\nwear\nweasel\nweather\nweb\nwedding\nweekend\nweird\nwelcome\nwest\nwet\nwhale\nwhat\nwheat\nwheel\nwhen\nwhere\nwhip\nwhisper\nwide\nwidth\nwife\nwild\nwill\nwin\nwindow\nwine\nwing\nwink\nwinner\nwinter\nwire\nwisdom\nwise\nwish\nwitness\nwolf\nwoman\nwonder\nwood\nwool\nword\nwork\nworld\nworry\nworth\nwrap\nwreck\nwrestle\nwrist\nwrite\nwrong\nyard\nyear\nyellow\nyou\nyoung\nyouth\nzebra\nzero\nzone\nzoo".split("\n"));function Rt(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function Ct(e,...t){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function Tt(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");Rt(e.outputLen),Rt(e.blockLen)}function Ot(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Nt(e,t){Ct(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const $t={number:Rt,bool:function(e){if("boolean"!=typeof e)throw new Error(`Expected boolean, not ${e}`)},bytes:Ct,hash:Tt,exists:Ot,output:Nt},Pt="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,Dt=e=>e instanceof Uint8Array,zt=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),jt=(e,t)=>e<<32-t|e>>>t;if(68!==new Uint8Array(new Uint32Array([287454020]).buffer)[0])throw new Error("Non little-endian hardware is not supported");function qt(e){if("string"==typeof e&&(e=function(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}(e)),!Dt(e))throw new Error("expected Uint8Array, got "+typeof e);return e}class Kt{clone(){return this._cloneInto()}}const Ft={}.toString;function Mt(e){const t=t=>e().update(qt(t)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}class Wt extends Kt{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,Tt(e);const n=qt(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const r=this.blockLen,i=new Uint8Array(r);i.set(n.length>r?e.create().update(n).digest():n);for(let e=0;e<i.length;e++)i[e]^=54;this.iHash.update(i),this.oHash=e.create();for(let e=0;e<i.length;e++)i[e]^=106;this.oHash.update(i),i.fill(0)}update(e){return Ot(this),this.iHash.update(e),this}digestInto(e){Ot(this),Ct(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:n,finished:r,destroyed:i,blockLen:o,outputLen:s}=this;return e.finished=r,e.destroyed=i,e.blockLen=o,e.outputLen=s,e.oHash=t._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Gt=(e,t,n)=>new Wt(e,t).update(n).digest();Gt.create=(e,t)=>new Wt(e,t);class Vt extends Kt{constructor(e,t,n,r){super(),this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=zt(this.buffer)}update(e){Ot(this);const{view:t,buffer:n,blockLen:r}=this,i=(e=qt(e)).length;for(let o=0;o<i;){const s=Math.min(r-this.pos,i-o);if(s!==r)n.set(e.subarray(o,o+s),this.pos),this.pos+=s,o+=s,this.pos===r&&(this.process(t,0),this.pos=0);else{const t=zt(e);for(;r<=i-o;o+=r)this.process(t,o)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){Ot(this),Nt(e,this),this.finished=!0;const{buffer:t,view:n,blockLen:r,isLE:i}=this;let{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>r-o&&(this.process(n,0),o=0);for(let e=o;e<r;e++)t[e]=0;!function(e,t,n,r){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,n,r);const i=BigInt(32),o=BigInt(4294967295),s=Number(n>>i&o),a=Number(n&o),c=r?4:0,h=r?0:4;e.setUint32(t+c,s,r),e.setUint32(t+h,a,r)}(n,r-8,BigInt(8*this.length),i),this.process(n,0);const s=zt(e),a=this.outputLen;if(a%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=a/4,h=this.get();if(c>h.length)throw new Error("_sha2: outputLen bigger than state");for(let e=0;e<c;e++)s.setUint32(4*e,h[e],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:n,length:r,finished:i,destroyed:o,pos:s}=this;return e.length=r,e.pos=s,e.finished=i,e.destroyed=o,r%t&&e.buffer.set(n),e}}const Zt=(e,t,n)=>e&t^e&n^t&n,Xt=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Jt=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Yt=new Uint32Array(64);class Qt extends Vt{constructor(){super(64,32,8,!1),this.A=0|Jt[0],this.B=0|Jt[1],this.C=0|Jt[2],this.D=0|Jt[3],this.E=0|Jt[4],this.F=0|Jt[5],this.G=0|Jt[6],this.H=0|Jt[7]}get(){const{A:e,B:t,C:n,D:r,E:i,F:o,G:s,H:a}=this;return[e,t,n,r,i,o,s,a]}set(e,t,n,r,i,o,s,a){this.A=0|e,this.B=0|t,this.C=0|n,this.D=0|r,this.E=0|i,this.F=0|o,this.G=0|s,this.H=0|a}process(e,t){for(let n=0;n<16;n++,t+=4)Yt[n]=e.getUint32(t,!1);for(let e=16;e<64;e++){const t=Yt[e-15],n=Yt[e-2],r=jt(t,7)^jt(t,18)^t>>>3,i=jt(n,17)^jt(n,19)^n>>>10;Yt[e]=i+Yt[e-7]+r+Yt[e-16]|0}let{A:n,B:r,C:i,D:o,E:s,F:a,G:c,H:h}=this;for(let e=0;e<64;e++){const t=h+(jt(s,6)^jt(s,11)^jt(s,25))+((l=s)&a^~l&c)+Xt[e]+Yt[e]|0,u=(jt(n,2)^jt(n,13)^jt(n,22))+Zt(n,r,i)|0;h=c,c=a,a=s,s=o+t|0,o=i,i=r,r=n,n=t+u|0}var l;n=n+this.A|0,r=r+this.B|0,i=i+this.C|0,o=o+this.D|0,s=s+this.E|0,a=a+this.F|0,c=c+this.G|0,h=h+this.H|0,this.set(n,r,i,o,s,a,c,h)}roundClean(){Yt.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const en=Mt((()=>new Qt)),tn=BigInt(2**32-1),nn=BigInt(32);function rn(e,t=!1){return t?{h:Number(e&tn),l:Number(e>>nn&tn)}:{h:0|Number(e>>nn&tn),l:0|Number(e&tn)}}const on={fromBig:rn,split:function(e,t=!1){let n=new Uint32Array(e.length),r=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:o,l:s}=rn(e[i],t);[n[i],r[i]]=[o,s]}return[n,r]},toBig:(e,t)=>BigInt(e>>>0)<<nn|BigInt(t>>>0),shrSH:(e,t,n)=>e>>>n,shrSL:(e,t,n)=>e<<32-n|t>>>n,rotrSH:(e,t,n)=>e>>>n|t<<32-n,rotrSL:(e,t,n)=>e<<32-n|t>>>n,rotrBH:(e,t,n)=>e<<64-n|t>>>n-32,rotrBL:(e,t,n)=>e>>>n-32|t<<64-n,rotr32H:(e,t)=>t,rotr32L:(e,t)=>e,rotlSH:(e,t,n)=>e<<n|t>>>32-n,rotlSL:(e,t,n)=>t<<n|e>>>32-n,rotlBH:(e,t,n)=>t<<n-32|e>>>64-n,rotlBL:(e,t,n)=>e<<n-32|t>>>64-n,add:function(e,t,n,r){const i=(t>>>0)+(r>>>0);return{h:e+n+(i/2**32|0)|0,l:0|i}},add3L:(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0),add3H:(e,t,n,r)=>t+n+r+(e/2**32|0)|0,add4L:(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0),add4H:(e,t,n,r,i)=>t+n+r+i+(e/2**32|0)|0,add5H:(e,t,n,r,i,o)=>t+n+r+i+o+(e/2**32|0)|0,add5L:(e,t,n,r,i)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(i>>>0)},sn=on,[an,cn]=(()=>sn.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map((e=>BigInt(e)))))(),hn=new Uint32Array(80),ln=new Uint32Array(80);class un extends Vt{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:n,Bl:r,Ch:i,Cl:o,Dh:s,Dl:a,Eh:c,El:h,Fh:l,Fl:u,Gh:d,Gl:f,Hh:p,Hl:y}=this;return[e,t,n,r,i,o,s,a,c,h,l,u,d,f,p,y]}set(e,t,n,r,i,o,s,a,c,h,l,u,d,f,p,y){this.Ah=0|e,this.Al=0|t,this.Bh=0|n,this.Bl=0|r,this.Ch=0|i,this.Cl=0|o,this.Dh=0|s,this.Dl=0|a,this.Eh=0|c,this.El=0|h,this.Fh=0|l,this.Fl=0|u,this.Gh=0|d,this.Gl=0|f,this.Hh=0|p,this.Hl=0|y}process(e,t){for(let n=0;n<16;n++,t+=4)hn[n]=e.getUint32(t),ln[n]=e.getUint32(t+=4);for(let e=16;e<80;e++){const t=0|hn[e-15],n=0|ln[e-15],r=sn.rotrSH(t,n,1)^sn.rotrSH(t,n,8)^sn.shrSH(t,n,7),i=sn.rotrSL(t,n,1)^sn.rotrSL(t,n,8)^sn.shrSL(t,n,7),o=0|hn[e-2],s=0|ln[e-2],a=sn.rotrSH(o,s,19)^sn.rotrBH(o,s,61)^sn.shrSH(o,s,6),c=sn.rotrSL(o,s,19)^sn.rotrBL(o,s,61)^sn.shrSL(o,s,6),h=sn.add4L(i,c,ln[e-7],ln[e-16]),l=sn.add4H(h,r,a,hn[e-7],hn[e-16]);hn[e]=0|l,ln[e]=0|h}let{Ah:n,Al:r,Bh:i,Bl:o,Ch:s,Cl:a,Dh:c,Dl:h,Eh:l,El:u,Fh:d,Fl:f,Gh:p,Gl:y,Hh:g,Hl:w}=this;for(let e=0;e<80;e++){const t=sn.rotrSH(l,u,14)^sn.rotrSH(l,u,18)^sn.rotrBH(l,u,41),b=sn.rotrSL(l,u,14)^sn.rotrSL(l,u,18)^sn.rotrBL(l,u,41),m=l&d^~l&p,v=u&f^~u&y,x=sn.add5L(w,b,v,cn[e],ln[e]),E=sn.add5H(x,g,t,m,an[e],hn[e]),k=0|x,_=sn.rotrSH(n,r,28)^sn.rotrBH(n,r,34)^sn.rotrBH(n,r,39),A=sn.rotrSL(n,r,28)^sn.rotrBL(n,r,34)^sn.rotrBL(n,r,39),B=n&i^n&s^i&s,S=r&o^r&a^o&a;g=0|p,w=0|y,p=0|d,y=0|f,d=0|l,f=0|u,({h:l,l:u}=sn.add(0|c,0|h,0|E,0|k)),c=0|s,h=0|a,s=0|i,a=0|o,i=0|n,o=0|r;const H=sn.add3L(k,A,S);n=sn.add3H(H,E,_,B),r=0|H}({h:n,l:r}=sn.add(0|this.Ah,0|this.Al,0|n,0|r)),({h:i,l:o}=sn.add(0|this.Bh,0|this.Bl,0|i,0|o)),({h:s,l:a}=sn.add(0|this.Ch,0|this.Cl,0|s,0|a)),({h:c,l:h}=sn.add(0|this.Dh,0|this.Dl,0|c,0|h)),({h:l,l:u}=sn.add(0|this.Eh,0|this.El,0|l,0|u)),({h:d,l:f}=sn.add(0|this.Fh,0|this.Fl,0|d,0|f)),({h:p,l:y}=sn.add(0|this.Gh,0|this.Gl,0|p,0|y)),({h:g,l:w}=sn.add(0|this.Hh,0|this.Hl,0|g,0|w)),this.set(n,r,i,o,s,a,c,h,l,u,d,f,p,y,g,w)}roundClean(){hn.fill(0),ln.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const dn=Mt((()=>new un));function fn(e){if(!Number.isSafeInteger(e))throw new Error(`Wrong integer: ${e}`)}function pn(e){return{encode:t=>{if(!Array.isArray(t)||t.length&&"number"!=typeof t[0])throw new Error("alphabet.encode input should be an array of numbers");return t.map((t=>{if(fn(t),t<0||t>=e.length)throw new Error(`Digit index outside alphabet: ${t} (alphabet: ${e.length})`);return e[t]}))},decode:t=>{if(!Array.isArray(t)||t.length&&"string"!=typeof t[0])throw new Error("alphabet.decode input should be array of strings");return t.map((t=>{if("string"!=typeof t)throw new Error(`alphabet.decode: not string element=${t}`);const n=e.indexOf(t);if(-1===n)throw new Error(`Unknown letter: "${t}". Allowed: ${e}`);return n}))}}}function yn(e=""){if("string"!=typeof e)throw new Error("join separator should be string");return{encode:t=>{if(!Array.isArray(t)||t.length&&"string"!=typeof t[0])throw new Error("join.encode input should be array of strings");for(let e of t)if("string"!=typeof e)throw new Error(`join.encode: non-string input=${e}`);return t.join(e)},decode:t=>{if("string"!=typeof t)throw new Error("join.decode input should be string");return t.split(e)}}}function gn(e,t="="){if(fn(e),"string"!=typeof t)throw new Error("padding chr should be string");return{encode(n){if(!Array.isArray(n)||n.length&&"string"!=typeof n[0])throw new Error("padding.encode input should be array of strings");for(let e of n)if("string"!=typeof e)throw new Error(`padding.encode: non-string input=${e}`);for(;n.length*e%8;)n.push(t);return n},decode(n){if(!Array.isArray(n)||n.length&&"string"!=typeof n[0])throw new Error("padding.encode input should be array of strings");for(let e of n)if("string"!=typeof e)throw new Error(`padding.decode: non-string input=${e}`);let r=n.length;if(r*e%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;r>0&&n[r-1]===t;r--)if(!((r-1)*e%8))throw new Error("Invalid padding: string has too much padding");return n.slice(0,r)}}}function wn(e){if("function"!=typeof e)throw new Error("normalize fn should be function");return{encode:e=>e,decode:t=>e(t)}}function bn(e,t,n){if(t<2)throw new Error(`convertRadix: wrong from=${t}, base cannot be less than 2`);if(n<2)throw new Error(`convertRadix: wrong to=${n}, base cannot be less than 2`);if(!Array.isArray(e))throw new Error("convertRadix: data should be array");if(!e.length)return[];let r=0;const i=[],o=Array.from(e);for(o.forEach((e=>{if(fn(e),e<0||e>=t)throw new Error(`Wrong integer: ${e}`)}));;){let e=0,s=!0;for(let i=r;i<o.length;i++){const a=o[i],c=t*e+a;if(!Number.isSafeInteger(c)||t*e/t!==e||c-a!=t*e)throw new Error("convertRadix: carry overflow");e=c%n;const h=Math.floor(c/n);if(o[i]=h,!Number.isSafeInteger(h)||h*n+e!==c)throw new Error("convertRadix: carry overflow");s&&(h?s=!1:r=i)}if(i.push(e),s)break}for(let t=0;t<e.length-1&&0===e[t];t++)i.push(0);return i.reverse()}const mn=(e,t)=>t?mn(t,e%t):e,vn=(e,t)=>e+(t-mn(e,t));function xn(e,t,n,r){if(!Array.isArray(e))throw new Error("convertRadix2: data should be array");if(t<=0||t>32)throw new Error(`convertRadix2: wrong from=${t}`);if(n<=0||n>32)throw new Error(`convertRadix2: wrong to=${n}`);if(vn(t,n)>32)throw new Error(`convertRadix2: carry overflow from=${t} to=${n} carryBits=${vn(t,n)}`);let i=0,o=0;const s=2**n-1,a=[];for(const r of e){if(fn(r),r>=2**t)throw new Error(`convertRadix2: invalid data word=${r} from=${t}`);if(i=i<<t|r,o+t>32)throw new Error(`convertRadix2: carry overflow pos=${o} from=${t}`);for(o+=t;o>=n;o-=n)a.push((i>>o-n&s)>>>0);i&=2**o-1}if(i=i<<n-o&s,!r&&o>=t)throw new Error("Excess padding");if(!r&&i)throw new Error(`Non-zero padding: ${i}`);return r&&o>0&&a.push(i>>>0),a}function En(e,t=!1){if(fn(e),e<=0||e>32)throw new Error("radix2: bits should be in (0..32]");if(vn(8,e)>32||vn(e,8)>32)throw new Error("radix2: carry overflow");return{encode:n=>{if(!(n instanceof Uint8Array))throw new Error("radix2.encode input should be Uint8Array");return xn(Array.from(n),8,e,!t)},decode:n=>{if(!Array.isArray(n)||n.length&&"number"!=typeof n[0])throw new Error("radix2.decode input should be array of strings");return Uint8Array.from(xn(n,e,8,t))}}}const kn={alphabet:pn,chain:function(...e){const t=(e,t)=>n=>e(t(n));return{encode:Array.from(e).reverse().reduce(((e,n)=>e?t(e,n.encode):n.encode),void 0),decode:e.reduce(((e,n)=>e?t(e,n.decode):n.decode),void 0)}},checksum:function(e,t){if(fn(e),"function"!=typeof t)throw new Error("checksum fn should be function");return{encode(n){if(!(n instanceof Uint8Array))throw new Error("checksum.encode: input should be Uint8Array");const r=t(n).slice(0,e),i=new Uint8Array(n.length+e);return i.set(n),i.set(r,n.length),i},decode(n){if(!(n instanceof Uint8Array))throw new Error("checksum.decode: input should be Uint8Array");const r=n.slice(0,-e),i=t(r).slice(0,e),o=n.slice(-e);for(let t=0;t<e;t++)if(i[t]!==o[t])throw new Error("Invalid checksum");return r}}},radix:function(e){return fn(e),{encode:t=>{if(!(t instanceof Uint8Array))throw new Error("radix.encode input should be Uint8Array");return bn(Array.from(t),256,e)},decode:t=>{if(!Array.isArray(t)||t.length&&"number"!=typeof t[0])throw new Error("radix.decode input should be array of strings");return Uint8Array.from(bn(t,e,256))}}},radix2:En,join:yn,padding:gn};En(4),pn("0123456789ABCDEF"),yn(""),En(5),pn("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),gn(5),yn(""),En(5),pn("0123456789ABCDEFGHIJKLMNOPQRSTUV"),gn(5),yn(""),En(5),pn("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),yn(""),wn((e=>e.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1"))),En(6),pn("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),gn(6),yn(""),En(6),pn("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),gn(6),yn(""),En(6),pn("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),yn(""),pn("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),yn(""),En(4),pn("0123456789abcdef"),yn(""),wn((e=>{if("string"!=typeof e||e.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof e} with length ${e.length}`);return e.toLowerCase()}));const _n=e=>"あいこくしん"===e[0];function An(e){if("string"!=typeof e)throw new TypeError("Invalid mnemonic type: "+typeof e);return e.normalize("NFKD")}function Bn(e){const t=An(e),n=t.split(" ");if(![12,15,18,21,24].includes(n.length))throw new Error("Invalid mnemonic");return{nfkd:t,words:n}}function Sn(e){$t.bytes(e,16,20,24,28,32)}const Hn=e=>{const t=8-e.length/4;return new Uint8Array([en(e)[0]>>t<<t])};function In(e){if(!Array.isArray(e)||2048!==e.length||"string"!=typeof e[0])throw new Error("Worlist: expected array of 2048 strings");return e.forEach((e=>{if("string"!=typeof e)throw new Error(`Wordlist: non-string element: ${e}`)})),kn.chain(kn.checksum(1,Hn),kn.radix2(11,!0),kn.alphabet(e))}const Ln=e=>An(`mnemonic${e}`);function Un(e,t=""){return function(e,t,n,r){const{c:i,dkLen:o,DK:s,PRF:a,PRFSalt:c}=function(e,t,n,r){Tt(e);const i=function(e,t){if(void 0!==t&&"[object Object]"!==Ft.call(t))throw new Error("Options should be object or undefined");return Object.assign({dkLen:32,asyncTick:10},t)}(0,r),{c:o,dkLen:s,asyncTick:a}=i;if(Rt(o),Rt(s),Rt(a),o<1)throw new Error("PBKDF2: iterations (c) should be >= 1");const c=qt(t),h=qt(n),l=new Uint8Array(s),u=Gt.create(e,c),d=u._cloneInto().update(h);return{c:o,dkLen:s,asyncTick:a,DK:l,PRF:u,PRFSalt:d}}(e,t,n,{c:2048,dkLen:64});let h;const l=new Uint8Array(4),u=zt(l),d=new Uint8Array(a.outputLen);for(let e=1,t=0;t<o;e++,t+=a.outputLen){const n=s.subarray(t,t+a.outputLen);u.setInt32(0,e,!1),(h=c._cloneInto(h)).update(l).digestInto(d),n.set(d.subarray(0,n.length));for(let e=1;e<i;e++){a._cloneInto(h).update(d).digestInto(d);for(let e=0;e<n.length;e++)n[e]^=d[e]}}return function(e,t,n,r,i){return e.destroy(),t.destroy(),r&&r.destroy(),i.fill(0),n}(a,c,s,h,d)}(dn,Bn(e).nfkd,Ln(t))}function Rn(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function Cn(e,...t){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function Tn(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}const On=e=>e instanceof Uint8Array,Nn=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),$n=(e,t)=>e<<32-t|e>>>t;if(68!==new Uint8Array(new Uint32Array([287454020]).buffer)[0])throw new Error("Non little-endian hardware is not supported");const Pn=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function Dn(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}function zn(e){if("string"==typeof e&&(e=Dn(e)),!On(e))throw new Error("expected Uint8Array, got "+typeof e);return e}function jn(...e){const t=new Uint8Array(e.reduce(((e,t)=>e+t.length),0));let n=0;return e.forEach((e=>{if(!On(e))throw new Error("Uint8Array expected");t.set(e,n),n+=e.length})),t}class qn{clone(){return this._cloneInto()}}function Kn(e){const t=t=>e().update(zn(t)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}class Fn extends qn{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,function(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");Rn(e.outputLen),Rn(e.blockLen)}(e);const n=zn(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const r=this.blockLen,i=new Uint8Array(r);i.set(n.length>r?e.create().update(n).digest():n);for(let e=0;e<i.length;e++)i[e]^=54;this.iHash.update(i),this.oHash=e.create();for(let e=0;e<i.length;e++)i[e]^=106;this.oHash.update(i),i.fill(0)}update(e){return Tn(this),this.iHash.update(e),this}digestInto(e){Tn(this),Cn(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:n,finished:r,destroyed:i,blockLen:o,outputLen:s}=this;return e.finished=r,e.destroyed=i,e.blockLen=o,e.outputLen=s,e.oHash=t._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Mn=(e,t,n)=>new Fn(e,t).update(n).digest();Mn.create=(e,t)=>new Fn(e,t);class Wn extends qn{constructor(e,t,n,r){super(),this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Nn(this.buffer)}update(e){Tn(this);const{view:t,buffer:n,blockLen:r}=this,i=(e=zn(e)).length;for(let o=0;o<i;){const s=Math.min(r-this.pos,i-o);if(s!==r)n.set(e.subarray(o,o+s),this.pos),this.pos+=s,o+=s,this.pos===r&&(this.process(t,0),this.pos=0);else{const t=Nn(e);for(;r<=i-o;o+=r)this.process(t,o)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){Tn(this),function(e,t){Cn(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}(e,this),this.finished=!0;const{buffer:t,view:n,blockLen:r,isLE:i}=this;let{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>r-o&&(this.process(n,0),o=0);for(let e=o;e<r;e++)t[e]=0;!function(e,t,n,r){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,n,r);const i=BigInt(32),o=BigInt(4294967295),s=Number(n>>i&o),a=Number(n&o),c=r?4:0,h=r?0:4;e.setUint32(t+c,s,r),e.setUint32(t+h,a,r)}(n,r-8,BigInt(8*this.length),i),this.process(n,0);const s=Nn(e),a=this.outputLen;if(a%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=a/4,h=this.get();if(c>h.length)throw new Error("_sha2: outputLen bigger than state");for(let e=0;e<c;e++)s.setUint32(4*e,h[e],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:n,length:r,finished:i,destroyed:o,pos:s}=this;return e.length=r,e.pos=s,e.finished=i,e.destroyed=o,r%t&&e.buffer.set(n),e}}const Gn=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),Vn=Uint8Array.from({length:16},((e,t)=>t));let Zn=[Vn],Xn=[Vn.map((e=>(9*e+5)%16))];for(let e=0;e<4;e++)for(let t of[Zn,Xn])t.push(t[e].map((e=>Gn[e])));const Jn=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map((e=>new Uint8Array(e))),Yn=Zn.map(((e,t)=>e.map((e=>Jn[t][e])))),Qn=Xn.map(((e,t)=>e.map((e=>Jn[t][e])))),er=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),tr=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]),nr=(e,t)=>e<<t|e>>>32-t;function rr(e,t,n,r){return 0===e?t^n^r:1===e?t&n|~t&r:2===e?(t|~n)^r:3===e?t&r|n&~r:t^(n|~r)}const ir=new Uint32Array(16);class or extends Wn{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){const{h0:e,h1:t,h2:n,h3:r,h4:i}=this;return[e,t,n,r,i]}set(e,t,n,r,i){this.h0=0|e,this.h1=0|t,this.h2=0|n,this.h3=0|r,this.h4=0|i}process(e,t){for(let n=0;n<16;n++,t+=4)ir[n]=e.getUint32(t,!0);let n=0|this.h0,r=n,i=0|this.h1,o=i,s=0|this.h2,a=s,c=0|this.h3,h=c,l=0|this.h4,u=l;for(let e=0;e<5;e++){const t=4-e,d=er[e],f=tr[e],p=Zn[e],y=Xn[e],g=Yn[e],w=Qn[e];for(let t=0;t<16;t++){const r=nr(n+rr(e,i,s,c)+ir[p[t]]+d,g[t])+l|0;n=l,l=c,c=0|nr(s,10),s=i,i=r}for(let e=0;e<16;e++){const n=nr(r+rr(t,o,a,h)+ir[y[e]]+f,w[e])+u|0;r=u,u=h,h=0|nr(a,10),a=o,o=n}}this.set(this.h1+s+h|0,this.h2+c+u|0,this.h3+l+r|0,this.h4+n+o|0,this.h0+i+a|0)}roundClean(){ir.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}}const sr=Kn((()=>new or)),ar=(e,t,n)=>e&t^e&n^t&n,cr=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),hr=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),lr=new Uint32Array(64);class ur extends Wn{constructor(){super(64,32,8,!1),this.A=0|hr[0],this.B=0|hr[1],this.C=0|hr[2],this.D=0|hr[3],this.E=0|hr[4],this.F=0|hr[5],this.G=0|hr[6],this.H=0|hr[7]}get(){const{A:e,B:t,C:n,D:r,E:i,F:o,G:s,H:a}=this;return[e,t,n,r,i,o,s,a]}set(e,t,n,r,i,o,s,a){this.A=0|e,this.B=0|t,this.C=0|n,this.D=0|r,this.E=0|i,this.F=0|o,this.G=0|s,this.H=0|a}process(e,t){for(let n=0;n<16;n++,t+=4)lr[n]=e.getUint32(t,!1);for(let e=16;e<64;e++){const t=lr[e-15],n=lr[e-2],r=$n(t,7)^$n(t,18)^t>>>3,i=$n(n,17)^$n(n,19)^n>>>10;lr[e]=i+lr[e-7]+r+lr[e-16]|0}let{A:n,B:r,C:i,D:o,E:s,F:a,G:c,H:h}=this;for(let e=0;e<64;e++){const t=h+($n(s,6)^$n(s,11)^$n(s,25))+((l=s)&a^~l&c)+cr[e]+lr[e]|0,u=($n(n,2)^$n(n,13)^$n(n,22))+ar(n,r,i)|0;h=c,c=a,a=s,s=o+t|0,o=i,i=r,r=n,n=t+u|0}var l;n=n+this.A|0,r=r+this.B|0,i=i+this.C|0,o=o+this.D|0,s=s+this.E|0,a=a+this.F|0,c=c+this.G|0,h=h+this.H|0,this.set(n,r,i,o,s,a,c,h)}roundClean(){lr.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const dr=Kn((()=>new ur)),fr=BigInt(2**32-1),pr=BigInt(32);function yr(e,t=!1){return t?{h:Number(e&fr),l:Number(e>>pr&fr)}:{h:0|Number(e>>pr&fr),l:0|Number(e&fr)}}const gr={fromBig:yr,split:function(e,t=!1){let n=new Uint32Array(e.length),r=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:o,l:s}=yr(e[i],t);[n[i],r[i]]=[o,s]}return[n,r]},toBig:(e,t)=>BigInt(e>>>0)<<pr|BigInt(t>>>0),shrSH:(e,t,n)=>e>>>n,shrSL:(e,t,n)=>e<<32-n|t>>>n,rotrSH:(e,t,n)=>e>>>n|t<<32-n,rotrSL:(e,t,n)=>e<<32-n|t>>>n,rotrBH:(e,t,n)=>e<<64-n|t>>>n-32,rotrBL:(e,t,n)=>e>>>n-32|t<<64-n,rotr32H:(e,t)=>t,rotr32L:(e,t)=>e,rotlSH:(e,t,n)=>e<<n|t>>>32-n,rotlSL:(e,t,n)=>t<<n|e>>>32-n,rotlBH:(e,t,n)=>t<<n-32|e>>>64-n,rotlBL:(e,t,n)=>e<<n-32|t>>>64-n,add:function(e,t,n,r){const i=(t>>>0)+(r>>>0);return{h:e+n+(i/2**32|0)|0,l:0|i}},add3L:(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0),add3H:(e,t,n,r)=>t+n+r+(e/2**32|0)|0,add4L:(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0),add4H:(e,t,n,r,i)=>t+n+r+i+(e/2**32|0)|0,add5H:(e,t,n,r,i,o)=>t+n+r+i+o+(e/2**32|0)|0,add5L:(e,t,n,r,i)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(i>>>0)},wr=gr,[br,mr]=(()=>wr.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map((e=>BigInt(e)))))(),vr=new Uint32Array(80),xr=new Uint32Array(80);class Er extends Wn{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:n,Bl:r,Ch:i,Cl:o,Dh:s,Dl:a,Eh:c,El:h,Fh:l,Fl:u,Gh:d,Gl:f,Hh:p,Hl:y}=this;return[e,t,n,r,i,o,s,a,c,h,l,u,d,f,p,y]}set(e,t,n,r,i,o,s,a,c,h,l,u,d,f,p,y){this.Ah=0|e,this.Al=0|t,this.Bh=0|n,this.Bl=0|r,this.Ch=0|i,this.Cl=0|o,this.Dh=0|s,this.Dl=0|a,this.Eh=0|c,this.El=0|h,this.Fh=0|l,this.Fl=0|u,this.Gh=0|d,this.Gl=0|f,this.Hh=0|p,this.Hl=0|y}process(e,t){for(let n=0;n<16;n++,t+=4)vr[n]=e.getUint32(t),xr[n]=e.getUint32(t+=4);for(let e=16;e<80;e++){const t=0|vr[e-15],n=0|xr[e-15],r=wr.rotrSH(t,n,1)^wr.rotrSH(t,n,8)^wr.shrSH(t,n,7),i=wr.rotrSL(t,n,1)^wr.rotrSL(t,n,8)^wr.shrSL(t,n,7),o=0|vr[e-2],s=0|xr[e-2],a=wr.rotrSH(o,s,19)^wr.rotrBH(o,s,61)^wr.shrSH(o,s,6),c=wr.rotrSL(o,s,19)^wr.rotrBL(o,s,61)^wr.shrSL(o,s,6),h=wr.add4L(i,c,xr[e-7],xr[e-16]),l=wr.add4H(h,r,a,vr[e-7],vr[e-16]);vr[e]=0|l,xr[e]=0|h}let{Ah:n,Al:r,Bh:i,Bl:o,Ch:s,Cl:a,Dh:c,Dl:h,Eh:l,El:u,Fh:d,Fl:f,Gh:p,Gl:y,Hh:g,Hl:w}=this;for(let e=0;e<80;e++){const t=wr.rotrSH(l,u,14)^wr.rotrSH(l,u,18)^wr.rotrBH(l,u,41),b=wr.rotrSL(l,u,14)^wr.rotrSL(l,u,18)^wr.rotrBL(l,u,41),m=l&d^~l&p,v=u&f^~u&y,x=wr.add5L(w,b,v,mr[e],xr[e]),E=wr.add5H(x,g,t,m,br[e],vr[e]),k=0|x,_=wr.rotrSH(n,r,28)^wr.rotrBH(n,r,34)^wr.rotrBH(n,r,39),A=wr.rotrSL(n,r,28)^wr.rotrBL(n,r,34)^wr.rotrBL(n,r,39),B=n&i^n&s^i&s,S=r&o^r&a^o&a;g=0|p,w=0|y,p=0|d,y=0|f,d=0|l,f=0|u,({h:l,l:u}=wr.add(0|c,0|h,0|E,0|k)),c=0|s,h=0|a,s=0|i,a=0|o,i=0|n,o=0|r;const H=wr.add3L(k,A,S);n=wr.add3H(H,E,_,B),r=0|H}({h:n,l:r}=wr.add(0|this.Ah,0|this.Al,0|n,0|r)),({h:i,l:o}=wr.add(0|this.Bh,0|this.Bl,0|i,0|o)),({h:s,l:a}=wr.add(0|this.Ch,0|this.Cl,0|s,0|a)),({h:c,l:h}=wr.add(0|this.Dh,0|this.Dl,0|c,0|h)),({h:l,l:u}=wr.add(0|this.Eh,0|this.El,0|l,0|u)),({h:d,l:f}=wr.add(0|this.Fh,0|this.Fl,0|d,0|f)),({h:p,l:y}=wr.add(0|this.Gh,0|this.Gl,0|p,0|y)),({h:g,l:w}=wr.add(0|this.Hh,0|this.Hl,0|g,0|w)),this.set(n,r,i,o,s,a,c,h,l,u,d,f,p,y,g,w)}roundClean(){vr.fill(0),xr.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const kr=Kn((()=>new Er));function _r(e){if(!Number.isSafeInteger(e))throw new Error(`Wrong integer: ${e}`)}function Ar(...e){const t=(e,t)=>n=>e(t(n));return{encode:Array.from(e).reverse().reduce(((e,n)=>e?t(e,n.encode):n.encode),void 0),decode:e.reduce(((e,n)=>e?t(e,n.decode):n.decode),void 0)}}function Br(e){return{encode:t=>{if(!Array.isArray(t)||t.length&&"number"!=typeof t[0])throw new Error("alphabet.encode input should be an array of numbers");return t.map((t=>{if(_r(t),t<0||t>=e.length)throw new Error(`Digit index outside alphabet: ${t} (alphabet: ${e.length})`);return e[t]}))},decode:t=>{if(!Array.isArray(t)||t.length&&"string"!=typeof t[0])throw new Error("alphabet.decode input should be array of strings");return t.map((t=>{if("string"!=typeof t)throw new Error(`alphabet.decode: not string element=${t}`);const n=e.indexOf(t);if(-1===n)throw new Error(`Unknown letter: "${t}". Allowed: ${e}`);return n}))}}}function Sr(e=""){if("string"!=typeof e)throw new Error("join separator should be string");return{encode:t=>{if(!Array.isArray(t)||t.length&&"string"!=typeof t[0])throw new Error("join.encode input should be array of strings");for(let e of t)if("string"!=typeof e)throw new Error(`join.encode: non-string input=${e}`);return t.join(e)},decode:t=>{if("string"!=typeof t)throw new Error("join.decode input should be string");return t.split(e)}}}function Hr(e,t="="){if(_r(e),"string"!=typeof t)throw new Error("padding chr should be string");return{encode(n){if(!Array.isArray(n)||n.length&&"string"!=typeof n[0])throw new Error("padding.encode input should be array of strings");for(let e of n)if("string"!=typeof e)throw new Error(`padding.encode: non-string input=${e}`);for(;n.length*e%8;)n.push(t);return n},decode(n){if(!Array.isArray(n)||n.length&&"string"!=typeof n[0])throw new Error("padding.encode input should be array of strings");for(let e of n)if("string"!=typeof e)throw new Error(`padding.decode: non-string input=${e}`);let r=n.length;if(r*e%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;r>0&&n[r-1]===t;r--)if(!((r-1)*e%8))throw new Error("Invalid padding: string has too much padding");return n.slice(0,r)}}}function Ir(e){if("function"!=typeof e)throw new Error("normalize fn should be function");return{encode:e=>e,decode:t=>e(t)}}function Lr(e,t,n){if(t<2)throw new Error(`convertRadix: wrong from=${t}, base cannot be less than 2`);if(n<2)throw new Error(`convertRadix: wrong to=${n}, base cannot be less than 2`);if(!Array.isArray(e))throw new Error("convertRadix: data should be array");if(!e.length)return[];let r=0;const i=[],o=Array.from(e);for(o.forEach((e=>{if(_r(e),e<0||e>=t)throw new Error(`Wrong integer: ${e}`)}));;){let e=0,s=!0;for(let i=r;i<o.length;i++){const a=o[i],c=t*e+a;if(!Number.isSafeInteger(c)||t*e/t!==e||c-a!=t*e)throw new Error("convertRadix: carry overflow");e=c%n;const h=Math.floor(c/n);if(o[i]=h,!Number.isSafeInteger(h)||h*n+e!==c)throw new Error("convertRadix: carry overflow");s&&(h?s=!1:r=i)}if(i.push(e),s)break}for(let t=0;t<e.length-1&&0===e[t];t++)i.push(0);return i.reverse()}const Ur=(e,t)=>t?Ur(t,e%t):e,Rr=(e,t)=>e+(t-Ur(e,t));function Cr(e,t,n,r){if(!Array.isArray(e))throw new Error("convertRadix2: data should be array");if(t<=0||t>32)throw new Error(`convertRadix2: wrong from=${t}`);if(n<=0||n>32)throw new Error(`convertRadix2: wrong to=${n}`);if(Rr(t,n)>32)throw new Error(`convertRadix2: carry overflow from=${t} to=${n} carryBits=${Rr(t,n)}`);let i=0,o=0;const s=2**n-1,a=[];for(const r of e){if(_r(r),r>=2**t)throw new Error(`convertRadix2: invalid data word=${r} from=${t}`);if(i=i<<t|r,o+t>32)throw new Error(`convertRadix2: carry overflow pos=${o} from=${t}`);for(o+=t;o>=n;o-=n)a.push((i>>o-n&s)>>>0);i&=2**o-1}if(i=i<<n-o&s,!r&&o>=t)throw new Error("Excess padding");if(!r&&i)throw new Error(`Non-zero padding: ${i}`);return r&&o>0&&a.push(i>>>0),a}function Tr(e,t=!1){if(_r(e),e<=0||e>32)throw new Error("radix2: bits should be in (0..32]");if(Rr(8,e)>32||Rr(e,8)>32)throw new Error("radix2: carry overflow");return{encode:n=>{if(!(n instanceof Uint8Array))throw new Error("radix2.encode input should be Uint8Array");return Cr(Array.from(n),8,e,!t)},decode:n=>{if(!Array.isArray(n)||n.length&&"number"!=typeof n[0])throw new Error("radix2.decode input should be array of strings");return Uint8Array.from(Cr(n,e,8,t))}}}Tr(4),Br("0123456789ABCDEF"),Sr(""),Tr(5),Br("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),Hr(5),Sr(""),Tr(5),Br("0123456789ABCDEFGHIJKLMNOPQRSTUV"),Hr(5),Sr(""),Tr(5),Br("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),Sr(""),Ir((e=>e.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1"))),Tr(6),Br("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),Hr(6),Sr(""),Tr(6),Br("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),Hr(6),Sr(""),Tr(6),Br("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),Sr("");const Or=e=>{return Ar((_r(t=58),{encode:e=>{if(!(e instanceof Uint8Array))throw new Error("radix.encode input should be Uint8Array");return Lr(Array.from(e),256,t)},decode:e=>{if(!Array.isArray(e)||e.length&&"number"!=typeof e[0])throw new Error("radix.decode input should be array of strings");return Uint8Array.from(Lr(e,t,256))}}),Br(e),Sr(""));var t},Nr=Or("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");Br("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),Sr(""),Tr(4),Br("0123456789abcdef"),Sr(""),Ir((e=>{if("string"!=typeof e||e.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof e} with length ${e.length}`);return e.toLowerCase()}));const $r=We.ProjectivePoint,Pr=(Dr=dr,Ar(function(e,t){if(_r(e),"function"!=typeof t)throw new Error("checksum fn should be function");return{encode(n){if(!(n instanceof Uint8Array))throw new Error("checksum.encode: input should be Uint8Array");const r=t(n).slice(0,e),i=new Uint8Array(n.length+e);return i.set(n),i.set(r,n.length),i},decode(n){if(!(n instanceof Uint8Array))throw new Error("checksum.decode: input should be Uint8Array");const r=n.slice(0,-e),i=t(r).slice(0,e),o=n.slice(-e);for(let t=0;t<e;t++)if(i[t]!==o[t])throw new Error("Invalid checksum");return r}}}(4,(e=>Dr(Dr(e)))),Nr));var Dr;function zr(e){return BigInt(`0x${function(e){if(!On(e))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=Pn[e[n]];return t}(e)}`)}const jr=Dn("Bitcoin seed"),qr={private:76066276,public:76067358},Kr=2147483648,Fr=e=>{if(!Number.isSafeInteger(e)||e<0||e>2**32-1)throw new Error(`Invalid number=${e}. Should be from 0 to 2 ** 32 - 1`);const t=new Uint8Array(4);return Nn(t).setUint32(0,e,!1),t};class Mr{get fingerprint(){if(!this.pubHash)throw new Error("No publicKey set!");return e=this.pubHash,Nn(e).getUint32(0,!1);var e}get identifier(){return this.pubHash}get pubKeyHash(){return this.pubHash}get privateKey(){return this.privKeyBytes||null}get publicKey(){return this.pubKey||null}get privateExtendedKey(){const e=this.privateKey;if(!e)throw new Error("No private key");return Pr.encode(this.serialize(this.versions.private,jn(new Uint8Array([0]),e)))}get publicExtendedKey(){if(!this.pubKey)throw new Error("No public key");return Pr.encode(this.serialize(this.versions.public,this.pubKey))}static fromMasterSeed(e,t=qr){if(Cn(e),8*e.length<128||8*e.length>512)throw new Error(`HDKey: wrong seed length=${e.length}. Should be between 128 and 512 bits; 256 bits is advised)`);const n=Mn(kr,jr,e);return new Mr({versions:t,chainCode:n.slice(32),privateKey:n.slice(0,32)})}static fromExtendedKey(e,t=qr){const n=Pr.decode(e),r=Nn(n),i=r.getUint32(0,!1),o={versions:t,depth:n[4],parentFingerprint:r.getUint32(5,!1),index:r.getUint32(9,!1),chainCode:n.slice(13,45)},s=n.slice(45),a=0===s[0];if(i!==t[a?"private":"public"])throw new Error("Version mismatch");return new Mr(a?{...o,privateKey:s.slice(1)}:{...o,publicKey:s})}static fromJSON(e){return Mr.fromExtendedKey(e.xpriv)}constructor(e){if(this.depth=0,this.index=0,this.chainCode=null,this.parentFingerprint=0,!e||"object"!=typeof e)throw new Error("HDKey.constructor must not be called directly");if(this.versions=e.versions||qr,this.depth=e.depth||0,this.chainCode=e.chainCode,this.index=e.index||0,this.parentFingerprint=e.parentFingerprint||0,!this.depth&&(this.parentFingerprint||this.index))throw new Error("HDKey: zero depth with non-zero index/parent fingerprint");if(e.publicKey&&e.privateKey)throw new Error("HDKey: publicKey and privateKey at same time.");if(e.privateKey){if(!We.utils.isValidPrivateKey(e.privateKey))throw new Error("Invalid private key");this.privKey="bigint"==typeof e.privateKey?e.privateKey:zr(e.privateKey),this.privKeyBytes=function(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(t/2);for(let t=0;t<n.length;t++){const r=2*t,i=e.slice(r,r+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");n[t]=o}return n}(this.privKey.toString(16).padStart(64,"0")),this.pubKey=We.getPublicKey(e.privateKey,!0)}else{if(!e.publicKey)throw new Error("HDKey: no public or private key provided");this.pubKey=$r.fromHex(e.publicKey).toRawBytes(!0)}var t;this.pubHash=(t=this.pubKey,sr(dr(t)))}derive(e){if(!/^[mM]'?/.test(e))throw new Error('Path must start with "m" or "M"');if(/^[mM]'?$/.test(e))return this;const t=e.replace(/^[mM]'?\//,"").split("/");let n=this;for(const e of t){const t=/^(\d+)('?)$/.exec(e);if(!t||3!==t.length)throw new Error(`Invalid child index: ${e}`);let r=+t[1];if(!Number.isSafeInteger(r)||r>=Kr)throw new Error("Invalid index");"'"===t[2]&&(r+=Kr),n=n.deriveChild(r)}return n}deriveChild(e){if(!this.pubKey||!this.chainCode)throw new Error("No publicKey or chainCode set");let t=Fr(e);if(e>=Kr){const e=this.privateKey;if(!e)throw new Error("Could not derive hardened child key");t=jn(new Uint8Array([0]),e,t)}else t=jn(this.pubKey,t);const n=Mn(kr,this.chainCode,t),r=zr(n.slice(0,32)),i=n.slice(32);if(!We.utils.isValidPrivateKey(r))throw new Error("Tweak bigger than curve order");const o={versions:this.versions,chainCode:i,depth:this.depth+1,parentFingerprint:this.fingerprint,index:e};try{if(this.privateKey){const e=ve(this.privKey+r,We.CURVE.n);if(!We.utils.isValidPrivateKey(e))throw new Error("The tweak was out of range or the resulted private key is invalid");o.privateKey=e}else{const e=$r.fromHex(this.pubKey).add($r.fromPrivateKey(r));if(e.equals($r.ZERO))throw new Error("The tweak was equal to negative P, which made the result key invalid");o.publicKey=e.toRawBytes(!0)}return new Mr(o)}catch(t){return this.deriveChild(e+1)}}sign(e){if(!this.privateKey)throw new Error("No privateKey set!");return Cn(e,32),We.sign(e,this.privKey).toCompactRawBytes()}verify(e,t){if(Cn(e,32),Cn(t,64),!this.publicKey)throw new Error("No publicKey set!");let n;try{n=We.Signature.fromCompact(t)}catch(e){return!1}return We.verify(n,e,this.publicKey)}wipePrivateData(){return this.privKey=void 0,this.privKeyBytes&&(this.privKeyBytes.fill(0),this.privKeyBytes=void 0),this}toJSON(){return{xpriv:this.privateExtendedKey,xpub:this.publicExtendedKey}}serialize(e,t){if(!this.chainCode)throw new Error("No chainCode set");return Cn(t,33),jn(Fr(e),new Uint8Array([this.depth]),Fr(this.parentFingerprint),Fr(this.index),this.chainCode,t)}}var Wr=Object.defineProperty,Gr=(e,t)=>{for(var n in t)Wr(e,n,{get:t[n],enumerable:!0})};function Vr(e){return C(lt.getPublicKey(e))}Gr({},{MessageNode:()=>ei,MessageQueue:()=>ti,insertEventIntoAscendingList:()=>Qr,insertEventIntoDescendingList:()=>Yr,normalizeURL:()=>Jr,utf8Decoder:()=>Zr,utf8Encoder:()=>Xr});var Zr=new TextDecoder("utf-8"),Xr=new TextEncoder;function Jr(e){let t=new URL(e);return t.pathname=t.pathname.replace(/\/+/g,"/"),t.pathname.endsWith("/")&&(t.pathname=t.pathname.slice(0,-1)),("80"===t.port&&"ws:"===t.protocol||"443"===t.port&&"wss:"===t.protocol)&&(t.port=""),t.searchParams.sort(),t.hash="",t.toString()}function Yr(e,t){let n,r=0,i=e.length-1,o=r;if(i<0)o=0;else if(t.created_at<e[i].created_at)o=i+1;else if(t.created_at>=e[r].created_at)o=r;else for(;;){if(i<=r+1){o=i;break}if(n=Math.floor(r+(i-r)/2),e[n].created_at>t.created_at)r=n;else{if(!(e[n].created_at<t.created_at)){o=n;break}i=n}}return e[o]?.id!==t.id?[...e.slice(0,o),t,...e.slice(o)]:e}function Qr(e,t){let n,r=0,i=e.length-1,o=r;if(i<0)o=0;else if(t.created_at>e[i].created_at)o=i+1;else if(t.created_at<=e[r].created_at)o=r;else for(;;){if(i<=r+1){o=i;break}if(n=Math.floor(r+(i-r)/2),e[n].created_at<t.created_at)r=n;else{if(!(e[n].created_at>t.created_at)){o=n;break}i=n}}return e[o]?.id!==t.id?[...e.slice(0,o),t,...e.slice(o)]:e}var ei=class{_value;_next;get value(){return this._value}set value(e){this._value=e}get next(){return this._next}set next(e){this._next=e}constructor(e){this._value=e,this._next=null}},ti=class{_first;_last;get first(){return this._first}set first(e){this._first=e}get last(){return this._last}set last(e){this._last=e}_size;get size(){return this._size}set size(e){this._size=e}constructor(){this._first=null,this._last=null,this._size=0}enqueue(e){const t=new ei(e);return 0!==this._size&&this._last?(this._last.next=t,this._last=t):(this._first=t,this._last=t),this._size++,!0}dequeue(){if(0===this._size||!this._first)return null;let e=this._first;return this._first=e.next,e.next=null,this._size--,e.value}};function ni(e,t){let n=e;return n.pubkey=Vr(t),n.id=ri(n),n.sig=function(e,t){return C(lt.sign(ri(e),t))}(n,t),n}function ri(e){return C(G(Xr.encode(function(e){if(!oi(e))throw new Error("can't serialize event with wrong or missing properties");return JSON.stringify([0,e.pubkey,e.created_at,e.kind,e.tags,e.content])}(e))))}var ii=e=>e instanceof Object;function oi(e){if(!ii(e))return!1;if("number"!=typeof e.kind)return!1;if("string"!=typeof e.content)return!1;if("number"!=typeof e.created_at)return!1;if("string"!=typeof e.pubkey)return!1;if(!e.pubkey.match(/^[a-f0-9]{64}$/))return!1;if(!Array.isArray(e.tags))return!1;for(let t=0;t<e.tags.length;t++){let n=e.tags[t];if(!Array.isArray(n))return!1;for(let e=0;e<n.length;e++)if("object"==typeof n[e])return!1}return!0}function si(e){try{return lt.verify(e.sig,ri(e),e.pubkey)}catch(e){return!1}}function ai(e,t){if(e.ids&&-1===e.ids.indexOf(t.id)&&!e.ids.some((e=>t.id.startsWith(e))))return!1;if(e.kinds&&-1===e.kinds.indexOf(t.kind))return!1;if(e.authors&&-1===e.authors.indexOf(t.pubkey)&&!e.authors.some((e=>t.pubkey.startsWith(e))))return!1;for(let n in e)if("#"===n[0]){let r=e[`#${n.slice(1)}`];if(r&&!t.tags.find((([e,t])=>e===n.slice(1)&&-1!==r.indexOf(t))))return!1}return!(e.since&&t.created_at<e.since||e.until&&t.created_at>e.until)}function ci(e,t){let n=t.length+3,r=e.indexOf(`"${t}":`)+n,i=e.slice(r).indexOf('"')+r+1;return e.slice(i,i+64)}function hi(e,t){let n=t.length,r=e.indexOf(`"${t}":`)+n+3,i=e.slice(r),o=Math.min(i.indexOf(","),i.indexOf("}"));return parseInt(i.slice(0,o),10)}function li(e){let t=e.slice(0,22).indexOf('"EVENT"');if(-1===t)return null;let n=e.slice(t+7+1).indexOf('"');if(-1===n)return null;let r=t+7+1+n,i=e.slice(r+1,80).indexOf('"');if(-1===i)return null;let o=r+1+i;return e.slice(r+1,o)}function ui(e,t){return t===ci(e,"id")}function di(e,t){return t===ci(e,"pubkey")}function fi(e,t){return t===hi(e,"kind")}function pi(e,t={}){let{listTimeout:n=3e3,getTimeout:r=3e3,countTimeout:i=3e3}=t;var o,s,a={},c={connect:[],disconnect:[],error:[],notice:[],auth:[]},h={},l={};function u(){return 1===o?.readyState}async function d(e){let t=JSON.stringify(e);if(u()||(await new Promise((e=>setTimeout(e,1e3))),u()))try{o.send(t)}catch(e){console.log(e)}}const f=(e,{verb:t="REQ",skipVerification:n=!1,alreadyHaveEvent:r=null,id:i=Math.random().toString().slice(2)}={})=>{let o=i;return a[o]={id:o,filters:e,skipVerification:n,alreadyHaveEvent:r},d([t,o,...e]),{sub:(t,i={})=>f(t||e,{skipVerification:i.skipVerification||n,alreadyHaveEvent:i.alreadyHaveEvent||r,id:o}),unsub:()=>{delete a[o],delete h[o],d(["CLOSE",o])},on:(e,t)=>{h[o]=h[o]||{event:[],count:[],eose:[]},h[o][e].push(t)},off:(e,t)=>{let n=h[o],r=n[e].indexOf(t);r>=0&&n[e].splice(r,1)}}};function p(e,t){if(!e.id)throw new Error(`event ${e} has no id`);let n=e.id;return d([t,e]),{on:(e,t)=>{l[n]=l[n]||{ok:[],failed:[]},l[n][e].push(t)},off:(e,t)=>{let r=l[n];if(!r)return;let i=r[e].indexOf(t);i>=0&&r[e].splice(i,1)}}}return{url:e,sub:f,on:(e,t)=>{c[e].push(t),"connect"===e&&1===o?.readyState&&t()},off:(e,t)=>{let n=c[e].indexOf(t);-1!==n&&c[e].splice(n,1)},list:(e,t)=>new Promise((r=>{let i=f(e,t),o=[],s=setTimeout((()=>{i.unsub(),r(o)}),n);i.on("eose",(()=>{i.unsub(),clearTimeout(s),r(o)})),i.on("event",(e=>{o.push(e)}))})),get:(e,t)=>new Promise((n=>{let i=f([e],t),o=setTimeout((()=>{i.unsub(),n(null)}),r);i.on("event",(e=>{i.unsub(),clearTimeout(o),n(e)}))})),count:e=>new Promise((t=>{let n=f(e,{...f,verb:"COUNT"}),r=setTimeout((()=>{n.unsub(),t(null)}),i);n.on("count",(e=>{n.unsub(),clearTimeout(r),t(e)}))})),publish:e=>p(e,"EVENT"),auth:e=>p(e,"AUTH"),connect:async function(){u()||await async function(){return s||(s=new Promise(((t,n)=>{try{o=new WebSocket(e)}catch(e){n(e)}o.onopen=()=>{c.connect.forEach((e=>e())),t()},o.onerror=()=>{s=void 0,c.error.forEach((e=>e())),n()},o.onclose=async()=>{s=void 0,c.disconnect.forEach((e=>e()))};let r,i=new ti;function u(){if(0===i.size)return clearInterval(r),void(r=null);var t=i.dequeue();if(!t)return;let n=li(t);if(n){let r=a[n];if(r&&r.alreadyHaveEvent&&r.alreadyHaveEvent(ci(t,"id"),e))return}try{let e=JSON.parse(t);switch(e[0]){case"EVENT":{let t=e[1],n=e[2];return void(oi(n)&&a[t]&&(a[t].skipVerification||si(n))&&function(e,t){for(let n=0;n<e.length;n++)if(ai(e[n],t))return!0;return!1}(a[t].filters,n)&&(a[t],(h[t]?.event||[]).forEach((e=>e(n)))))}case"COUNT":let t=e[1],n=e[2];return void(a[t]&&(h[t]?.count||[]).forEach((e=>e(n))));case"EOSE":{let t=e[1];return void(t in h&&(h[t].eose.forEach((e=>e())),h[t].eose=[]))}case"OK":{let t=e[1],n=e[2],r=e[3]||"";return void(t in l&&(n?l[t].ok.forEach((e=>e())):l[t].failed.forEach((e=>e(r))),l[t].ok=[],l[t].failed=[]))}case"NOTICE":let r=e[1];return void c.notice.forEach((e=>e(r)));case"AUTH":{let t=e[1];return void c.auth?.forEach((e=>e(t)))}}}catch(e){return}}o.onmessage=e=>{i.enqueue(e.data),r||(r=setInterval(u,0))}})),s)}()},close(){c={connect:[],disconnect:[],error:[],notice:[],auth:[]},h={},l={},o.readyState===WebSocket.OPEN&&o?.close()},get status(){return o?.readyState??3}}}Gr({},{getHex64:()=>ci,getInt:()=>hi,getSubscriptionId:()=>li,matchEventId:()=>ui,matchEventKind:()=>fi,matchEventPubkey:()=>di});var yi={};Gr(yi,{BECH32_REGEX:()=>wi,decode:()=>bi,naddrEncode:()=>Si,neventEncode:()=>Bi,noteEncode:()=>Ei,nprofileEncode:()=>Ai,npubEncode:()=>xi,nrelayEncode:()=>Hi,nsecEncode:()=>vi});var gi=5e3,wi=/[\x21-\x7E]{1,83}1[023456789acdefghjklmnpqrstuvwxyz]{6,}/;function bi(e){let{prefix:t,words:n}=Lt.decode(e,gi),r=new Uint8Array(Lt.fromWords(n));switch(t){case"nprofile":{let e=mi(r);if(!e[0]?.[0])throw new Error("missing TLV 0 for nprofile");if(32!==e[0][0].length)throw new Error("TLV 0 should be 32 bytes");return{type:"nprofile",data:{pubkey:C(e[0][0]),relays:e[1]?e[1].map((e=>Zr.decode(e))):[]}}}case"nevent":{let e=mi(r);if(!e[0]?.[0])throw new Error("missing TLV 0 for nevent");if(32!==e[0][0].length)throw new Error("TLV 0 should be 32 bytes");if(e[2]&&32!==e[2][0].length)throw new Error("TLV 2 should be 32 bytes");return{type:"nevent",data:{id:C(e[0][0]),relays:e[1]?e[1].map((e=>Zr.decode(e))):[],author:e[2]?.[0]?C(e[2][0]):void 0}}}case"naddr":{let e=mi(r);if(!e[0]?.[0])throw new Error("missing TLV 0 for naddr");if(!e[2]?.[0])throw new Error("missing TLV 2 for naddr");if(32!==e[2][0].length)throw new Error("TLV 2 should be 32 bytes");if(!e[3]?.[0])throw new Error("missing TLV 3 for naddr");if(4!==e[3][0].length)throw new Error("TLV 3 should be 4 bytes");return{type:"naddr",data:{identifier:Zr.decode(e[0][0]),pubkey:C(e[2][0]),kind:parseInt(C(e[3][0]),16),relays:e[1]?e[1].map((e=>Zr.decode(e))):[]}}}case"nrelay":{let e=mi(r);if(!e[0]?.[0])throw new Error("missing TLV 0 for nrelay");return{type:"nrelay",data:Zr.decode(e[0][0])}}case"nsec":case"npub":case"note":return{type:t,data:C(r)};default:throw new Error(`unknown prefix ${t}`)}}function mi(e){let t={},n=e;for(;n.length>0;){let e=n[0],r=n[1];if(!r)throw new Error(`malformed TLV ${e}`);let i=n.slice(2,2+r);if(n=n.slice(2+r),i.length<r)throw new Error(`not enough data to read on TLV ${e}`);t[e]=t[e]||[],t[e].push(i)}return t}function vi(e){return _i("nsec",e)}function xi(e){return _i("npub",e)}function Ei(e){return _i("note",e)}function ki(e,t){let n=Lt.toWords(t);return Lt.encode(e,n,gi)}function _i(e,t){return ki(e,T(t))}function Ai(e){return ki("nprofile",Ii({0:[T(e.pubkey)],1:(e.relays||[]).map((e=>Xr.encode(e)))}))}function Bi(e){return ki("nevent",Ii({0:[T(e.id)],1:(e.relays||[]).map((e=>Xr.encode(e))),2:e.author?[T(e.author)]:[]}))}function Si(e){let t=new ArrayBuffer(4);return new DataView(t).setUint32(0,e.kind,!1),ki("naddr",Ii({0:[Xr.encode(e.identifier)],1:(e.relays||[]).map((e=>Xr.encode(e))),2:[T(e.pubkey)],3:[new Uint8Array(t)]}))}function Hi(e){return ki("nrelay",Ii({0:[Xr.encode(e)]}))}function Ii(e){let t=[];return Object.entries(e).forEach((([e,n])=>{n.forEach((n=>{let r=new Uint8Array(n.length+2);r.set([parseInt(e)],0),r.set([n.length],1),r.set(n,2),t.push(r)}))})),N(...t)}var Li={};async function Ui(e,t,n){const r=Ci(We.getSharedSecret(e,"02"+t));let i=Uint8Array.from(D(16)),o=Xr.encode(n),s=await crypto.subtle.importKey("raw",r,{name:"AES-CBC"},!1,["encrypt"]),a=await crypto.subtle.encrypt({name:"AES-CBC",iv:i},s,o);return`${kt.encode(new Uint8Array(a))}?iv=${kt.encode(new Uint8Array(i.buffer))}`}async function Ri(e,t,n){let[r,i]=n.split("?iv="),o=Ci(We.getSharedSecret(e,"02"+t)),s=await crypto.subtle.importKey("raw",o,{name:"AES-CBC"},!1,["decrypt"]),a=kt.decode(r),c=kt.decode(i),h=await crypto.subtle.decrypt({name:"AES-CBC",iv:c},s,a);return Zr.decode(h)}function Ci(e){return e.slice(1,33)}Gr(Li,{decrypt:()=>Ri,encrypt:()=>Ui}),"undefined"!=typeof crypto&&!crypto.subtle&&crypto.webcrypto&&(crypto.subtle=crypto.webcrypto.subtle),Gr({},{NIP05_REGEX:()=>Oi,queryProfile:()=>Pi,searchDomain:()=>$i,useFetchImplementation:()=>Ni});var Ti,Oi=/^(?:([\w.+-]+)@)?([\w.-]+)$/;try{Ti=fetch}catch{}function Ni(e){Ti=e}async function $i(e,t=""){try{return(await(await Ti(`https://${e}/.well-known/nostr.json?name=${t}`)).json()).names}catch(e){return{}}}async function Pi(e){const t=e.match(Oi);if(!t)return null;const[n,r="_",i]=t;try{const e=await Ti(`https://${i}/.well-known/nostr.json?name=${r}`),{names:t,relays:n}=function(e){const t={names:{}};for(const[n,r]of Object.entries(e.names))"string"==typeof n&&"string"==typeof r&&(t.names[n]=r);if(e.relays){t.relays={};for(const[n,r]of Object.entries(e.relays))"string"==typeof n&&Array.isArray(r)&&(t.relays[n]=r.filter((e=>"string"==typeof e)))}return t}(await e.json()),o=t[r];return o?{pubkey:o,relays:n?.[o]}:null}catch(e){return null}}function Di(e,t){let n=Mr.fromMasterSeed(Un(e,t)).derive("m/44'/1237'/0'/0/0").privateKey;if(!n)throw new Error("could not derive private key");return C(n)}function zi(){return function(e,t=128){if($t.number(t),t%32!=0||t>256)throw new TypeError("Invalid entropy");return function(e,t){return Sn(e),In(t).encode(e).join(_n(t)?"　":" ")}(function(e=32){if(Pt&&"function"==typeof Pt.getRandomValues)return Pt.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}(t/8),e)}(Ut)}function ji(e){return function(e,t){try{!function(e,t){const{words:n}=Bn(e);Sn(In(t).decode(n))}(e,t)}catch(e){return!1}return!0}(e,Ut)}function qi(e){const t={reply:void 0,root:void 0,mentions:[],profiles:[]},n=[];for(const r of e.tags)"e"===r[0]&&r[1]&&n.push(r),"p"===r[0]&&r[1]&&t.profiles.push({pubkey:r[1],relays:r[2]?[r[2]]:[]});for(let e=0;e<n.length;e++){const r=n[e],[i,o,s,a]=r,c={id:o,relays:s?[s]:[]},h=0===e,l=e===n.length-1;"root"!==a?"reply"!==a?"mention"!==a?h?t.root=c:l?t.reply=c:t.mentions.push(c):t.mentions.push(c):t.reply=c:t.root=c}return t}function Ki(e){return function(e){let t,n,r;for(n=0,t=0;n<e.length&&(r=Fi(e[n]),t+=r,8===r);n++);return t}(T(e))}function Fi(e){let t=0;if(0===e)return 8;for(;e>>=1;)t++;return 7-t}function Mi(e,t,n,r){return ni({kind:6,tags:[...e.tags??[],["e",t.id,n],["p",t.pubkey]],content:""===e.content?"":JSON.stringify(t),created_at:e.created_at},r)}function Wi(e){if(6!==e.kind)return;let t,n;for(let r=e.tags.length-1;r>=0&&(void 0===t||void 0===n);r--){const i=e.tags[r];i.length>=2&&("e"===i[0]&&void 0===t?t=i:"p"===i[0]&&void 0===n&&(n=i))}return void 0!==t?{id:t[1],relays:[t[2],n?.[2]].filter((e=>"string"==typeof e)),author:n?.[1]}:void 0}function Gi(e,{skipVerification:t}={}){const n=Wi(e);if(void 0===n||""===e.content)return;let r;try{r=JSON.parse(e.content)}catch(e){return}return r.id===n.id&&(t||si(r))?r:void 0}Gr({},{generateSeedWords:()=>zi,privateKeyFromSeedWords:()=>Di,validateWords:()=>ji}),Gr({},{parse:()=>qi}),Gr({},{getPow:()=>Ki}),Gr({},{finishRepostEvent:()=>Mi,getRepostedEvent:()=>Gi,getRepostedEventPointer:()=>Wi}),Gr({},{NOSTR_URI_REGEX:()=>Vi,parse:()=>Xi,test:()=>Zi});var Vi=new RegExp(`nostr:(${wi.source})`);function Zi(e){return"string"==typeof e&&new RegExp(`^${Vi.source}$`).test(e)}function Xi(e){const t=e.match(new RegExp(`^${Vi.source}$`));if(!t)throw new Error(`Invalid Nostr URI: ${e}`);return{uri:t[0],value:t[1],decoded:bi(t[1])}}function Ji(e,t,n){const r=t.tags.filter((e=>e.length>=2&&("e"===e[0]||"p"===e[0])));return ni({...e,kind:7,tags:[...e.tags??[],...r,["e",t.id],["p",t.pubkey]],content:e.content??"+"},n)}function Yi(e){if(7!==e.kind)return;let t,n;for(let r=e.tags.length-1;r>=0&&(void 0===t||void 0===n);r--){const i=e.tags[r];i.length>=2&&("e"===i[0]&&void 0===t?t=i:"p"===i[0]&&void 0===n&&(n=i))}return void 0!==t&&void 0!==n?{id:t[1],relays:[t[2],n[2]].filter((e=>void 0!==e)),author:n[1]}:void 0}function Qi(e,t){let n=[];(t.kind||-1)>=0&&n.push(`kind=${t.kind}`),t.until&&n.push(`created_at<${t.until}`),t.since&&n.push(`created_at>${t.since}`);let r=n.join("&");if(""===r)throw new Error("refusing to create a delegation without any conditions");let i=G(Xr.encode(`nostr:delegation:${t.pubkey}:${r}`)),o=C(lt.sign(i,e));return{from:Vr(e),to:t.pubkey,cond:r,sig:o}}function eo(e){let t=e.tags.find((e=>"delegation"===e[0]&&e.length>=4));if(!t)return null;let n=t[1],r=t[2],i=t[3],o=r.split("&");for(let t=0;t<o.length;t++){let[n,r,i]=o[t].split(/\b/);if(("kind"!==n||"="!==r||e.kind!==parseInt(i))&&!("created_at"===n&&"<"===r&&e.created_at<parseInt(i)||"created_at"===n&&">"===r&&e.created_at>parseInt(i)))return null}let s=G(Xr.encode(`nostr:delegation:${e.pubkey}:${r}`));return lt.verify(i,s,n)?n:null}Gr({},{finishReactionEvent:()=>Ji,getReactedEventPointer:()=>Yi}),Gr({},{createDelegation:()=>Qi,getDelegator:()=>eo}),Gr({},{matchAll:()=>ro,regex:()=>no,replaceAll:()=>io});var to,no=()=>new RegExp(`\\b${Vi.source}\\b`,"g");function*ro(e){const t=e.matchAll(no());for(const e of t)try{const[t,n]=e;yield{uri:t,value:n,decoded:bi(n),start:e.index,end:e.index+t.length}}catch(e){}}function io(e,t){return e.replaceAll(no(),((e,n)=>t({uri:e,value:n,decoded:bi(n)})))}Gr({},{useFetchImplementation:()=>oo,validateGithub:()=>so});try{to=fetch}catch{}function oo(e){to=e}async function so(e,t,n){try{return await(await to(`https://gist.github.com/${t}/${n}/raw`)).text()===`Verifying that I control the following Nostr public key: ${e}`}catch(e){return!1}}Gr({},{authenticate:()=>co});var ao,co=async({challenge:e,relay:t,sign:n})=>{const r={kind:22242,created_at:Math.floor(Date.now()/1e3),tags:[["relay",t.url],["challenge",e]],content:""},i=t.auth(await n(r));return new Promise(((e,t)=>{i.on("ok",(function t(){i.off("ok",t),e()})),i.on("failed",(function e(n){i.off("failed",e),t(n)}))}))};Gr({},{getZapEndpoint:()=>lo,makeZapReceipt:()=>po,makeZapRequest:()=>uo,useFetchImplementation:()=>ho,validateZapRequest:()=>fo});try{ao=fetch}catch{}function ho(e){ao=e}async function lo(e){try{let t="",{lud06:n,lud16:r}=JSON.parse(e.content);if(n){let{words:e}=Lt.decode(n,1e3),r=Lt.fromWords(e);t=Zr.decode(r)}else{if(!r)return null;{let[e,n]=r.split("@");t=`https://${n}/.well-known/lnurlp/${e}`}}let i=await ao(t),o=await i.json();if(o.allowsNostr&&o.nostrPubkey)return o.callback}catch(e){}return null}function uo({profile:e,event:t,amount:n,relays:r,comment:i=""}){if(!n)throw new Error("amount not given");if(!e)throw new Error("profile not given");let o={kind:9734,created_at:Math.round(Date.now()/1e3),content:i,tags:[["p",e],["amount",n.toString()],["relays",...r]]};return t&&o.tags.push(["e",t]),o}function fo(e){let t;try{t=JSON.parse(e)}catch(e){return"Invalid zap request JSON."}if(!oi(t))return"Zap request is not a valid Nostr event.";if(!si(t))return"Invalid signature on zap request.";let n=t.tags.find((([e,t])=>"p"===e&&t));if(!n)return"Zap request doesn't have a 'p' tag.";if(!n[1].match(/^[a-f0-9]{64}$/))return"Zap request 'p' tag is not valid hex.";let r=t.tags.find((([e,t])=>"e"===e&&t));if(r&&!r[1].match(/^[a-f0-9]{64}$/))return"Zap request 'e' tag is not valid hex.";let i=t.tags.find((([e,t])=>"relays"===e&&t));return i?null:"Zap request doesn't have a 'relays' tag."}function po({zapRequest:e,preimage:t,bolt11:n,paidAt:r}){let i=JSON.parse(e).tags.filter((([e])=>"e"===e||"p"===e||"a"===e)),o={kind:9735,created_at:Math.round(r.getTime()/1e3),content:"",tags:[...i,["bolt11",n],["description",e]]};return t&&o.tags.push(["preimage",t]),o}Gr({},{getToken:()=>go,validateToken:()=>wo});var yo="Nostr ";async function go(e,t,n,r=!1){if(!e||!t)throw new Error("Missing loginUrl or httpMethod");if("get"!==t&&"post"!==t)throw new Error("Unknown httpMethod");const i=function(e=255){return{kind:e,content:"",tags:[],created_at:0}}(27235);i.tags=[["u",e],["method",t]],i.created_at=Math.round((new Date).getTime()/1e3);const o=await n(i);return(r?yo:"")+kt.encode(Xr.encode(JSON.stringify(o)))}async function wo(e,t,n){if(!e)throw new Error("Missing token");e=e.replace(yo,"");const r=Zr.decode(kt.decode(e));if(!r||0===r.length||!r.startsWith("{"))throw new Error("Invalid token");const i=JSON.parse(r);if(!i)throw new Error("Invalid nostr event");if(!si(i))throw new Error("Invalid nostr event, signature invalid");if(27235!==i.kind)throw new Error("Invalid nostr event, kind invalid");if(!i.created_at)throw new Error("Invalid nostr event, created_at invalid");if(Math.round((new Date).getTime()/1e3)-i.created_at>60)throw new Error("Invalid nostr event, expired");const o=i.tags.find((e=>"u"===e[0]));if(1!==o?.length&&o?.[1]!==t)throw new Error("Invalid nostr event, url tag invalid");const s=i.tags.find((e=>"method"===e[0]));if(1!==s?.length&&s?.[1].toLowerCase()!==n.toLowerCase())throw new Error("Invalid nostr event, method tag invalid");return!0}function bo(){return bo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bo.apply(this,arguments)}class mo extends Error{constructor(e,t,n,r){let i=e.toString();t&&(i+=` ${t}`),i+=": ",i+=r.message?r.message:JSON.stringify(r),super(i),this.status=void 0,this.statusText=void 0,this.headers=void 0,this.error=void 0,this.status=e,this.statusText=t,this.headers=n,this.error=r}}const vo=["auth","endpoint","params","request_body","method","max_retries","base_url","user_agent","headers"],xo="https://api.getalby.com";async function Eo(e,t,n=0){const r=await fetch(e,t);if(429===r.status&&n>0){const i=Number(r.headers.get("x-rate-limit-reset")),o=Number(r.headers.get("x-rate-limit-remaining")),s=1e3*i-Date.now();let a=1e3;return 0===o&&(a=s),await new Promise((e=>setTimeout(e,a))),Eo(e,t,n-1)}return r}async function ko(e){let{auth:t,endpoint:n,params:r={},request_body:i,method:o,max_retries:s,base_url:a=xo,user_agent:c,headers:h}=e,l=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)t.indexOf(n=o[r])>=0||(i[n]=e[n]);return i}(e,vo);const u=new URL(a+n);u.search=function(e){return Object.entries(e).map((([e,t])=>e&&t?`${e}=${t}`:"")).filter((e=>e)).join("&")}(r);const d="POST"===o&&!!i,f=t?await t.getAuthHeader(u.href,o):void 0,p=await Eo(u.toString(),bo({headers:bo({},d?{"Content-Type":"application/json; charset=utf-8"}:void 0,f,h,{"User-Agent":null!=c?c:"@getalby/sdk","X-User-Agent":null!=c?c:"@getalby/sdk"}),method:o,body:d?JSON.stringify(i):void 0},l),s);if(!p.ok){const e=await p.json();throw new mo(p.status,p.statusText,p.headers,e)}return p}async function _o(e){return(await ko(e)).json()}class Ao{constructor(e){this.bearer_token=void 0,this.bearer_token=e}getAuthHeader(){return{Authorization:`Bearer ${this.bearer_token}`}}}const Bo={alby:{authorizationUrl:"https://nwc.getalby.com/apps/new",relayUrl:"wss://relay.getalby.com/v1",walletPubkey:"69effe7b49a6dd5cf525bd0905917a5005ffe480b58eeb8e861418cf3ae760d9"}},So={get_balance:"getBalance",make_invoice:"makeInvoice",pay_invoice:"sendPayment",lookup_invoice:"lookupInvoice"};class Ho{static parseWalletConnectUrl(e){e=e.replace("nostrwalletconnect://","http://").replace("nostr+walletconnect://","http://");const t=new URL(e),n={};n.walletPubkey=t.host;const r=t.searchParams.get("secret"),i=t.searchParams.get("relay");return r&&(n.secret=r),i&&(n.relayUrl=i),n}static withNewSecret(e){return(e=e||{}).secret=C(lt.utils.randomPrivateKey()),new Ho(e)}constructor(e){var t;this.relay=void 0,this.relayUrl=void 0,this.secret=void 0,this.walletPubkey=void 0,this.options=void 0,this.subscribers=void 0,e&&e.nostrWalletConnectUrl&&(e=bo({},Ho.parseWalletConnectUrl(e.nostrWalletConnectUrl),e));const n=Bo[(null==(t=e)?void 0:t.providerName)||"alby"];this.options=bo({},n,e||{}),this.relayUrl=this.options.relayUrl,this.relay=pi(this.relayUrl),this.options.secret&&(this.secret=this.options.secret.toLowerCase().startsWith("nsec")?yi.decode(this.options.secret).data:this.options.secret),this.walletPubkey=this.options.walletPubkey.toLowerCase().startsWith("npub")?yi.decode(this.options.walletPubkey).data:this.options.walletPubkey,this.subscribers={},void 0===globalThis.WebSocket&&console.error("WebSocket is undefined. Make sure to `import websocket-polyfill` for nodejs environments")}on(e,t){this.subscribers[e]=t}notify(e,t){const n=this.subscribers[e];n&&n(t)}getNostrWalletConnectUrl(e=!0){let t=`nostr+walletconnect://${this.walletPubkey}?relay=${this.relayUrl}&pubkey=${this.publicKey}`;return e&&(t=`${t}&secret=${this.secret}`),t}get nostrWalletConnectUrl(){return this.getNostrWalletConnectUrl()}get connected(){return 1===this.relay.status}get publicKey(){if(!this.secret)throw new Error("Missing secret key");return Vr(this.secret)}getPublicKey(){return Promise.resolve(this.publicKey)}signEvent(e){if(!this.secret)throw new Error("Missing secret key");return Promise.resolve(ni(e,this.secret))}getEventHash(e){return ri(e)}async enable(){if(this.connected)return Promise.resolve();await this.relay.connect()}close(){return this.relay.close()}async encrypt(e,t){if(!this.secret)throw new Error("Missing secret");return await Li.encrypt(this.secret,e,t)}async decrypt(e,t){if(!this.secret)throw new Error("Missing secret");return await Li.decrypt(this.secret,e,t)}async getInfo(){return{methods:["getInfo","sendPayment","makeInvoice","getBalance","lookupInvoice"],node:{},supports:["lightning"],version:"NWC"}}getBalance(){return this.checkConnected(),this.executeNip47Request("get_balance",void 0,(e=>void 0!==e.balance),(e=>({balance:Math.floor(e.balance/1e3),currency:"sats"})))}sendPayment(e){return this.checkConnected(),this.executeNip47Request("pay_invoice",{invoice:e},(e=>!!e.preimage),(e=>({preimage:e.preimage})))}keysend(e){throw new Error("Method not implemented.")}lnurl(e){throw new Error("Method not implemented.")}makeInvoice(e){var t;this.checkConnected();const n="object"==typeof e?e:void 0,r=+(null!=(t=null==n?void 0:n.amount)?t:e);if(!r)throw new Error("No amount specified");return this.executeNip47Request("make_invoice",{amount:1e3*r,description:null==n?void 0:n.defaultMemo},(e=>!!e.invoice),(e=>({paymentRequest:e.invoice})))}lookupInvoice(e){return this.checkConnected(),this.executeNip47Request("lookup_invoice",e,(e=>void 0!==e.invoice&&void 0!==e.paid),(e=>({paymentRequest:e.invoice,paid:e.paid})))}request(e,t){throw new Error("Method not implemented.")}signMessage(e){throw new Error("Method not implemented.")}verifyMessage(e,t){throw new Error("Method not implemented.")}getAuthorizationUrl(e){if(!this.options.authorizationUrl)throw new Error("Missing authorizationUrl option");const t=new URL(this.options.authorizationUrl);return null!=e&&e.name&&t.searchParams.set("c",null==e?void 0:e.name),t.searchParams.set("pubkey",this.publicKey),null!=e&&e.returnTo&&t.searchParams.set("return_to",e.returnTo),null!=e&&e.budgetRenewal&&t.searchParams.set("budget_renewal",e.budgetRenewal),null!=e&&e.expiresAt&&t.searchParams.set("expires_at",Math.floor(e.expiresAt.getTime()/1e3).toString()),null!=e&&e.maxAmount&&t.searchParams.set("max_amount",e.maxAmount.toString()),void 0!==(null==e?void 0:e.editable)&&t.searchParams.set("editable",e.editable.toString()),t}initNWC(e={}){e.name||(e.name=document.location.host);const t=this.getAuthorizationUrl(e),n=window.outerHeight/2+window.screenY-300,r=window.outerWidth/2+window.screenX-200;return new Promise(((e,i)=>{const o=window.open(t.toString(),`${document.title} - Wallet Connect`,`height=600,width=400,top=${n},left=${r}`);if(!o)return void i();const s=n=>{const r=n.data;r&&"nwc:success"===r.type&&n.origin===`${t.protocol}//${t.host}`&&(e(r),clearInterval(a),window.removeEventListener("message",s),o&&o.close())},a=setInterval((()=>{o&&o.closed&&(i(),clearInterval(a),window.removeEventListener("message",s))}),500);window.addEventListener("message",s)}))}checkConnected(){if(!this.connected)throw new Error("please call enable() and await the promise before calling this function")}executeNip47Request(e,t,n,r){var i=this;const o=So[e];return new Promise(((s,a)=>{!async function(){const c={method:e,params:t},h=await i.encrypt(i.walletPubkey,JSON.stringify(c)),l={kind:23194,created_at:Math.floor(Date.now()/1e3),tags:[["p",i.walletPubkey]],content:h,pubkey:i.publicKey},u=await i.signEvent(l),d=i.relay.sub([{kinds:[23195],authors:[i.walletPubkey],"#e":[u.id]}]),f=setTimeout((function(){d.unsub(),a({error:`reply timeout: event ${u.id}`,code:"INTERNAL"})}),6e4);d.on("event",(async function(e){clearTimeout(f),d.unsub();const t=await i.decrypt(i.walletPubkey,e.content);let c;try{c=JSON.parse(t)}catch(e){return void a({error:"invalid response",code:"INTERNAL"})}var h,l;23195==e.kind&&c.result?n(c.result)?(s(r(c.result)),i.notify(o,c.result)):a({error:"Response from NWC failed validation: "+JSON.stringify(c.result),code:"INTERNAL"}):a({error:null==(h=c.error)?void 0:h.message,code:null==(l=c.error)?void 0:l.code})}));const p=i.relay.publish(u),y=setTimeout((function(){a({error:`Publish timeout: event ${u.id}`})}),5e3);p.on("failed",(e=>{clearTimeout(y),a({error:`Failed to publish request: ${e}`})})),p.on("ok",(()=>{clearTimeout(y)}))}()}))}}const Io=Ho;function Lo(e){const t={};return e.recipient.customKey&&e.recipient.customValue&&(t[e.recipient.customKey]=e.recipient.customValue),t[7629169]=JSON.stringify(e.boostagram),{destination:e.recipient.address,amount:e.amount,customRecords:t}}class Uo{constructor(e,t){this.auth=void 0,this.defaultRequestOptions=void 0,this.auth="string"==typeof e?new Ao(e):e,this.defaultRequestOptions=bo({},t,{user_agent:null==t?void 0:t.user_agent})}accountBalance(e,t){return _o(bo({auth:this.auth},this.defaultRequestOptions,t,{endpoint:"/balance",params:e,method:"GET"}))}accountSummary(e,t){return _o(bo({auth:this.auth},this.defaultRequestOptions,t,{endpoint:"/user/summary",params:e,method:"GET"}))}accountInformation(e,t){return _o(bo({auth:this.auth},this.defaultRequestOptions,t,{endpoint:"/user/me",params:e,method:"GET"}))}accountValue4Value(e,t){return _o(bo({auth:this.auth},this.defaultRequestOptions,t,{endpoint:"/user/value4value",params:e,method:"GET"}))}incomingInvoices(e,t){return _o(bo({auth:this.auth},this.defaultRequestOptions,t,{endpoint:"/invoices/incoming",params:e,method:"GET"}))}outgoingInvoices(e,t){return _o(bo({auth:this.auth},this.defaultRequestOptions,t,{endpoint:"/invoices/outgoing",params:e,method:"GET"}))}getInvoice(e,t){return _o(bo({auth:this.auth},this.defaultRequestOptions,t,{endpoint:`/invoices/${e}`,method:"GET"}))}createInvoice(e,t){return _o(bo({auth:this.auth},this.defaultRequestOptions,t,{endpoint:"/invoices",request_body:e,method:"POST"}))}keysend(e,t){let n,r;return Array.isArray(e)?(n="/payments/keysend/multi",r={keysends:e}):(n="/payments/keysend",r=e),_o(bo({auth:this.auth},this.defaultRequestOptions,t,{endpoint:n,request_body:r,method:"POST"}))}sendPayment(e,t){return _o(bo({auth:this.auth},this.defaultRequestOptions,t,{endpoint:"/payments/bolt11",request_body:e,method:"POST"}))}sendBoostagram(e,t){let n,r;return Array.isArray(e)?(n="/payments/keysend/multi",r={keysends:e.map((e=>Lo(e)))}):(n="/payments/keysend",r=Lo(e)),_o(bo({auth:this.auth},this.defaultRequestOptions,t,{endpoint:n,request_body:r,method:"POST"}))}sendToAlbyAccount(e,t){return _o(bo({auth:this.auth},this.defaultRequestOptions,t,{endpoint:"/payments/keysend",request_body:{destination:"030a58b8653d32b99200a2334cfe913e51dc7d155aa0116c176657a4f1722677a3",customRecords:{696969:e.account},amount:e.amount,memo:e.memo},method:"POST"}))}createWebhookEndpoint(e,t){return _o(bo({auth:this.auth},this.defaultRequestOptions,t,{endpoint:"/webhook_endpoints",request_body:e,method:"POST"}))}deleteWebhookEndpoint(e,t){return _o(bo({auth:this.auth},this.defaultRequestOptions,t,{endpoint:`/webhook_endpoints/${e}`,method:"DELETE"}))}getSwapInfo(e){return _o(bo({auth:this.auth},this.defaultRequestOptions,e,{endpoint:"/swaps/info",method:"GET"}))}createSwap(e,t){return _o(bo({auth:this.auth},this.defaultRequestOptions,t,{endpoint:"/swaps",method:"POST",request_body:e}))}}var Ro,Co,To,Oo,No,$o,Po,Do,zo={__proto__:null,NostrWebLNProvider:Ho,NWC:Io,OauthWeblnProvider:class{constructor(e){this.client=void 0,this.auth=void 0,this.oauth=void 0,this.subscribers=void 0,this.isExecuting=void 0,this.auth=e.auth,this.client=new Uo(e.auth),this.oauth=!0,this.subscribers={},this.isExecuting=!1}on(e,t){this.subscribers[e]=t}notify(e,t){const n=this.subscribers[e];n&&n(t)}async enable(){var e;if(!this.isExecuting){if(null!=(e=this.auth.token)&&e.access_token)return{enabled:!0};if("undefined"==typeof window||void 0===window.document)throw new Error("Missing access token");try{this.isExecuting=!0,await this.openAuthorization()}finally{this.isExecuting=!1}}}async sendPayment(e){if(!this.isExecuting)try{this.isExecuting=!0;const t=await this.client.sendPayment({invoice:e});return this.notify("sendPayment",t),{preimage:t.payment_preimage}}catch(e){let t="Unknown Error";throw e instanceof Error&&(t=e.message),new Error(t)}finally{this.isExecuting=!1}}async keysend(e){if(!this.isExecuting)try{this.isExecuting=!0;const t=await this.client.keysend(e);return this.notify("keysend",t),{preimage:t.payment_preimage}}catch(e){let t="Unknown Error";throw e instanceof Error&&(t=e.message),new Error(t)}finally{this.isExecuting=!1}}async getInfo(){return{alias:"Alby"}}async makeInvoice(e){if(!this.isExecuting)try{this.isExecuting=!0;const t=await this.client.createInvoice({amount:parseInt(e.amount.toString()),description:e.defaultMemo});return this.notify("makeInvoice",t),{paymentRequest:t.payment_request}}catch(e){let t="Unknown Error";throw e instanceof Error&&(t=e.message),new Error(t)}finally{this.isExecuting=!1}}openAuthorization(){var e=this;const t=window.outerHeight/2+window.screenY-350,n=window.outerWidth/2+window.screenX-300,r=this.auth.generateAuthURL({code_challenge_method:"S256"});return new Promise(((i,o)=>{const s=window.open(r,`${document.title} - WebLN enable`,`height=700,width=600,top=${t},left=${n}`);let a=!1;window.addEventListener("message",(async function(t){const n=t.data;if(n&&"alby:oauth:success"===n.type&&t.origin===`${document.location.protocol}//${document.location.host}`&&!a){a=!0,console.info("Processing OAuth code response");const t=n.payload.code;try{await e.auth.requestAccessToken(t),e.client=new Uo(e.auth),s&&s.close(),e.notify("enable"),i({enabled:!0})}catch(e){console.error(e),o({enabled:!1})}}}))}))}}},jo=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))},qo=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(s=0)),s;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){s.label=a[1];break}if(6===a[0]&&s.label<i[1]){s.label=i[1],i=a;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(a);break}i[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},Ko=!1,Fo={CURRENT:0,BEST:0},Mo={GROUND:{WIDTH:Math.floor(74/3),HEIGHT:Math.floor(256/3)},PIPE:{WIDTH:92,HEIGHT:528}},Wo=0,Go=!1,Vo=!0,Zo="/zappy-bird",Xo={ground:Zo+"/assets/images/ground.png",background:Zo+"/assets/images/background.png",restart:Zo+"/assets/images/restart.png",play:Zo+"/assets/images/play.png",bird:Zo+"/assets/images/bird.png",pipeTop:Zo+"/assets/images/pipe-top.png",pipeBottom:Zo+"/assets/images/pipe-bottom.png"},Jo=document.getElementById("flappyBird"),Yo=Jo.getContext("2d"),Qo=c(Xo.restart),es=c(Xo.ground),ts=c(Xo.background),ns=c(Xo.bird),rs=c(Xo.pipeTop),is=c(Xo.pipeBottom),os=new class{constructor(e,t){this.address=void 0,this.options=void 0,this.username=void 0,this.domain=void 0,this.pubkey=void 0,this.lnurlpData=void 0,this.keysendData=void 0,this.nostrData=void 0,this.nostrPubkey=void 0,this.nostrRelays=void 0,this.webln=void 0,this.address=e,this.options={proxy:"https://lnaddressproxy.getalby.com",webln:globalThis.webln},this.options=Object.assign(this.options,t),this.parse(),this.webln=this.options.webln}parse(){const e=x.exec(this.address.toLowerCase());e&&(this.username=e[1],this.domain=e[2])}async fetch(){return this.options.proxy?this.fetchWithProxy():this.fetchWithoutProxy()}async fetchWithProxy(){const e=await fetch(`${this.options.proxy}/lightning-address-details?${new URLSearchParams({ln:this.address}).toString()}`),t=await e.json();this.parseResponse(t.lnurlp,t.keysend,t.nostr)}async fetchWithoutProxy(){if(!this.domain||!this.username)return;const e=await fetch(this.lnurlpUrl()),t=await fetch(this.keysendUrl()),n=await fetch(this.nostrUrl());let r,i,o;e.ok&&(r=await e.json()),t.ok&&(i=await t.json()),n.ok&&(o=await n.json()),this.parseResponse(r,i,o)}lnurlpUrl(){return`https://${this.domain}/.well-known/lnurlp/${this.username}`}keysendUrl(){return`https://${this.domain}/.well-known/keysend/${this.username}`}nostrUrl(){return`https://${this.domain}/.well-known/nostr.json?name=${this.username}`}async generateInvoice(e){let t;if(this.options.proxy){const n=await fetch(`${this.options.proxy}/generate-invoice?${new URLSearchParams(y({ln:this.address},e)).toString()}`);t=(await n.json()).invoice}else{if(!this.lnurlpData)throw new Error("No lnurlpData available. Please call fetch() first.");if(!this.lnurlpData.callback||!w(this.lnurlpData.callback))throw new Error("Valid callback does not exist in lnurlpData");const n=new URL(this.lnurlpData.callback);n.search=new URLSearchParams(e).toString();const r=await fetch(n);t=await r.json()}const n=t&&t.pr&&t.pr.toString();if(!n)throw new Error("Invalid pay service invoice");const r={pr:n};return t&&t.verify&&(r.verify=t.verify.toString()),new m(r)}async requestInvoice(e){if(!this.lnurlpData)throw new Error("No lnurlpData available. Please call fetch() first.");const t=1e3*e.satoshi,{commentAllowed:n,min:r,max:i}=this.lnurlpData;if(!b({amount:t,min:r,max:i}))throw new Error("Invalid amount");if(e.comment&&n&&n>0&&e.comment.length>n)throw new Error(`The comment length must be ${n} characters or fewer`);const o={amount:t.toString()};return e.comment&&(o.comment=e.comment),e.payerdata&&(o.payerdata=JSON.stringify(e.payerdata)),this.generateInvoice(o)}async boost(e,t=0){if(!this.keysendData)throw new Error("No keysendData available. Please call fetch() first.");const{destination:n,customKey:r,customValue:i}=this.keysendData;return(async(e,t)=>{let{boost:n,amount:r}=e;t||(t={});const i=t.webln||globalThis.webln;r||(r=Math.floor(n.value_msat/1e3));let o={destination:e.destination,amount:r,customRecords:{7629169:JSON.stringify(n)}};return e.customKey&&e.customValue&&(o.customRecords[e.customKey]=e.customValue),await i.enable(),await i.keysend(o)})({destination:n,customKey:r,customValue:i,amount:t,boost:e},{webln:this.webln})}async zapInvoice({satoshi:e,comment:t,relays:n,e:r},i={}){if(!this.lnurlpData)throw new Error("No lnurlpData available. Please call fetch() first.");if(!this.nostrPubkey)throw new Error("Nostr Pubkey is missing");const o=this.nostrPubkey,s=1e3*e,{allowsNostr:a,min:c,max:h}=this.lnurlpData;if(!b({amount:s,min:c,max:h}))throw new Error("Invalid amount");if(!a)throw new Error("Your provider does not support zaps");const l=await v({satoshi:s,comment:t,p:o,e:r,relays:n},i),u={amount:s.toString(),nostr:JSON.stringify(l)};return await this.generateInvoice(u)}async zap(e,t={}){const n=this.zapInvoice(e,t);if(!this.webln)throw new Error("WebLN not available");return await this.webln.enable(),this.webln.sendPayment((await n).paymentRequest)}parseResponse(e,t,n){e&&(this.lnurlpData=(e=>{if("payRequest"!==e.tag)throw new Error("Invalid pay service params");const t=(e.callback+"").trim();if(!w(t))throw new Error("Callback must be a valid url");const n=Math.ceil(Number(e.minSendable||0)),r=Math.floor(Number(e.maxSendable));if(!n||!r||n>r)throw new Error("Invalid pay service params");let i,o;try{i=JSON.parse(e.metadata+""),o=f(e.metadata+"").toString(d)}catch(e){i=[],o=f("[]").toString(d)}let s="",a="",c="";for(let e=0;e<i.length;e++){const[t,n]=i[e];switch(t){case"text/plain":a=n;break;case"text/identifier":c=n;break;case"image/png;base64":case"image/jpeg;base64":s="data:"+t+","+n}}let h,l=e.payerData;try{h=new URL(t).hostname}catch(e){}return{callback:t,fixed:n===r,min:n,max:r,domain:h,metadata:i,metadataHash:o,identifier:c,description:a,image:s,payerData:l,commentAllowed:Number(e.commentAllowed)||0,rawData:e,allowsNostr:e.allowsNostr||!1}})(e)),t&&(this.keysendData=(e=>{if("keysend"!==e.tag)throw new Error("Invalid keysend params");if("OK"!==e.status)throw new Error("Keysend status not OK");if(!("customKey"in e.customData[0])||"696969"!=e.customData[0].customKey)throw new Error("Unable to find customKey");if(!("customValue"in e.customData[0])||!e.customData[0].customValue)throw new Error("Unable to find customValue");if(!e.pubkey)throw new Error("Pubkey does not exist");return{destination:e.pubkey,customKey:e.customData[0].customKey,customValue:e.customData[0].customValue}})(t)),n&&([this.nostrData,this.nostrPubkey,this.nostrRelays]=function(e,t){let n,r;var i,o;return t&&e&&(n=null==(i=e.names)?void 0:i[t],r=n?null==(o=e.relays)?void 0:o[n]:void 0),[e,n,r]}(n,this.username))}}("zappybird2@getalby.com"),ss="",as=!1,cs=!1;window.addEventListener("bc:connected",(function(){cs=!0})),jo(void 0,void 0,void 0,(function(){return qo(this,(function(e){switch(e.label){case 0:return[4,os.fetch()];case 1:return e.sent(),[2]}}))}));var hs=0,ls=function(){return jo(void 0,void 0,void 0,(function(){var e,t;return qo(this,(function(n){switch(n.label){case 0:return[4,(e=new zo.NostrWebLNProvider({nostrWalletConnectUrl:"nostr+walletconnect://72341eb832a4724fa61e08f0627c4fcc7b9604d8a402624375b9876beb4ac954?relay=wss://relay.getalby.com/v1&secret=cbb40205fa859918f9667be19c7e5f62f1d2a698a37a85805e058a042e37d4fc"})).enable()];case 1:return n.sent(),[4,e.getBalance()];case 2:return t=n.sent(),hs=t.balance,e.close(),[2]}}))}))};ls();var us=function(e){void 0===e&&(e=!1),Go||((e||Oo.height+Oo.position.y+Oo.velocity>=No[0].position.y)&&(Oo.position.y=No[0].position.y-Oo.height,Oo.lose=!0),Go=!0,gs(Fo.CURRENT),setTimeout((function(){as=!0,document.body.style.cursor="pointer",document.getElementById("flappyBird").addEventListener("click",ps),ls()}),Vo?0:1e3))},ds=0,fs=function(){var e;Yo.clearRect(0,0,Co,To),$o.forEach((function(e){return e.draw()})),Go||(Wo>Mo.GROUND.WIDTH&&Wo%Mo.GROUND.WIDTH==0&&(e=new o({ctx:Yo,image:es,width:Mo.GROUND.WIDTH,height:Mo.GROUND.HEIGHT,x:No[No.length-1].position.x+Mo.GROUND.WIDTH,y:To-Mo.GROUND.HEIGHT}),No.push(e),No.splice(0,1)),Wo%25==0&&Oo.nextFrame(),No.forEach((function(e){return e.position.x-=Oo.speed})),Po.forEach((function(e){return e.position.x-=Oo.speed}))),Go&&Vo&&Math.random()<.005&&vs(),function(){for(var e=0,t=Do=Do.filter((function(e){return e.alive}));e<t.length;e++)t[e].draw()}();var t=Math.min(Do.map((function(e){return e.opacity})).reduce((function(e,t){return e+t}),0),1);if(Yo.fillStyle="rgba(0,0,0, ".concat(1-t,")"),Yo.fillRect(0,0,Co,To),Oo.stillness||Po.forEach((function(e){return e.draw()})),Oo.update(),Oo.stillness||(function(e){var t=To-Mo.PIPE.HEIGHT,n=Po[Po.length-1];n=n?n.position.x+Mo.PIPE.WIDTH+20:Math.max(Math.floor(.75*Co),To);var r=new u({ctx:Yo,position:{x:n,y:t+e},state:"bottom",image:is}),i=new u({ctx:Yo,position:{x:n,y:r.position.y-Mo.PIPE.HEIGHT-225},state:"top",image:rs});Po.push(r,i)}(Math.floor(100*Math.random())+300),Po.forEach((function(e){Oo.position.x,e.position.x,e.width,("bottom"===e.state&&Oo.position.y>=e.position.y||"top"===e.state&&Oo.position.y+.5*Oo.height<=e.position.y+e.height)&&Oo.position.x>=e.position.x-Oo.width&&Oo.position.x<=e.position.x+e.width&&us()})),ws()),No.forEach((function(e){return e.draw()})),Oo.height+Oo.position.y+Oo.velocity>=No[0].position.y&&us(!0),Oo.stillness,Wo+=Oo.speed,Yo.fillStyle="rgba(0,0,0, ".concat(.2*(1-t),")"),Yo.fillRect(0,0,Co,To),Go&&Vo){var n="ZAPPY BIRD";Yo.font="64px FlappyBird",Yo.fillStyle="white";var r=Yo.measureText(n),i=Co/2-r.width/2,s=200;Yo.strokeStyle="rgb(0, 0, 0)",Yo.lineWidth=0,Yo.strokeText(n,i,s),Yo.fillText(n,i,s),n=cs?"TAP TO START":"CONNECT WALLET TO PLAY",Yo.font="28px FlappyBird",Yo.fillStyle="white",r=Yo.measureText(n),i=Co/2-r.width/2,s=300,Yo.strokeStyle="rgb(0, 0, 0)",Yo.lineWidth=0,Yo.strokeText(n,i,s),Yo.fillText(n,i,s),["1 sat per jump once you enter the pipes","make sure you have sufficient balance to play"].map((function(e,t){Yo.font="12px Helvetica",Yo.fillStyle="white";var n=Yo.measureText(e),r=Co/2-n.width/2,i=520+20*t;Yo.strokeStyle="rgb(0, 0, 0)",Yo.lineWidth=0,Yo.strokeText(e,r,i),Yo.fillText(e,r,i)}))}if(Go&&(n=hs>0?"PRIZE POOL: ".concat(hs," SATS"):"PRIZE POOL LOADING...",Yo.font="28px FlappyBird",Yo.fillStyle="white",r=Yo.measureText(n),i=Co/2-r.width/2,s=480,Yo.strokeStyle="rgb(0, 0, 0)",Yo.lineWidth=0,Yo.strokeText(n,i,s),Yo.fillText(n,i,s)),Go&&!Vo){as&&xs(),Yo.font="64px FlappyBird",Yo.fillStyle="white",r=Yo.measureText(ss),i=Co/2-r.width/2,s=200,Yo.strokeStyle="rgb(0, 0, 0)",Yo.lineWidth=0,Yo.strokeText(ss,i,s),Yo.fillText(ss,i,s);var a="SCORE: "+Fo.CURRENT;Yo.font="44px FlappyBird",r=Yo.measureText(a),i=Co/2-r.width/2,s=260,Yo.strokeStyle="rgb(0, 0, 0)",Yo.lineWidth=8,Yo.strokeText(a,i,s),Yo.fillStyle="rgb(255, 255, 255)",Yo.fillText(a,i,s),a="BEST: "+Fo.BEST,Yo.font="32px FlappyBird",r=Yo.measureText(a),i=Co/2-r.width/2,s=400,Yo.strokeStyle="rgb(0, 0, 0)",Yo.lineWidth=8,Yo.strokeText(a,i,s),Yo.fillStyle="rgb(255, 255, 255)",Yo.fillText(a,i,s),["screenshot and tag #zappybird","for the chance to win"].forEach((function(e,t){Yo.font="14px Helvetica";var n=Yo.measureText(e),r=Co/2-n.width/2,i=500+20*t;Yo.strokeStyle="rgb(148, 87, 235)",Yo.lineWidth=2,Yo.strokeText(e,r,i),Yo.fillStyle="rgb(255, 255, 255)",Yo.fillText(e,r,i)}))}var c=Date.now()-ds;c>16&&console.warn("Zappy bird is running slowly ("+c+"ms behind)"),setTimeout((function(){Ro=requestAnimationFrame(fs),ds+=16}),Math.max(16-c,0))},ps=function(){return jo(void 0,void 0,void 0,(function(){var e,t,n;return qo(this,(function(r){switch(r.label){case 0:e=!1,r.label=1;case 1:if(r.trys.push([1,3,,4]),!window.webln)throw new Error("No WebLN");return[4,null===(n=window.webln)||void 0===n?void 0:n.enable()];case 2:return r.sent(),e=!0,[3,4];case 3:return t=r.sent(),console.error(t),[3,4];case 4:return e?(Vo=!1,as=!1,document.getElementById("flappyBird").removeEventListener("click",ps),document.body.style.cursor="default",ss="#"+Array.from(Array(7),(function(){return Math.floor(10*Math.random())})).join("").toUpperCase(),ys(),bs(),[2]):(alert("Please connect your lightning wallet"),[2])}}))}))},ys=function(){Wo=0,Fo.CURRENT=0,Oo&&(Oo.lose=!1),Go=!1,Po=[],No=[],($o=[]).push(new a({ctx:Yo,image:ts,width:Co,height:To-Mo.GROUND.HEIGHT,x:-1,y:-1})),function(){for(var e=Math.floor(Co/Mo.GROUND.WIDTH)+10,t=0;t<e;t++){var n=new o({ctx:Yo,image:es,width:Mo.GROUND.WIDTH,height:Mo.GROUND.HEIGHT,x:t*Mo.GROUND.WIDTH,y:To-Mo.GROUND.HEIGHT});No.push(n)}}(),$o.forEach((function(e){return e.draw()})),No.forEach((function(e){return e.draw()})),(Oo=new r({ctx:Yo,screenX:Co,screenY:To,speed:4,g:0,image:ns})).draw(),ws(),Do=[],Ro||(ds=Date.now(),fs())},gs=function(e){Fo.BEST>=Fo.CURRENT||(localStorage.setItem("best-score",h(e)),Fo.BEST=e)},ws=function(){if(!Go){var e="".concat(Fo.CURRENT);Yo.font="44px FlappyBird";var t=Yo.measureText(e),n=Co/2-t.width/2;Yo.strokeStyle="rgb(0, 0, 0)",Yo.lineWidth=8,Yo.strokeText(e,n,120),Yo.fillStyle="rgb(255, 255, 255)",Yo.fillText(e,n,120)}},bs=function(){Go||(Oo.stillness?(Oo.stillness=!1,Oo.gravity=.4):ms(),Oo.velocity=-8,Ko=!0)},ms=function(){return jo(void 0,void 0,void 0,(function(){var e,t;return qo(this,(function(n){switch(n.label){case 0:if(!Po.some((function(e){return Oo.position.x>=e.position.x})))return[2];n.label=1;case 1:return n.trys.push([1,4,,5]),[4,os.requestInvoice({satoshi:1,comment:"zappy bird - "+ss})];case 2:return e=n.sent(),[4,window.webln.sendPayment(e.paymentRequest)];case 3:if(!n.sent().preimage)throw new Error("No preimage received");return++Fo.CURRENT,vs(),[3,5];case 4:return t=n.sent(),console.error("Lightning payment failed",t),[3,5];case 5:return[2]}}))}))},vs=function(){Do.push(new _({ctx:Yo,width:Co,height:To,groundHeight:Mo.GROUND.HEIGHT}))},xs=function(){Yo.drawImage(Qo,Co/2-71,300,142,50)};Jo.addEventListener("mousedown",bs),document.addEventListener("keypress",(function(e){var t=e.keyCode;[32,38].includes(t)&&!Ko&&(Oo.lose?as&&ps():bs())})),document.addEventListener("keyup",(function(e){var t=e.keyCode;[32,38].includes(t)&&(Ko=!1)})),Jo.addEventListener("mouseup",(function(){Ko=!1})),document.addEventListener("DOMContentLoaded",(function(){Co=window.innerWidth,To=window.innerHeight,Jo.width=Co,Jo.height=To,function(){try{Fo.CURRENT=0;var e=localStorage.getItem("best-score");e?e=parseInt(e,32):(localStorage.setItem("best-score",h(0)),e=0),Fo.BEST=e}catch(e){Fo.CURRENT=0,Fo.BEST=0}}(),ys(),us(),setTimeout((function(){return vs()}),1e3)}))})()})();